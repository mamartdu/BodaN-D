(self.webpackChunkbodaNyD=self.webpackChunkbodaNyD||[]).push([[792],{958:(Ha,Va,se)=>{"use strict";function Be(e){return"function"==typeof e}function Kn(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const no=Kn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ro(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ie{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Be(r))try{r()}catch(o){t=o instanceof no?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{bn(o)}catch(a){t=t??[],a instanceof no?t=[...t,...a.errors]:t.push(a)}}if(t)throw new no(t)}}add(t){var n;if(t&&t!==this)if(this.closed)bn(t);else{if(t instanceof ie){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ro(n,t)}remove(t){const{_finalizers:n}=this;n&&ro(n,t),t instanceof ie&&t._removeParent(this)}}ie.EMPTY=(()=>{const e=new ie;return e.closed=!0,e})();const lr=ie.EMPTY;function Ri(e){return e instanceof ie||e&&"closed"in e&&Be(e.remove)&&Be(e.add)&&Be(e.unsubscribe)}function bn(e){Be(e)?e():e.unsubscribe()}const nn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ti={setTimeout(e,t,...n){const{delegate:r}=ti;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ti;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function On(e){ti.setTimeout(()=>{const{onUnhandledError:t}=nn;if(!t)throw e;t(e)})}function io(){}const Ua=so("C",void 0,void 0);function so(e,t,n){return{kind:e,value:t,error:n}}let fr=null;function Mi(e){if(nn.useDeprecatedSynchronousErrorHandling){const t=!fr;if(t&&(fr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=fr;if(fr=null,n)throw r}}else e()}class ao extends ie{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ri(t)&&t.add(this)):this.destination=Wn}static create(t,n,r){return new qt(t,n,r)}next(t){this.isStopped?uo(function Pe(e){return so("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?uo(function z(e){return so("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?uo(Ua,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ni=Function.prototype.bind;function Gn(e,t){return Ni.call(e,t)}class rn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ni(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ni(r)}else ni(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ni(n)}}}class qt extends ao{constructor(t,n,r){let i;if(super(),Be(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&nn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Gn(t.next,o),error:t.error&&Gn(t.error,o),complete:t.complete&&Gn(t.complete,o)}):i=t}this.destination=new rn(i)}}function ni(e){nn.useDeprecatedSynchronousErrorHandling?function oo(e){nn.useDeprecatedSynchronousErrorHandling&&fr&&(fr.errorThrown=!0,fr.error=e)}(e):On(e)}function uo(e,t){const{onStoppedNotification:n}=nn;n&&ti.setTimeout(()=>n(e,t))}const Wn={closed:!0,next:io,error:function Tl(e){throw e},complete:io},co="function"==typeof Symbol&&Symbol.observable||"@@observable";function Zn(e){return e}function $a(e){return 0===e.length?Zn:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let ft=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function _l(e){return e&&e instanceof ao||function Pi(e){return e&&Be(e.next)&&Be(e.error)&&Be(e.complete)}(e)&&Ri(e)}(n)?n:new qt(n,r,i);return Mi(()=>{const{operator:a,source:f}=this;o.add(a?a.call(o,f):f?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=qa(r))((i,o)=>{const a=new qt({next:f=>{try{n(f)}catch(d){o(d),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[co](){return this}pipe(...n){return $a(n)(this)}toPromise(n){return new(n=qa(n))((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return e.create=t=>new e(t),e})();function qa(e){var t;return null!==(t=e??nn.Promise)&&void 0!==t?t:Promise}const Rl=Kn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let hn=(()=>{class e extends ft{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new za(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Rl}next(n){Mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?lr:(this.currentObservers=null,o.push(n),new ie(()=>{this.currentObservers=null,ro(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new ft;return n.source=this,n}}return e.create=(t,n)=>new za(t,n),e})();class za extends hn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:lr}}function Ka(e){return Be(e?.lift)}function pt(e){return t=>{if(Ka(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function gt(e,t,n,r,i){return new Ml(e,t,n,r,i)}class Ml extends ao{constructor(t,n,r,i,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(f){try{n(f)}catch(d){t.error(d)}}:super._next,this._error=i?function(f){try{i(f)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(f){t.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function He(e,t){return pt((n,r)=>{let i=0;n.subscribe(gt(r,o=>{r.next(e.call(t,o,i++))}))})}function Xn(e){return this instanceof Xn?(this.v=e,this):new Xn(e)}function Xa(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function po(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(f,d){!function i(o,a,f,d){Promise.resolve(d).then(function(D){o({value:D,done:f})},a)}(f,d,(a=e[o](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const vo=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ya(e){return Be(e?.then)}function Qa(e){return Be(e[co])}function eu(e){return Symbol.asyncIterator&&Be(e?.[Symbol.asyncIterator])}function tu(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const nu=function tf(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ru(e){return Be(e?.[nu])}function iu(e){return function Za(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",function a(H){return function(W){return Promise.resolve(W).then(H,N)}}),i[Symbol.asyncIterator]=function(){return this},i;function f(H,W){r[H]&&(i[H]=function(X){return new Promise(function(te,re){o.push([H,X,te,re])>1||d(H,X)})},W&&(i[H]=W(i[H])))}function d(H,W){try{!function D(H){H.value instanceof Xn?Promise.resolve(H.value.v).then(A,N):B(o[0][2],H)}(r[H](W))}catch(X){B(o[0][3],X)}}function A(H){d("next",H)}function N(H){d("throw",H)}function B(H,W){H(W),o.shift(),o.length&&d(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Xn(n.read());if(i)return yield Xn(void 0);yield yield Xn(r)}}finally{n.releaseLock()}})}function su(e){return Be(e?.getReader)}function sn(e){if(e instanceof ft)return e;if(null!=e){if(Qa(e))return function nf(e){return new ft(t=>{const n=e[co]();if(Be(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(vo(e))return function rf(e){return new ft(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Ya(e))return function sf(e){return new ft(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,On)})}(e);if(eu(e))return ou(e);if(ru(e))return function af(e){return new ft(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(su(e))return function uf(e){return ou(iu(e))}(e)}throw tu(e)}function ou(e){return new ft(t=>{(function cf(e,t){var n,r,i,o;return function Ga(e,t,n,r){return new(n||(n=Promise))(function(o,a){function f(A){try{D(r.next(A))}catch(N){a(N)}}function d(A){try{D(r.throw(A))}catch(N){a(N)}}function D(A){A.done?o(A.value):function i(o){return o instanceof n?o:new n(function(a){a(o)})}(A.value).then(f,d)}D((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Xa(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function kn(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function bt(e,t,n=1/0){return Be(t)?bt((r,i)=>He((o,a)=>t(r,o,i,a))(sn(e(r,i))),n):("number"==typeof t&&(n=t),pt((r,i)=>function lf(e,t,n,r,i,o,a,f){const d=[];let D=0,A=0,N=!1;const B=()=>{N&&!d.length&&!D&&t.complete()},H=X=>D<r?W(X):d.push(X),W=X=>{o&&t.next(X),D++;let te=!1;sn(n(X,A++)).subscribe(gt(t,re=>{i?.(re),o?H(re):t.next(re)},()=>{te=!0},void 0,()=>{if(te)try{for(D--;d.length&&D<r;){const re=d.shift();a?kn(t,a,()=>W(re)):W(re)}B()}catch(re){t.error(re)}}))};return e.subscribe(gt(t,H,()=>{N=!0,B()})),()=>{f?.()}}(r,i,e,n)))}function Pr(e=1/0){return bt(Zn,e)}const Cn=new ft(e=>e.complete());function yo(e){return e[e.length-1]}function ii(e){return function au(e){return e&&Be(e.schedule)}(yo(e))?e.pop():void 0}function uu(e,t=0){return pt((n,r)=>{n.subscribe(gt(r,i=>kn(r,e,()=>r.next(i),t),()=>kn(r,e,()=>r.complete(),t),i=>kn(r,e,()=>r.error(i),t)))})}function pr(e,t=0){return pt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function cu(e,t){if(!e)throw new Error("Iterable cannot be null");return new ft(n=>{kn(n,t,()=>{const r=e[Symbol.asyncIterator]();kn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Et(e,t){return t?function yf(e,t){if(null!=e){if(Qa(e))return function hf(e,t){return sn(e).pipe(pr(t),uu(t))}(e,t);if(vo(e))return function gf(e,t){return new ft(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Ya(e))return function pf(e,t){return sn(e).pipe(pr(t),uu(t))}(e,t);if(eu(e))return cu(e,t);if(ru(e))return function mf(e,t){return new ft(n=>{let r;return kn(n,t,()=>{r=e[nu](),kn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){return void n.error(a)}o?n.complete():n.next(i)},0,!0)}),()=>Be(r?.return)&&r.return()})}(e,t);if(su(e))return function vf(e,t){return cu(iu(e),t)}(e,t)}throw tu(e)}(e,t):sn(e)}class Je extends hn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function we(...e){return Et(e,ii(e))}function lu(e={}){const{connector:t=(()=>new hn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let a,f,d,D=0,A=!1,N=!1;const B=()=>{f?.unsubscribe(),f=void 0},H=()=>{B(),a=d=void 0,A=N=!1},W=()=>{const X=a;H(),X?.unsubscribe()};return pt((X,te)=>{D++,!N&&!A&&B();const re=d=d??t();te.add(()=>{D--,0===D&&!N&&!A&&(f=wo(W,i))}),re.subscribe(te),!a&&D>0&&(a=new qt({next:Q=>re.next(Q),error:Q=>{N=!0,B(),f=wo(H,n,Q),re.error(Q)},complete:()=>{A=!0,B(),f=wo(H,r),re.complete()}}),sn(X).subscribe(a))})(o)}}function wo(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new qt({next:()=>{r.unsubscribe(),e()}});return sn(t(...n)).subscribe(r)}function Lt(e,t){return pt((n,r)=>{let i=null,o=0,a=!1;const f=()=>a&&!i&&r.complete();n.subscribe(gt(r,d=>{i?.unsubscribe();let D=0;const A=o++;sn(e(d,A)).subscribe(i=gt(r,N=>r.next(t?t(d,N,A,D++):N),()=>{i=null,f()}))},()=>{a=!0,f()}))})}function Df(e,t){return e===t}function qe(e){for(let t in e)if(e[t]===qe)return t;throw Error("Could not find renamed property on target object.")}function ut(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ut).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Mt(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Dt=qe({__forward_ref__:qe});function Eo(e){return e.__forward_ref__=Eo,e.toString=function(){return ut(this())},e}function ye(e){return zt(e)?e():e}function zt(e){return"function"==typeof e&&e.hasOwnProperty(Dt)&&e.__forward_ref__===Eo}function Oi(e){return e&&!!e.\u0275providers}class oe extends Error{constructor(t,n){super(function ki(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function ge(e){return"string"==typeof e?e:null==e?"":String(e)}function Li(e,t){throw new oe(-201,!1)}function an(e,t){null==e&&function Ee(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Fe(e){return{providers:e.providers||[],imports:e.imports||[]}}function ji(e){return fu(e,Hi)||fu(e,du)}function fu(e,t){return e.hasOwnProperty(t)?e[t]:null}function Bi(e){return e&&(e.hasOwnProperty(So)||e.hasOwnProperty(Tf))?e[So]:null}const Hi=qe({\u0275prov:qe}),So=qe({\u0275inj:qe}),du=qe({ngInjectableDef:qe}),Tf=qe({ngInjectorDef:qe});var Ce=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ce||{});let bo;function jt(e){const t=bo;return bo=e,t}function pu(e,t,n){const r=ji(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ce.Optional?null:void 0!==t?t:void Li(ut(e))}const Ye=globalThis;class J{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ot={},We="__NG_DI_FLAG__",Jn="ngTempTokenPath",_f=/\n/gm,Lr="__source";let Oe;function gr(e){const t=Oe;return Oe=e,t}function Nf(e,t=Ce.Default){if(void 0===Oe)throw new oe(-203,!1);return null===Oe?pu(e,void 0,t):Oe.get(e,t&Ce.Optional?null:void 0,t)}function de(e,t=Ce.Default){return(function hu(){return bo}()||Nf)(ye(e),t)}function ae(e,t=Ce.Default){return de(e,jr(t))}function jr(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function xo(e){const t=[];for(let n=0;n<e.length;n++){const r=ye(e[n]);if(Array.isArray(r)){if(0===r.length)throw new oe(900,!1);let i,o=Ce.Default;for(let a=0;a<r.length;a++){const f=r[a],d=mu(f);"number"==typeof d?-1===d?i=f.token:o|=d:i=f}t.push(de(i,o))}else t.push(de(r))}return t}function Yn(e,t){return e[We]=t,e.prototype[We]=t,e}function mu(e){return e[We]}function Ve(e){return{toString:e}.toString()}var qi=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(qi||{}),gn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(gn||{});const xn={},Le=[],zi=qe({\u0275cmp:qe}),Ki=qe({\u0275dir:qe}),Io=qe({\u0275pipe:qe}),vu=qe({\u0275mod:qe}),In=qe({\u0275fac:qe}),Qn=qe({__NG_ELEMENT_ID__:qe}),oi=qe({__NG_ENV_ID__:qe});function Gi(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function ai(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],a=n[r++],f=n[r++];e.setAttribute(t,a,f,o)}else{const o=i,a=n[++r];Ao(o)?e.setProperty(t,o,a):e.setAttribute(t,o,a),r++}}return r}function ui(e){return 3===e||4===e||6===e}function Ao(e){return 64===e.charCodeAt(0)}function mr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||To(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function To(e,t,n,r,i){let o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){const f=e[o++];if("number"==typeof f){if(f===t){a=-1;break}if(f>t){a=o-1;break}}}for(;o<e.length;){const f=e[o];if("number"==typeof f)break;if(f===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const Wi="ng-template";function Zi(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const a=e[r++];if(n&&"class"===o&&-1!==Gi(a.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function yu(e){return 4===e.type&&e.value!==Wi}function Of(e,t,n){return t===(4!==e.type||n?e.value:Wi)}function wu(e,t,n){let r=4;const i=e.attrs||[],o=function Du(e){for(let t=0;t<e.length;t++)if(ui(e[t]))return t;return e.length}(i);let a=!1;for(let f=0;f<t.length;f++){const d=t[f];if("number"!=typeof d){if(!a)if(4&r){if(r=2|1&r,""!==d&&!Of(e,d,n)||""===d&&1===t.length){if(Kt(r))return!1;a=!0}}else{const D=8&r?d:t[++f];if(8&r&&null!==e.attrs){if(!Zi(e.attrs,D,n)){if(Kt(r))return!1;a=!0}continue}const N=Fo(8&r?"class":d,i,yu(e),n);if(-1===N){if(Kt(r))return!1;a=!0;continue}if(""!==D){let B;B=N>o?"":i[N+1].toLowerCase();const H=8&r?B:null;if(H&&-1!==Gi(H,D,0)||2&r&&D!==B){if(Kt(r))return!1;a=!0}}}}else{if(!a&&!Kt(r)&&!Kt(d))return!1;if(a&&Kt(d))continue;a=!1,r=d|1&r}}return Kt(r)||a}function Kt(e){return 0==(1&e)}function Fo(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){let f=t[++i];for(;"string"==typeof f;)f=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function Xi(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Eu(e,t,n=!1){for(let r=0;r<t.length;r++)if(wu(e,t[r],n))return!0;return!1}function Br(e,t){return e?":not("+t.trim()+")":t}function Ji(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let a=e[n];if("string"==typeof a)if(2&r){const f=e[++n];i+="["+a+(f.length>0?'="'+f+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!Kt(a)&&(t+=Br(o,i),i=""),r=a,o=o||!Kt(r);n++}return""!==i&&(t+=Br(o,i)),t}function ci(e){return Ve(()=>{const t=xu(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===qi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||gn.Emulated,styles:e.styles||Le,_:null,schemas:e.schemas||null,tView:null,id:""};s(n);const r=e.dependencies;return n.directiveDefs=c(r,!1),n.pipeDefs=c(r,!0),n.id=function l(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Yi(e){return ke(e)||xt(e)}function Ge(e){return null!==e}function ee(e){return Ve(()=>({type:e.type,bootstrap:e.bootstrap||Le,declarations:e.declarations||Le,imports:e.imports||Le,exports:e.exports||Le,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function jf(e,t){if(null==e)return xn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function Bt(e){return Ve(()=>{const t=xu(e);return s(t),t})}function ke(e){return e[zi]||null}function xt(e){return e[Ki]||null}function Ht(e){return e[Io]||null}function ce(e,t){const n=e[vu]||null;if(!n&&!0===t)throw new Error(`Type ${ut(e)} does not have '\u0275mod' property.`);return n}function xu(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||xn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Le,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jf(e.inputs,t),outputs:jf(e.outputs)}}function s(e){e.features?.forEach(t=>t(e))}function c(e,t){if(!e)return null;const n=t?Ht:Yi;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Ge)}const p=0,h=1,m=2,v=3,S=4,b=5,T=6,F=7,E=8,w=9,x=10,y=11,I=12,C=13,R=14,P=15,L=16,O=17,G=18,Z=19,_=20,M=21,k=22,j=23,U=24,q=25,$=1,K=2,Y=7,he=9,me=11;function _e(e){return Array.isArray(e)&&"object"==typeof e[$]}function Ie(e){return Array.isArray(e)&&!0===e[$]}function mn(e){return 0!=(4&e.flags)}function vt(e){return e.componentOffset>-1}function yt(e){return 1==(1&e.flags)}function Qe(e){return!!e.template}function _t(e){return 0!=(512&e[m])}function li(e,t){return e.hasOwnProperty(In)?e[In]:null}let Ot=null,Iu=!1;function An(e){const t=Ot;return Ot=e,t}const Kg={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Wg(e){if(!_o(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Jg(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Xg(e){e.dirty=!0,function Zg(e){if(void 0===e.liveConsumerNode)return;const t=Iu;Iu=!0;try{for(const n of e.liveConsumerNode)n.dirty||Xg(n)}finally{Iu=t}}(e),e.consumerMarkedDirty?.(e)}function Vf(e){return e&&(e.nextProducerIndex=0),An(e)}function Uf(e,t){if(An(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(_o(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Au(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Jg(e){es(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Wg(n),r!==n.version))return!0}return!1}function Yg(e){if(es(e),_o(e))for(let t=0;t<e.producerNode.length;t++)Au(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Au(e,t){if(function em(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),es(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Au(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];es(i),i.producerIndexOfThis[r]=t}}function _o(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function es(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let tm=null;const sm=()=>{},VS=(()=>({...Kg,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:sm}))();class US{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function fi(){return om}function om(e){return e.type.prototype.ngOnChanges&&(e.setInput=qS),$S}function $S(){const e=um(this),t=e?.current;if(t){const n=e.previous;if(n===xn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function qS(e,t,n,r){const i=this.declaredInputs[n],o=um(e)||function zS(e,t){return e[am]=t}(e,{previous:xn,current:null}),a=o.current||(o.current={}),f=o.previous,d=f[i];a[i]=new US(d&&d.currentValue,t,f===xn),e[r]=t}fi.ngInherit=!0;const am="__ngSimpleChanges__";function um(e){return e[am]||null}const er=function(e,t,n){};function nt(e){for(;Array.isArray(e);)e=e[p];return e}function un(e,t){return nt(t[e.index])}function fm(e,t){return e.data[t]}function vn(e,t){const n=t[e];return _e(n)?n:n[p]}function Ur(e,t){return null==t?null:e[t]}function dm(e){e[O]=0}function JS(e){1024&e[m]||(e[m]|=1024,pm(e,1))}function hm(e){1024&e[m]&&(e[m]&=-1025,pm(e,-1))}function pm(e,t){let n=e[v];if(null===n)return;n[b]+=t;let r=n;for(n=n[v];null!==n&&(1===t&&1===r[b]||-1===t&&0===r[b]);)n[b]+=t,r=n,n=n[v]}const be={lFrame:xm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vm(){return be.bindingsEnabled}function ne(){return be.lFrame.lView}function je(){return be.lFrame.tView}function Gf(e){return be.lFrame.contextLView=e,e[E]}function Wf(e){return be.lFrame.contextLView=null,e}function kt(){let e=ym();for(;null!==e&&64===e.type;)e=e.parent;return e}function ym(){return be.lFrame.currentTNode}function tr(e,t){const n=be.lFrame;n.currentTNode=e,n.isParent=t}function Zf(){return be.lFrame.isParent}function cb(e,t){const n=be.lFrame;n.bindingIndex=n.bindingRootIndex=e,Jf(t)}function Jf(e){be.lFrame.currentDirectiveIndex=e}function Sm(){return be.lFrame.currentQueryIndex}function Qf(e){be.lFrame.currentQueryIndex=e}function fb(e){const t=e[h];return 2===t.type?t.declTNode:1===t.type?e[T]:null}function bm(e,t,n){if(n&Ce.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Ce.Host||(i=fb(o),null===i||(o=o[R],10&i.type))););if(null===i)return!1;t=i,e=o}const r=be.lFrame=Cm();return r.currentTNode=t,r.lView=e,!0}function ed(e){const t=Cm(),n=e[h];be.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Cm(){const e=be.lFrame,t=null===e?null:e.child;return null===t?xm(e):t}function xm(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Im(){const e=be.lFrame;return be.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Am=Im;function td(){const e=Im();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Zt(){return be.lFrame.selectedIndex}function di(e){be.lFrame.selectedIndex=e}let Fm=!0;function Fu(){return Fm}function $r(e){Fm=e}function _u(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:f,ngAfterViewInit:d,ngAfterViewChecked:D,ngOnDestroy:A}=o;a&&(e.contentHooks??=[]).push(-n,a),f&&((e.contentHooks??=[]).push(n,f),(e.contentCheckHooks??=[]).push(n,f)),d&&(e.viewHooks??=[]).push(-n,d),D&&((e.viewHooks??=[]).push(n,D),(e.viewCheckHooks??=[]).push(n,D)),null!=A&&(e.destroyHooks??=[]).push(n,A)}}function Ru(e,t,n){_m(e,t,3,n)}function Mu(e,t,n,r){(3&e[m])===n&&_m(e,t,n,r)}function nd(e,t){let n=e[m];(3&n)===t&&(n&=8191,n+=1,e[m]=n)}function _m(e,t,n,r){const o=r??-1,a=t.length-1;let f=0;for(let d=void 0!==r?65535&e[O]:0;d<a;d++)if("number"==typeof t[d+1]){if(f=t[d],null!=r&&f>=r)break}else t[d]<0&&(e[O]+=65536),(f<o||-1==o)&&(wb(e,n,t,d),e[O]=(4294901760&e[O])+d+2),d++}function Rm(e,t){er(4,e,t);const n=An(null);try{t.call(e)}finally{An(n),er(5,e,t)}}function wb(e,t,n,r){const i=n[r]<0,o=n[r+1],f=e[i?-n[r]:n[r]];i?e[m]>>13<e[O]>>16&&(3&e[m])===t&&(e[m]+=8192,Rm(f,o)):Rm(f,o)}const is=-1;class Mo{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function id(e){return e!==is}function No(e){return 32767&e}function Po(e,t){let n=function bb(e){return e>>16}(e),r=t;for(;n>0;)r=r[R],n--;return r}let sd=!0;function Nu(e){const t=sd;return sd=e,t}const Mm=255,Nm=5;let Cb=0;const nr={};function Pu(e,t){const n=Pm(e,t);if(-1!==n)return n;const r=t[h];r.firstCreatePass&&(e.injectorIndex=t.length,od(r.data,e),od(t,null),od(r.blueprint,null));const i=Ou(e,t),o=e.injectorIndex;if(id(i)){const a=No(i),f=Po(i,t),d=f[h].data;for(let D=0;D<8;D++)t[o+D]=f[a+D]|d[a+D]}return t[o+8]=i,o}function od(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Pm(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ou(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Um(i),null===r)return is;if(n++,i=i[R],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return is}function ad(e,t,n){!function xb(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qn)&&(r=n[Qn]),null==r&&(r=n[Qn]=Cb++);const i=r&Mm;t.data[e+(i>>Nm)]|=1<<i}(e,t,n)}function Om(e,t,n){if(n&Ce.Optional||void 0!==e)return e;Li()}function km(e,t,n,r){if(n&Ce.Optional&&void 0===r&&(r=null),!(n&(Ce.Self|Ce.Host))){const i=e[w],o=jt(void 0);try{return i?i.get(t,r,n&Ce.Optional):pu(t,r,n&Ce.Optional)}finally{jt(o)}}return Om(r,0,n)}function Lm(e,t,n,r=Ce.Default,i){if(null!==e){if(2048&t[m]&&!(r&Ce.Self)){const a=function Rb(e,t,n,r,i){let o=e,a=t;for(;null!==o&&null!==a&&2048&a[m]&&!(512&a[m]);){const f=jm(o,a,n,r|Ce.Self,nr);if(f!==nr)return f;let d=o.parent;if(!d){const D=a[_];if(D){const A=D.get(n,nr,r);if(A!==nr)return A}d=Um(a),a=a[R]}o=d}return i}(e,t,n,r,nr);if(a!==nr)return a}const o=jm(e,t,n,r,nr);if(o!==nr)return o}return km(t,n,r,i)}function jm(e,t,n,r,i){const o=function Tb(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Qn)?e[Qn]:void 0;return"number"==typeof t?t>=0?t&Mm:_b:t}(n);if("function"==typeof o){if(!bm(t,e,r))return r&Ce.Host?Om(i,0,r):km(t,n,r,i);try{let a;if(a=o(r),null!=a||r&Ce.Optional)return a;Li()}finally{Am()}}else if("number"==typeof o){let a=null,f=Pm(e,t),d=is,D=r&Ce.Host?t[P][T]:null;for((-1===f||r&Ce.SkipSelf)&&(d=-1===f?Ou(e,t):t[f+8],d!==is&&Hm(r,!1)?(a=t[h],f=No(d),t=Po(d,t)):f=-1);-1!==f;){const A=t[h];if(Bm(o,f,A.data)){const N=Ab(f,t,n,a,r,D);if(N!==nr)return N}d=t[f+8],d!==is&&Hm(r,t[h].data[f+8]===D)&&Bm(o,f,t)?(a=A,f=No(d),t=Po(d,t)):f=-1}}return i}function Ab(e,t,n,r,i,o){const a=t[h],f=a.data[e+8],A=ku(f,a,n,null==r?vt(f)&&sd:r!=a&&0!=(3&f.type),i&Ce.Host&&o===f);return null!==A?hi(t,a,A,f):nr}function ku(e,t,n,r,i){const o=e.providerIndexes,a=t.data,f=1048575&o,d=e.directiveStart,A=o>>20,B=i?f+A:e.directiveEnd;for(let H=r?f:f+A;H<B;H++){const W=a[H];if(H<d&&n===W||H>=d&&W.type===n)return H}if(i){const H=a[d];if(H&&Qe(H)&&H.type===n)return d}return null}function hi(e,t,n,r){let i=e[n];const o=t.data;if(function Eb(e){return e instanceof Mo}(i)){const a=i;a.resolving&&function Ag(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new oe(-200,`Circular dependency in DI detected for ${e}${n}`)}(function xe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ge(e)}(o[n]));const f=Nu(a.canSeeViewProviders);a.resolving=!0;const D=a.injectImpl?jt(a.injectImpl):null;bm(e,r,Ce.Default);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function yb(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const a=om(t);(n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==D&&jt(D),Nu(f),a.resolving=!1,Am()}}return i}function Bm(e,t,n){return!!(n[t+(e>>Nm)]&1<<e)}function Hm(e,t){return!(e&Ce.Self||e&Ce.Host&&t)}class Xt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Lm(this._tNode,this._lView,t,jr(r),n)}}function _b(){return new Xt(kt(),ne())}function ud(e){return zt(e)?()=>{const t=ud(ye(e));return t&&t()}:li(e)}function Um(e){const t=e[h],n=t.type;return 2===n?t.declTNode:1===n?e[T]:null}const os="__parameters__";function us(e,t,n){return Ve(()=>{const r=function cd(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const a=new i(...o);return f.annotation=a,f;function f(d,D,A){const N=d.hasOwnProperty(os)?d[os]:Object.defineProperty(d,os,{value:[]})[os];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(a),d}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function ls(e,t){e.forEach(n=>Array.isArray(n)?ls(n,t):t(n))}function qm(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ju(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Hu=Yn(us("Optional"),8),Vu=Yn(us("SkipSelf"),4);function Ku(e){return 128==(128&e.flags)}var qr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(qr||{});const gd=new Map;let uC=0;const vd="__ngContext__";function Vt(e,t){_e(t)?(e[vd]=t[Z],function lC(e){gd.set(e[Z],e)}(t)):e[vd]=t}let yd;function wd(e,t){return yd(e,t)}function Ho(e){const t=e[v];return Ie(t)?t[v]:t}function fv(e){return hv(e[I])}function dv(e){return hv(e[S])}function hv(e){for(;null!==e&&!Ie(e);)e=e[S];return e}function ps(e,t,n,r,i){if(null!=r){let o,a=!1;Ie(r)?o=r:_e(r)&&(a=!0,r=r[p]);const f=nt(r);0===e&&null!==n?null==i?vv(t,n,f):pi(t,n,f,i||null,!0):1===e&&null!==n?pi(t,n,f,i||null,!0):2===e?function Qu(e,t,n){const r=Ju(e,t);r&&function FC(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,f,a):3===e&&t.destroyNode(f),null!=o&&function MC(e,t,n,r,i){const o=n[Y];o!==nt(n)&&ps(t,e,r,o,i);for(let f=me;f<n.length;f++){const d=n[f];Uo(d[h],d,e,t,r,o)}}(t,e,o,n,i)}}function Zu(e,t,n){return e.createElement(t,n)}function gv(e,t){const n=e[he],r=n.indexOf(t);hm(t),n.splice(r,1)}function Xu(e,t){if(e.length<=me)return;const n=me+t,r=e[n];if(r){const i=r[L];null!==i&&i!==e&&gv(i,r),t>0&&(e[n-1][S]=r[S]);const o=ju(e,me+t);!function DC(e,t){Uo(e,t,t[y],2,null,null),t[p]=null,t[T]=null}(r[h],r);const a=o[G];null!==a&&a.detachView(o[h]),r[v]=null,r[S]=null,r[m]&=-129}return r}function Dd(e,t){if(!(256&t[m])){const n=t[y];t[j]&&Yg(t[j]),t[U]&&Yg(t[U]),n.destroyNode&&Uo(e,t,n,3,null,null),function CC(e){let t=e[I];if(!t)return Sd(e[h],e);for(;t;){let n=null;if(_e(t))n=t[I];else{const r=t[me];r&&(n=r)}if(!n){for(;t&&!t[S]&&t!==e;)_e(t)&&Sd(t[h],t),t=t[v];null===t&&(t=e),_e(t)&&Sd(t[h],t),n=t&&t[S]}t=n}}(t)}}function Sd(e,t){if(!(256&t[m])){t[m]&=-129,t[m]|=256,function TC(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Mo)){const o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const f=i[o[a]],d=o[a+1];er(4,f,d);try{d.call(f)}finally{er(5,f,d)}}else{er(4,i,o);try{o.call(i)}finally{er(5,i,o)}}}}}(e,t),function AC(e,t){const n=e.cleanup,r=t[F];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[F]=null);const i=t[M];if(null!==i){t[M]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[h].type&&t[y].destroy();const n=t[L];if(null!==n&&Ie(t[v])){n!==t[v]&&gv(n,t);const r=t[G];null!==r&&r.detachView(e)}!function fC(e){gd.delete(e[Z])}(t)}}function bd(e,t,n){return function mv(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[p];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===gn.None||o===gn.Emulated)return null}return un(r,n)}}(e,t.parent,n)}function pi(e,t,n,r,i){e.insertBefore(t,n,r,i)}function vv(e,t,n){e.appendChild(t,n)}function yv(e,t,n,r,i){null!==r?pi(e,t,n,r,i):vv(e,t,n)}function Ju(e,t){return e.parentNode(t)}let Cd,Td,Dv=function Ev(e,t,n){return 40&e.type?un(e,n):null};function Yu(e,t,n,r){const i=bd(e,r,t),o=t[y],f=function wv(e,t,n){return Dv(e,t,n)}(r.parent||t[T],r,t);if(null!=i)if(Array.isArray(n))for(let d=0;d<n.length;d++)yv(o,i,n[d],f,!1);else yv(o,i,n,f,!1);void 0!==Cd&&Cd(o,r,t,n,i)}function Vo(e,t){if(null!==t){const n=t.type;if(3&n)return un(t,e);if(4&n)return xd(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Vo(e,r);{const i=e[t.index];return Ie(i)?xd(-1,i):nt(i)}}if(32&n)return wd(t,e)()||nt(e[t.index]);{const r=bv(e,t);return null!==r?Array.isArray(r)?r[0]:Vo(Ho(e[P]),r):Vo(e,t.next)}}return null}function bv(e,t){return null!==t?e[P][T].projection[t.projection]:null}function xd(e,t){const n=me+e+1;if(n<t.length){const r=t[n],i=r[h].firstChild;if(null!==i)return Vo(r,i)}return t[Y]}function Id(e,t,n,r,i,o,a){for(;null!=n;){const f=r[n.index],d=n.type;if(a&&0===t&&(f&&Vt(nt(f),r),n.flags|=2),32!=(32&n.flags))if(8&d)Id(e,t,n.child,r,i,o,!1),ps(t,e,i,f,o);else if(32&d){const D=wd(n,r);let A;for(;A=D();)ps(t,e,i,A,o);ps(t,e,i,f,o)}else 16&d?xv(e,t,r,n,i,o):ps(t,e,i,f,o);n=a?n.projectionNext:n.next}}function Uo(e,t,n,r,i,o){Id(n,r,e.firstChild,t,i,o,!1)}function xv(e,t,n,r,i,o){const a=n[P],d=a[T].projection[r.projection];if(Array.isArray(d))for(let D=0;D<d.length;D++)ps(t,e,i,d[D],o);else{let D=d;const A=a[v];Ku(r)&&(D.flags|=128),Id(e,t,D,A,i,o,!0)}}function Iv(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Av(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&ai(e,t,r),null!==i&&Iv(e,t,i),null!==o&&function PC(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}const Ko=new J("ENVIRONMENT_INITIALIZER"),Vv=new J("INJECTOR",-1),Uv=new J("INJECTOR_DEF_TYPES");class Pd{get(t,n=ot){if(n===ot){const r=new Error(`NullInjectorError: No provider for ${ut(t)}!`);throw r.name="NullInjectorError",r}return n}}function a2(...e){return{\u0275providers:$v(0,e),\u0275fromNgModule:!0}}function $v(e,...t){const n=[],r=new Set;let i;const o=a=>{n.push(a)};return ls(t,a=>{const f=a;rc(f,o,[],r)&&(i||=[],i.push(f))}),void 0!==i&&qv(i,o),n}function qv(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];kd(i,o=>{t(o,r)})}}function rc(e,t,n,r){if(!(e=ye(e)))return!1;let i=null,o=Bi(e);const a=!o&&ke(e);if(o||a){if(a&&!a.standalone)return!1;i=e}else{const d=e.ngModule;if(o=Bi(d),!o)return!1;i=d}const f=r.has(i);if(a){if(f)return!1;if(r.add(i),a.dependencies){const d="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const D of d)rc(D,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!f){let D;r.add(i);try{ls(o.imports,A=>{rc(A,t,n,r)&&(D||=[],D.push(A))})}finally{}void 0!==D&&qv(D,t)}if(!f){const D=li(i)||(()=>new i);t({provide:i,useFactory:D,deps:Le},i),t({provide:Uv,useValue:i,multi:!0},i),t({provide:Ko,useValue:()=>de(i),multi:!0},i)}const d=o.providers;if(null!=d&&!f){const D=e;kd(d,A=>{t(A,D)})}}}return i!==e&&void 0!==e.providers}function kd(e,t){for(let n of e)Oi(n)&&(n=n.\u0275providers),Array.isArray(n)?kd(n,t):t(n)}const u2=qe({provide:String,useValue:qe});function Ld(e){return null!==e&&"object"==typeof e&&u2 in e}function gi(e){return"function"==typeof e}const jd=new J("Set Injector scope."),ic={},l2={};let Bd;function sc(){return void 0===Bd&&(Bd=new Pd),Bd}class wn{}class ys extends wn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vd(t,a=>this.processProvider(a)),this.records.set(Vv,ws(void 0,this)),i.has("environment")&&this.records.set(wn,ws(void 0,this));const o=this.records.get(jd);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Uv.multi,Le,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=gr(this),r=jt(void 0);try{return t()}finally{gr(n),jt(r)}}get(t,n=ot,r=Ce.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(oi))return t[oi](this);r=jr(r);const o=gr(this),a=jt(void 0);try{if(!(r&Ce.SkipSelf)){let d=this.records.get(t);if(void 0===d){const D=function g2(e){return"function"==typeof e||"object"==typeof e&&e instanceof J}(t)&&ji(t);d=D&&this.injectableDefInScope(D)?ws(Hd(t),ic):null,this.records.set(t,d)}if(null!=d)return this.hydrate(t,d)}return(r&Ce.Self?sc():this.parent).get(t,n=r&Ce.Optional&&n===ot?null:n)}catch(f){if("NullInjectorError"===f.name){if((f[Jn]=f[Jn]||[]).unshift(ut(t)),o)throw f;return function Pf(e,t,n,r){const i=e[Jn];throw t[Lr]&&i.unshift(t[Lr]),e.message=function Ft(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=ut(t);if(Array.isArray(t))i=t.map(ut).join(" -> ");else if("object"==typeof t){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let f=t[a];o.push(a+":"+("string"==typeof f?JSON.stringify(f):ut(f)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(_f,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Jn]=null,e}(f,t,"R3InjectorError",this.source)}throw f}finally{jt(a),gr(o)}}resolveInjectorInitializers(){const t=gr(this),n=jt(void 0);try{const i=this.get(Ko.multi,Le,Ce.Self);for(const o of i)o()}finally{gr(t),jt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ut(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(t){let n=gi(t=ye(t))?t:ye(t&&t.provide);const r=function d2(e){return Ld(e)?ws(void 0,e.useValue):ws(function Gv(e,t,n){let r;if(gi(e)){const i=ye(e);return li(i)||Hd(i)}if(Ld(e))r=()=>ye(e.useValue);else if(function Kv(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...xo(e.deps||[]));else if(function zv(e){return!(!e||!e.useExisting)}(e))r=()=>de(ye(e.useExisting));else{const i=ye(e&&(e.useClass||e.provide));if(!function h2(e){return!!e.deps}(e))return li(i)||Hd(i);r=()=>new i(...xo(e.deps))}return r}(e),ic)}(t);if(gi(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ws(void 0,ic,!0),i.factory=()=>xo(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===ic&&(n.value=l2,n.value=n.factory()),"object"==typeof n.value&&n.value&&function p2(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ye(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Hd(e){const t=ji(e),n=null!==t?t.factory:li(e);if(null!==n)return n;if(e instanceof J)throw new oe(204,!1);if(e instanceof Function)return function f2(e){const t=e.length;if(t>0)throw function Lo(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new oe(204,!1);const n=function Af(e){return e&&(e[Hi]||e[du])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new oe(204,!1)}function ws(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Vd(e,t){for(const n of e)Array.isArray(n)?Vd(n,t):n&&Oi(n)?Vd(n.\u0275providers,t):t(n)}const oc=new J("AppId",{providedIn:"root",factory:()=>m2}),m2="ng",Wv=new J("Platform Initializer"),mi=new J("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zv=new J("CSP nonce",{providedIn:"root",factory:()=>function ms(){if(void 0!==Td)return Td;if(typeof document<"u")return document;throw new oe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Xv=(e,t,n)=>null;function Zd(e,t,n=!1){return Xv(e,t,n)}class I2{}class Qv{}class T2{resolveComponentFactory(t){throw function A2(e){const t=Error(`No component factory found for ${ut(e)}.`);return t.ngComponent=e,t}(t)}}let dc=(()=>{class e{static{this.NULL=new T2}}return e})();function F2(){return Ss(kt(),ne())}function Ss(e,t){return new Kr(un(e,t))}let Kr=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=F2}}return e})();function _2(e){return e instanceof Kr?e.nativeElement:e}class t0{}let M2=(()=>{class e{static{this.\u0275prov=pe({token:e,providedIn:"root",factory:()=>null})}}return e})();class pc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const N2=new pc("16.2.12"),Yd={};function o0(e,t=null,n=null,r){const i=a0(e,t,n,r);return i.resolveInjectorInitializers(),i}function a0(e,t=null,n=null,r,i=new Set){const o=[n||Le,a2(e)];return r=r||("object"==typeof e?void 0:ut(e)),new ys(o,t||sc(),r||null,i)}let Fn=(()=>{class e{static{this.THROW_IF_NOT_FOUND=ot}static{this.NULL=new Pd}static create(n,r){if(Array.isArray(n))return o0({name:""},r,n,"");{const i=n.name??"";return o0({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=pe({token:e,providedIn:"any",factory:()=>de(Vv)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function eh(e){return e.ngOriginalError}class Sr{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&eh(t);for(;n&&eh(n);)n=eh(n);return n||null}}function th(e){return t=>{setTimeout(e,void 0,t)}}const Jt=class V2 extends hn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),a=r;if(t&&"object"==typeof t){const d=t;i=d.next?.bind(d),o=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(o=th(o),i&&(i=th(i)),a&&(a=th(a)));const f=super.subscribe({next:i,error:o,complete:a});return t instanceof ie&&t.add(f),f}};function c0(...e){}class rt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jt(!1),this.onMicrotaskEmpty=new Jt(!1),this.onStable=new Jt(!1),this.onError=new Jt(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function U2(){const e="function"==typeof Ye.requestAnimationFrame;let t=Ye[e?"requestAnimationFrame":"setTimeout"],n=Ye[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function z2(e){const t=()=>{!function q2(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ye,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,rh(e),e.isCheckStableRunning=!0,nh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),rh(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,a,f)=>{if(function G2(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(f))return n.invokeTask(i,o,a,f);try{return l0(e),n.invokeTask(i,o,a,f)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),f0(e)}},onInvoke:(n,r,i,o,a,f,d)=>{try{return l0(e),n.invoke(i,o,a,f,d)}finally{e.shouldCoalesceRunChangeDetection&&t(),f0(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,rh(e),nh(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rt.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(rt.isInAngularZone())throw new oe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,t,$2,c0,c0);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const $2={};function nh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function rh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function l0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function f0(e){e._nesting--,nh(e)}class K2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jt,this.onMicrotaskEmpty=new Jt,this.onStable=new Jt,this.onError=new Jt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const d0=new J("",{providedIn:"root",factory:h0});function h0(){const e=ae(rt);let t=!0;return function wf(...e){const t=ii(e),n=function df(e,t){return"number"==typeof yo(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?sn(r[0]):Pr(n)(Et(r,t)):Cn}(new ft(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new ft(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{rt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const a=e.onUnstable.subscribe(()=>{rt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),a.unsubscribe()}}).pipe(lu()))}function br(e){return e instanceof Function?e():e}let ih=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=pe({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Zo(e){for(;e;){e[m]|=64;const t=Ho(e);if(_t(e)&&!t)return e;e=t}return null}const y0=new J("",{providedIn:"root",factory:()=>!1});let vc=null;function S0(e,t){return e[t]??x0()}function b0(e,t){const n=x0();n.producerNode?.length&&(e[t]=vc,n.lView=e,vc=C0())}const rx={...Kg,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Zo(e.lView)},lView:null};function C0(){return Object.create(rx)}function x0(){return vc??=C0(),vc}const Ae={};function vi(e){I0(je(),ne(),Zt()+e,!1)}function I0(e,t,n,r){if(!r)if(3==(3&t[m])){const o=e.preOrderCheckHooks;null!==o&&Ru(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Mu(t,o,0,n)}di(n)}function De(e,t=Ce.Default){const n=ne();return null===n?de(e,t):Lm(kt(),n,ye(e),t)}function yc(e,t,n,r,i,o,a,f,d,D,A){const N=t.blueprint.slice();return N[p]=i,N[m]=140|r,(null!==D||e&&2048&e[m])&&(N[m]|=2048),dm(N),N[v]=N[R]=e,N[E]=n,N[x]=a||e&&e[x],N[y]=f||e&&e[y],N[w]=d||e&&e[w]||null,N[T]=o,N[Z]=function cC(){return uC++}(),N[k]=A,N[_]=D,N[P]=2==t.type?e[P]:N,N}function xs(e,t,n,r,i){let o=e.data[t];if(null===o)o=function sh(e,t,n,r,i){const o=ym(),a=Zf(),d=e.data[t]=function fx(e,t,n,r,i,o){let a=t?t.injectorIndex:-1,f=0;return function ns(){return null!==be.skipHydrationRootTNode}()&&(f|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:f,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=d),null!==o&&(a?null==o.child&&null!==d.parent&&(o.child=d):null===o.next&&(o.next=d,d.prev=o)),d}(e,t,n,r,i),function ub(){return be.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const a=function Ro(){const e=be.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return tr(o,!0),o}function Xo(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function T0(e,t,n,r,i){const o=S0(t,j),a=Zt(),f=2&r;try{di(-1),f&&t.length>q&&I0(e,t,q,!1),er(f?2:0,i);const D=f?o:null,A=Vf(D);try{null!==D&&(D.dirty=!1),n(r,i)}finally{Uf(D,A)}}finally{f&&null===t[j]&&b0(t,j),di(a),er(f?3:1,i)}}function oh(e,t,n){if(mn(t)){const r=An(null);try{const o=t.directiveEnd;for(let a=t.directiveStart;a<o;a++){const f=e.data[a];f.contentQueries&&f.contentQueries(1,n[a],a)}}finally{An(r)}}}function ah(e,t,n){vm()&&(function yx(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;vt(n)&&function xx(e,t,n){const r=un(t,e),i=F0(n);let a=16;n.signals?a=4096:n.onPush&&(a=64);const f=wc(e,yc(e,i,null,a,r,t,null,e[x].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=f}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Pu(n,t),Vt(r,t);const a=n.initialInputs;for(let f=i;f<o;f++){const d=e.data[f],D=hi(t,e,f,n);Vt(D,t),null!==a&&Ix(0,f-i,D,d,0,a),Qe(d)&&(vn(n.index,t)[E]=hi(t,e,f,n))}}(e,t,n,un(n,t)),64==(64&n.flags)&&P0(e,t,n))}function uh(e,t,n=un){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const a=r[o+1],f=-1===a?n(t,e):e[a];e[i++]=f}}}function F0(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ch(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ch(e,t,n,r,i,o,a,f,d,D,A){const N=q+r,B=N+i,H=function sx(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ae);return n}(N,B),W="function"==typeof D?D():D;return H[h]={type:e,blueprint:H,template:n,queries:null,viewQuery:f,declTNode:t,data:H.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:d,consts:W,incompleteFirstPass:!1,ssrId:A}}let _0=e=>null;function R0(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?M0(n,t,i,o):r.hasOwnProperty(i)&&M0(n,t,r[i],o)}return n}function M0(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function lh(e,t,n,r){if(vm()){const i=null===r?null:{"":-1},o=function Ex(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const a=n[o];if(Eu(t,a.selectors,!1))if(r||(r=[]),Qe(a))if(null!==a.findHostDirectiveDefs){const f=[];i=i||new Map,a.findHostDirectiveDefs(a,f,i),r.unshift(...f,a),fh(e,t,f.length)}else r.unshift(a),fh(e,t,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(e,n);let a,f;null===o?a=f=null:[a,f]=o,null!==a&&N0(e,t,n,a,i,f),i&&function Dx(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new oe(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=mr(n.mergedAttrs,n.attrs)}function N0(e,t,n,r,i,o){for(let D=0;D<r.length;D++)ad(Pu(n,t),e,r[D].type);!function bx(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let D=0;D<r.length;D++){const A=r[D];A.providersResolver&&A.providersResolver(A)}let a=!1,f=!1,d=Xo(e,t,r.length,null);for(let D=0;D<r.length;D++){const A=r[D];n.mergedAttrs=mr(n.mergedAttrs,A.hostAttrs),Cx(e,n,t,d,A),Sx(d,A,i),null!==A.contentQueries&&(n.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(n.flags|=64);const N=A.type.prototype;!a&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),a=!0),!f&&(N.ngOnChanges||N.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),f=!0),d++}!function dx(e,t,n){const i=t.directiveEnd,o=e.data,a=t.attrs,f=[];let d=null,D=null;for(let A=t.directiveStart;A<i;A++){const N=o[A],B=n?n.get(N):null,W=B?B.outputs:null;d=R0(N.inputs,A,d,B?B.inputs:null),D=R0(N.outputs,A,D,W);const X=null===d||null===a||yu(t)?null:Ax(d,A,a);f.push(X)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=8),d.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=f,t.inputs=d,t.outputs=D}(e,n,o)}function P0(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function lb(){return be.lFrame.currentDirectiveIndex}();try{di(o);for(let f=r;f<i;f++){const d=e.data[f],D=t[f];Jf(f),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&wx(d,D)}}finally{di(-1),Jf(a)}}function wx(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function fh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Sx(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Qe(t)&&(n[""]=e)}}function Cx(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=li(i.type)),a=new Mo(o,Qe(i),De);e.blueprint[r]=a,n[r]=a,function mx(e,t,n,r,i){const o=i.hostBindings;if(o){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const f=~t.index;(function vx(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=f&&a.push(f),a.push(n,r,o)}}(e,t,r,Xo(e,n,i.hostVars,Ae),i)}function Ix(e,t,n,r,i,o){const a=o[t];if(null!==a)for(let f=0;f<a.length;)O0(r,n,a[f++],a[f++],a[f++])}function O0(e,t,n,r,i){const o=An(null);try{const a=e.inputTransforms;null!==a&&a.hasOwnProperty(r)&&(i=a[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{An(o)}}function Ax(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const a=e[o];for(let f=0;f<a.length;f+=2)if(a[f]===t){r.push(o,a[f+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function k0(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function L0(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const a=e.data[o];Qf(n[r]),a.contentQueries(2,t[o],o)}}}function wc(e,t){return e[I]?e[C][S]=t:e[I]=t,e[C]=t,t}function hh(e,t,n){Qf(0);const r=An(null);try{t(e,n)}finally{An(r)}}function j0(e){return e[F]||(e[F]=[])}function B0(e){return e.cleanup||(e.cleanup=[])}function V0(e,t){const n=e[w],r=n?n.get(Sr,null):null;r&&r.handleError(t)}function ph(e,t,n,r,i){for(let o=0;o<n.length;){const a=n[o++],f=n[o++];O0(e.data[a],t[a],r,f,i)}}function Cr(e,t,n){const r=function Tu(e,t){return nt(t[e])}(t,e);!function pv(e,t,n){e.setValue(t,n)}(e[y],r,n)}function Tx(e,t){const n=vn(t,e),r=n[h];!function Fx(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[p];null!==i&&null===n[k]&&(n[k]=Zd(i,n[w])),gh(r,n,n[E])}function gh(e,t,n){ed(t);try{const r=e.viewQuery;null!==r&&hh(1,r,n);const i=e.template;null!==i&&T0(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&L0(e,t),e.staticViewQueries&&hh(2,e.viewQuery,n);const o=e.components;null!==o&&function _x(e,t){for(let n=0;n<t.length;n++)Tx(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[m]&=-5,td()}}let U0=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,a=function HS(e,t,n){const r=Object.create(VS);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=a=>{r.cleanupFn=a};return r.ref={notify:()=>Xg(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Jg(r))return;r.hasRun=!0;const a=Vf(r);try{r.cleanupFn(),r.cleanupFn=sm,r.fn(i)}finally{Uf(r,a)}},cleanup:()=>r.cleanupFn()},r.ref}(n,D=>{this.all.has(D)&&this.queue.set(D,o)},i);let f;this.all.add(a),a.notify();const d=()=>{a.cleanup(),f?.(),this.all.delete(a),this.queue.delete(a)};return f=r?.onDestroy(d),{destroy:d}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=pe({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Ec(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let a=0;a<t.length;a++){const f=t[a];"number"==typeof f?o=f:1==o?i=Mt(i,f):2==o&&(r=Mt(r,f+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Jo(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(nt(o)),Ie(o)&&$0(o,r);const a=n.type;if(8&a)Jo(e,t,n.child,r);else if(32&a){const f=wd(n,t);let d;for(;d=f();)r.push(d)}else if(16&a){const f=bv(t,n);if(Array.isArray(f))r.push(...f);else{const d=Ho(t[P]);Jo(d[h],d,f,r,!0)}}n=i?n.projectionNext:n.next}return r}function $0(e,t){for(let n=me;n<e.length;n++){const r=e[n],i=r[h].firstChild;null!==i&&Jo(r[h],r,i,t)}e[Y]!==e[p]&&t.push(e[Y])}function Dc(e,t,n,r=!0){const i=t[x],o=i.rendererFactory,a=i.afterRenderEventManager;o.begin?.(),a?.begin();try{q0(e,t,e.template,n)}catch(d){throw r&&V0(t,d),d}finally{o.end?.(),i.effectManager?.flush(),a?.end()}}function q0(e,t,n,r){const i=t[m];if(256!=(256&i)){t[x].effectManager?.flush(),ed(t);try{dm(t),function Em(e){return be.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&T0(e,t,n,2,r);const a=3==(3&i);if(a){const D=e.preOrderCheckHooks;null!==D&&Ru(t,D,null)}else{const D=e.preOrderHooks;null!==D&&Mu(t,D,0,null),nd(t,0)}if(function Nx(e){for(let t=fv(e);null!==t;t=dv(t)){if(!t[K])continue;const n=t[he];for(let r=0;r<n.length;r++){JS(n[r])}}}(t),z0(t,2),null!==e.contentQueries&&L0(e,t),a){const D=e.contentCheckHooks;null!==D&&Ru(t,D)}else{const D=e.contentHooks;null!==D&&Mu(t,D,1),nd(t,1)}!function ix(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=S0(t,U);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)di(~o);else{const a=o,f=n[++i],d=n[++i];cb(f,a),r.dirty=!1;const D=Vf(r);try{d(2,t[a])}finally{Uf(r,D)}}}}finally{null===t[U]&&b0(t,U),di(-1)}}(e,t);const f=e.components;null!==f&&G0(t,f,0);const d=e.viewQuery;if(null!==d&&hh(2,d,r),a){const D=e.viewCheckHooks;null!==D&&Ru(t,D)}else{const D=e.viewHooks;null!==D&&Mu(t,D,2),nd(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[m]&=-73,hm(t)}finally{td()}}}function z0(e,t){for(let n=fv(e);null!==n;n=dv(n))for(let r=me;r<n.length;r++)K0(n[r],t)}function Px(e,t,n){K0(vn(t,e),n)}function K0(e,t){if(!function ZS(e){return 128==(128&e[m])}(e))return;const n=e[h],r=e[m];if(80&r&&0===t||1024&r||2===t)q0(n,e,n.template,e[E]);else if(e[b]>0){z0(e,1);const i=n.components;null!==i&&G0(e,i,1)}}function G0(e,t,n){for(let r=0;r<t.length;r++)Px(e,t[r],n)}class Yo{get rootNodes(){const t=this._lView,n=t[h];return Jo(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[E]}set context(t){this._lView[E]=t}get destroyed(){return 256==(256&this._lView[m])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[v];if(Ie(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Xu(t,r),ju(n,r))}this._attachedToViewContainer=!1}Dd(this._lView[h],this._lView)}onDestroy(t){!function gm(e,t){if(256==(256&e[m]))throw new oe(911,!1);null===e[M]&&(e[M]=[]),e[M].push(t)}(this._lView,t)}markForCheck(){Zo(this._cdRefInjectingView||this._lView)}detach(){this._lView[m]&=-129}reattach(){this._lView[m]|=128}detectChanges(){Dc(this._lView[h],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bC(e,t){Uo(e,t,t[y],2,null,null)}(this._lView[h],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=t}}class Ox extends Yo{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Dc(t[h],t,t[E],!1)}checkNoChanges(){}get context(){return null}}class W0 extends dc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ke(t);return new Qo(n,this.ngModule)}}function Z0(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Lx{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=jr(r);const i=this.injector.get(t,Yd,r);return i!==Yd||n===Yd?i:this.parentInjector.get(t,n,r)}}class Qo extends Qv{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=Z0(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Z0(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function bu(e){return e.map(Ji).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof wn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new Lx(t,o):t,f=a.get(t0,null);if(null===f)throw new oe(407,!1);const N={rendererFactory:f,sanitizer:a.get(M2,null),effectManager:a.get(U0,null),afterRenderEventManager:a.get(ih,null)},B=f.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",W=r?function ox(e,t,n,r){const o=r.get(y0,!1)||n===gn.ShadowDom,a=e.selectRootElement(t,o);return function ax(e){_0(e)}(a),a}(B,r,this.componentDef.encapsulation,a):Zu(B,H,function kx(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(H)),re=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Q=null;null!==W&&(Q=Zd(W,a,!0));const ue=ch(0,null,null,1,0,null,null,null,null,null,null),ve=yc(null,ue,null,re,null,null,N,B,a,null,Q);let Ne,Rt;ed(ve);try{const cr=this.componentDef;let _i,Cg=null;cr.findHostDirectiveDefs?(_i=[],Cg=new Map,cr.findHostDirectiveDefs(cr,_i,Cg),_i.push(cr)):_i=[cr];const H5=function Bx(e,t){const n=e[h],r=q;return e[r]=t,xs(n,r,2,"#host",null)}(ve,W),V5=function Hx(e,t,n,r,i,o,a){const f=i[h];!function Vx(e,t,n,r){for(const i of e)t.mergedAttrs=mr(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Ec(t,t.mergedAttrs,!0),null!==n&&Av(r,n,t))}(r,e,t,a);let d=null;null!==t&&(d=Zd(t,i[w]));const D=o.rendererFactory.createRenderer(t,n);let A=16;n.signals?A=4096:n.onPush&&(A=64);const N=yc(i,F0(n),null,A,i[e.index],e,o,D,null,null,d);return f.firstCreatePass&&fh(f,e,r.length-1),wc(i,N),i[e.index]=N}(H5,W,cr,_i,ve,N,B);Rt=fm(ue,q),W&&function $x(e,t,n,r){if(r)ai(e,n,["ng-version",N2.full]);else{const{attrs:i,classes:o}=function Cu(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Kt(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&ai(e,n,i),o&&o.length>0&&Iv(e,n,o.join(" "))}}(B,cr,W,r),void 0!==n&&function qx(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Rt,this.ngContentSelectors,n),Ne=function Ux(e,t,n,r,i,o){const a=kt(),f=i[h],d=un(a,i);N0(f,i,a,n,null,r);for(let A=0;A<n.length;A++)Vt(hi(i,f,a.directiveStart+A,a),i);P0(f,i,a),d&&Vt(d,i);const D=hi(i,f,a.directiveStart+a.componentOffset,a);if(e[E]=i[E]=D,null!==o)for(const A of o)A(D,t);return oh(f,a,e),D}(V5,cr,_i,Cg,ve,[zx]),gh(ue,ve,null)}finally{td()}return new jx(this.componentType,Ne,Ss(Rt,ve),ve,Rt)}}class jx extends I2{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ox(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;ph(o[h],o,i,t,n),this.previousInputValues.set(t,n),Zo(vn(this._tNode.index,o))}}get injector(){return new Xt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function zx(){const e=kt();_u(ne()[h],e)}function Ut(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ts(e,t,n,r,i,o){const f=function yi(e,t,n,r){const i=Ut(e,t,n);return Ut(e,t+1,r)||i}(e,function wr(){return be.lFrame.bindingIndex}(),n,i);return function Er(e){const t=be.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2),f?t+ge(n)+r+ge(i)+o:Ae}function ia(e,t,n,r,i,o,a,f){const d=ne(),D=je(),A=e+q,N=D.firstCreatePass?function EI(e,t,n,r,i,o,a,f,d){const D=t.consts,A=xs(t,e,4,a||null,Ur(D,f));lh(t,n,A,Ur(D,d)),_u(t,A);const N=A.tView=ch(2,A,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,D,null);return null!==t.queries&&(t.queries.template(t,A),N.queries=t.queries.embeddedTView(A)),A}(A,D,d,t,n,r,i,o,a):D.data[A];tr(N,!1);const B=py(D,d,N,e);Fu()&&Yu(D,d,B,N),Vt(B,d),wc(d,d[A]=k0(B,d,B,N)),yt(N)&&ah(D,d,N),null!=a&&uh(d,N,f)}let py=function gy(e,t,n,r){return $r(!0),t[y].createComment("")};function wi(e,t,n){const r=ne();return Ut(r,function rs(){return be.lFrame.bindingIndex++}(),t)&&function En(e,t,n,r,i,o,a,f){const d=un(t,n);let A,D=t.inputs;!f&&null!=D&&(A=D[r])?(ph(e,n,A,r,i),vt(t)&&function px(e,t){const n=vn(t,e);16&n[m]||(n[m]|=64)}(n,t.index)):3&t.type&&(r=function hx(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=a?a(i,t.value||"",r):i,o.setProperty(d,r,i))}(je(),function lt(){const e=be.lFrame;return fm(e.tView,e.selectedIndex)}(),r,e,t,r[y],n,!1),wi}function bh(e,t,n,r,i){const a=i?"class":"style";ph(e,n,t.inputs[a],a,r)}function ln(e,t,n,r){const i=ne(),o=je(),a=q+e,f=i[y],d=o.firstCreatePass?function xI(e,t,n,r,i,o){const a=t.consts,d=xs(t,e,2,r,Ur(a,i));return lh(t,n,d,Ur(a,o)),null!==d.attrs&&Ec(d,d.attrs,!1),null!==d.mergedAttrs&&Ec(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(a,o,i,t,n,r):o.data[a],D=my(o,i,d,f,t,e);i[a]=D;const A=yt(d);return tr(d,!0),Av(f,D,d),32!=(32&d.flags)&&Fu()&&Yu(o,i,D,d),0===function QS(){return be.lFrame.elementDepthCount}()&&Vt(D,i),function eb(){be.lFrame.elementDepthCount++}(),A&&(ah(o,i,d),oh(o,d,i)),null!==r&&uh(i,d),ln}function Yt(){let e=kt();Zf()?function Xf(){be.lFrame.isParent=!1}():(e=e.parent,tr(e,!1));const t=e;(function nb(e){return be.skipHydrationRootTNode===e})(t)&&function ob(){be.skipHydrationRootTNode=null}(),function tb(){be.lFrame.elementDepthCount--}();const n=je();return n.firstCreatePass&&(_u(n,e),mn(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Db(e){return 0!=(8&e.flags)}(t)&&bh(n,t,ne(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Sb(e){return 0!=(16&e.flags)}(t)&&bh(n,t,ne(),t.stylesWithoutHost,!1),Yt}function sa(e,t,n,r){return ln(e,t,n,r),Yt(),sa}let my=(e,t,n,r,i,o)=>($r(!0),Zu(r,i,function Tm(){return be.lFrame.currentNamespace}()));function Tc(e){return!!e&&"function"==typeof e.then}function Ey(e){return!!e&&"function"==typeof e.subscribe}function Gr(e,t,n,r){const i=ne(),o=je(),a=kt();return function Sy(e,t,n,r,i,o,a){const f=yt(r),D=e.firstCreatePass&&B0(e),A=t[E],N=j0(t);let B=!0;if(3&r.type||a){const X=un(r,t),te=a?a(X):X,re=N.length,Q=a?ve=>a(nt(ve[r.index])):r.index;let ue=null;if(!a&&f&&(ue=function RI(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const a=i[o];if(a===n&&i[o+1]===r){const f=t[F],d=i[o+2];return f.length>d?f[d]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==ue)(ue.__ngLastListenerFn__||ue).__ngNextListenerFn__=o,ue.__ngLastListenerFn__=o,B=!1;else{o=Cy(r,t,A,o,!1);const ve=n.listen(te,i,o);N.push(o,ve),D&&D.push(i,Q,re,re+1)}}else o=Cy(r,t,A,o,!1);const H=r.outputs;let W;if(B&&null!==H&&(W=H[i])){const X=W.length;if(X)for(let te=0;te<X;te+=2){const Ne=t[W[te]][W[te+1]].subscribe(o),Rt=N.length;N.push(o,Ne),D&&D.push(i,r.index,Rt,-(Rt+1))}}}(o,i,i[y],a,e,t,r),Gr}function by(e,t,n,r){try{return er(6,t,n),!1!==n(r)}catch(i){return V0(e,i),!1}finally{er(7,t,n)}}function Cy(e,t,n,r,i){return function o(a){if(a===Function)return r;Zo(e.componentOffset>-1?vn(e.index,t):t);let d=by(t,n,r,a),D=o.__ngNextListenerFn__;for(;D;)d=by(t,n,D,a)&&d,D=D.__ngNextListenerFn__;return i&&!1===d&&a.preventDefault(),d}}function Fc(e=1){return function db(e){return(be.lFrame.contextLView=function hb(e,t){for(;e>0;)t=t[R],e--;return t}(e,be.lFrame.contextLView))[E]}(e)}function xr(e,t=""){const n=ne(),r=je(),i=e+q,o=r.firstCreatePass?xs(r,i,1,t,null):r.data[i],a=Zy(r,n,o,t,e);n[i]=a,Fu()&&Yu(r,n,a,o),tr(o,!1)}let Zy=(e,t,n,r,i)=>($r(!0),function Wu(e,t){return e.createText(t)}(t[y],r));function Mh(e,t,n,r,i){const o=ne(),a=Ts(o,e,t,n,r,i);return a!==Ae&&Cr(o,Zt(),a),Mh}const Ls="en-US";let v1=Ls;class Si{}class $1{}class Bh extends Si{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new W0(this);const i=ce(t);this._bootstrapComponents=br(i.bootstrap),this._r3Injector=a0(t,n,[{provide:Si,useValue:this},{provide:dc,useValue:this.componentFactoryResolver},...r],ut(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Hh extends $1{constructor(t){super(),this.moduleType=t}create(t){return new Bh(this.moduleType,t,[])}}class q1 extends Si{constructor(t){super(),this.componentFactoryResolver=new W0(this),this.instance=null;const n=new ys([...t.providers,{provide:Si,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],t.parent||sc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Vh(e,t,n=null){return new q1({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let AT=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=$v(0,n.type),i=r.length>0?Vh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=pe({token:e,providedIn:"environment",factory:()=>new e(de(wn))})}}return e})();function z1(e){e.getStandaloneInjector=t=>t.get(AT).getOrCreateStandaloneInjector(e)}function QT(){return this._results[Symbol.iterator]()}class $h{get changes(){return this._changes||(this._changes=new Jt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=$h.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=QT)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function Tn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function kb(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tF(e,t,n,r=!0){const i=t[h];if(function xC(e,t,n,r){const i=me+r,o=n.length;r>0&&(n[i-1][S]=t),r<o-me?(t[S]=n[i],qm(n,me+r,t)):(n.push(t),t[S]=null),t[v]=n;const a=t[L];null!==a&&n!==a&&function IC(e,t){const n=e[he];t[P]!==t[v][v][P]&&(e[K]=!0),null===n?e[he]=[t]:n.push(t)}(a,t);const f=t[G];null!==f&&f.insertView(e),t[m]|=128}(i,t,e,n),r){const o=xd(n,e),a=t[y],f=Ju(a,e[Y]);null!==f&&function SC(e,t,n,r,i,o){r[p]=i,r[T]=t,Uo(e,r,n,1,i,o)}(i,e[T],a,t,f,o)}}let Ir=(()=>{class e{static{this.__NG_ELEMENT_ID__=iF}}return e})();const nF=Ir,rF=class extends nF{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function eF(e,t,n,r){const i=t.tView,f=yc(e,i,n,4096&e[m]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);f[L]=e[t.index];const D=e[G];return null!==D&&(f[G]=D.createEmbeddedView(i)),gh(i,f,n),f}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Yo(i)}};function iF(){return kc(kt(),ne())}function kc(e,t){return 4&e.type?new rF(t,e,Ss(e,t)):null}let Un=(()=>{class e{static{this.__NG_ELEMENT_ID__=lF}}return e})();function lF(){return cw(kt(),ne())}const fF=Un,aw=class extends fF{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ss(this._hostTNode,this._hostLView)}get injector(){return new Xt(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ou(this._hostTNode,this._hostLView);if(id(t)){const n=Po(t,this._hostLView),r=No(t);return new Xt(n[h].data[r+8],n)}return new Xt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=uw(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-me}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const f=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(f,i,false),f}createComponent(t,n,r,i,o){const a=t&&!function ko(e){return"function"==typeof e}(t);let f;if(a)f=n;else{const X=n||{};f=X.index,r=X.injector,i=X.projectableNodes,o=X.environmentInjector||X.ngModuleRef}const d=a?t:new Qo(ke(t)),D=r||this.parentInjector;if(!o&&null==d.ngModule){const te=(a?D:this.parentInjector).get(wn,null);te&&(o=te)}ke(d.componentType??{});const H=d.create(D,i,null,o);return this.insertImpl(H.hostView,f,false),H}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function XS(e){return Ie(e[v])}(i)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const D=i[v],A=new aw(D,D[T],D[v]);A.detach(A.indexOf(t))}}const a=this._adjustIndex(n),f=this._lContainer;return tF(f,i,a,!r),t.attachToViewContainerRef(),qm(qh(f),a,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=uw(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Xu(this._lContainer,n);r&&(ju(qh(this._lContainer),n),Dd(r[h],r))}detach(t){const n=this._adjustIndex(t,-1),r=Xu(this._lContainer,n);return r&&null!=ju(qh(this._lContainer),n)?new Yo(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function uw(e){return e[8]}function qh(e){return e[8]||(e[8]=[])}function cw(e,t){let n;const r=t[e.index];return Ie(r)?n=r:(n=k0(r,t,null,e),t[e.index]=n,wc(t,n)),lw(n,t,e,r),new aw(n,e,t)}let lw=function fw(e,t,n,r){if(e[Y])return;let i;i=8&n.type?nt(r):function dF(e,t){const n=e[y],r=n.createComment(""),i=un(t,e);return pi(n,Ju(n,i),r,function _C(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Y]=i};class zh{constructor(t){this.queryList=t,this.matches=null}clone(){return new zh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new Kh(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==yw(t,n).matches&&this.queries[n].setDirty()}}class dw{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Gh{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Gh(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Wh{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Wh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,gF(n,o)),this.matchTNodeWithReadOption(t,n,ku(n,t,o,!1,!1))}else r===Ir?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ku(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Kr||i===Un||i===Ir&&4&n.type)this.addMatch(n.index,-2);else{const o=ku(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function gF(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function vF(e,t,n,r){return-1===n?function mF(e,t){return 11&e.type?Ss(e,t):4&e.type?kc(e,t):null}(t,e):-2===n?function yF(e,t,n){return n===Kr?Ss(t,e):n===Ir?kc(t,e):n===Un?cw(t,e):void 0}(e,t,r):hi(e,e[h],n,t)}function hw(e,t,n,r){const i=t[G].queries[r];if(null===i.matches){const o=e.data,a=n.matches,f=[];for(let d=0;d<a.length;d+=2){const D=a[d];f.push(D<0?null:vF(t,o[D],a[d+1],n.metadata.read))}i.matches=f}return i.matches}function Zh(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const a=hw(e,t,i,n);for(let f=0;f<o.length;f+=2){const d=o[f];if(d>0)r.push(a[f/2]);else{const D=o[f+1],A=t[-d];for(let N=me;N<A.length;N++){const B=A[N];B[L]===B[v]&&Zh(B[h],B,D,r)}if(null!==A[he]){const N=A[he];for(let B=0;B<N.length;B++){const H=N[B];Zh(H[h],H,D,r)}}}}}return r}function Xh(e){const t=ne(),n=je(),r=Sm();Qf(r+1);const i=yw(n,r);if(e.dirty&&function WS(e){return 4==(4&e[m])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Zh(n,t,r,[]):hw(n,t,i,r);e.reset(o,_2),e.notifyOnChanges()}return!0}return!1}function pw(e,t,n){const r=je();r.firstCreatePass&&(function vw(e,t,n){null===e.queries&&(e.queries=new Gh),e.queries.track(new Wh(t,n))}(r,new dw(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function mw(e,t,n){const r=new $h(4==(4&n));(function lx(e,t,n,r){const i=j0(t);i.push(n),e.firstCreatePass&&B0(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[G]&&(t[G]=new Kh),t[G].queries.push(new zh(r))}(r,ne(),t)}function yw(e,t){return e.queries.getByIndex(t)}const rp=new J("Application Initializer");let ip=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ae(rp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Tc(o))n.push(o);else if(Ey(o)){const a=new Promise((f,d)=>{o.subscribe({complete:f,error:d})});n.push(a)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ow=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const Ar=new J("LocaleId",{providedIn:"root",factory:()=>ae(Ar,Ce.Optional|Ce.SkipSelf)||function UF(){return typeof $localize<"u"&&$localize.locale||Ls}()});let Bc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class zF{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let kw=(()=>{class e{compileModuleSync(n){return new Hh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=br(ce(n).declarations).reduce((a,f)=>{const d=ke(f);return d&&a.push(new Qo(d)),a},[]);return new zF(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Hw=new J(""),Vc=new J("");let cp,ap=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,cp||(function h_(e){cp=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(de(rt),de(up),de(Vc))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})(),up=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return cp?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Zr=null;const Vw=new J("AllowMultipleToken"),lp=new J("PlatformDestroyListeners"),fp=new J("appBootstrapListener");class $w{constructor(t,n){this.name=t,this.token=n}}function zw(e,t,n=[]){const r=`Platform: ${t}`,i=new J(r);return(o=[])=>{let a=dp();if(!a||a.injector.get(Vw,!1)){const f=[...n,...o,{provide:i,useValue:!0}];e?e(f):function m_(e){if(Zr&&!Zr.get(Vw,!1))throw new oe(400,!1);(function Uw(){!function OS(e){tm=e}(()=>{throw new oe(600,!1)})})(),Zr=e;const t=e.get(Gw);(function qw(e){e.get(Wv,null)?.forEach(n=>n())})(e)}(function Kw(e=[],t){return Fn.create({name:t,providers:[{provide:jd,useValue:"platform"},{provide:lp,useValue:new Set([()=>Zr=null])},...e]})}(f,r))}return function y_(e){const t=dp();if(!t)throw new oe(401,!1);return t}()}}function dp(){return Zr?.get(Gw)??null}let Gw=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function w_(e="zone.js",t){return"noop"===e?new K2:"zone.js"===e?new rt(t):e}(r?.ngZone,function Ww(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function IT(e,t,n){return new Bh(e,t,n)}(n.moduleType,this.injector,function Qw(e){return[{provide:rt,useFactory:e},{provide:Ko,multi:!0,useFactory:()=>{const t=ae(D_,{optional:!0});return()=>t.initialize()}},{provide:Yw,useFactory:E_},{provide:d0,useFactory:h0}]}(()=>i)),a=o.injector.get(Sr,null);return i.runOutsideAngular(()=>{const f=i.onError.subscribe({next:d=>{a.handleError(d)}});o.onDestroy(()=>{Uc(this._modules,o),f.unsubscribe()})}),function Zw(e,t,n){try{const r=n();return Tc(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(a,i,()=>{const f=o.injector.get(ip);return f.runInitializers(),f.donePromise.then(()=>(function y1(e){an(e,"Expected localeId to be defined"),"string"==typeof e&&(v1=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ar,Ls)||Ls),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=Xw({},r);return function p_(e,t,n){const r=new Hh(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Hs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new oe(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(lp,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(de(Fn))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Xw(e,t){return Array.isArray(t)?t.reduce(Xw,e):{...e,...t}}let Hs=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ae(Yw),this.zoneIsStable=ae(d0),this.componentTypes=[],this.components=[],this.isStable=ae(Bc).hasPendingTasks.pipe(Lt(n=>n?we(!1):this.zoneIsStable),function Ef(e,t=Zn){return e=e??Df,pt((n,r)=>{let i,o=!0;n.subscribe(gt(r,a=>{const f=t(a);(o||!e(i,f))&&(o=!1,i=f,r.next(a))}))})}(),lu()),this._injector=ae(wn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Qv;if(!this._injector.get(ip).done)throw!i&&function vr(e){const t=ke(e)||xt(e)||Ht(e);return null!==t&&t.standalone}(n),new oe(405,!1);let a;a=i?n:this._injector.get(dc).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const f=function g_(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Si),D=a.create(Fn.NULL,[],r||a.selector,f),A=D.location.nativeElement,N=D.injector.get(Hw,null);return N?.registerApplication(A),D.onDestroy(()=>{this.detachView(D.hostView),Uc(this.components,D),N?.unregisterApplication(A)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Uc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(fp,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Uc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new oe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Uc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Yw=new J("",{providedIn:"root",factory:()=>ae(Sr).handleError.bind(void 0)});function E_(){const e=ae(rt),t=ae(Sr);return n=>e.runOutsideAngular(()=>t.handleError(n))}let D_=(()=>{class e{constructor(){this.zone=ae(rt),this.applicationRef=ae(Hs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();let hp=(()=>{class e{static{this.__NG_ELEMENT_ID__=b_}}return e})();function b_(e){return function C_(e,t,n){if(vt(e)&&!n){const r=vn(e.index,t);return new Yo(r,r)}return 47&e.type?new Yo(t[P],t):null}(kt(),ne(),16==(16&e))}const k_=zw(null,"core",[]);let L_=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(de(Hs))}}static{this.\u0275mod=ee({type:e})}static{this.\u0275inj=Fe({})}}return e})(),Ep=null;function Vs(){return Ep}class J_{}const Dn=new J("DocumentToken");let Dp=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:function(){return ae(Q_)},providedIn:"platform"})}}return e})();const Y_=new J("Location Initialized");let Q_=(()=>{class e extends Dp{constructor(){super(),this._doc=ae(Dn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vs().getBaseHref(this._doc)}onPopState(n){const r=Vs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Vs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:function(){return new e},providedIn:"platform"})}}return e})();function Sp(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function yE(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Tr(e){return e&&"?"!==e[0]?"?"+e:e}let Ci=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:function(){return ae(EE)},providedIn:"root"})}}return e})();const wE=new J("appBaseHref");let EE=(()=>{class e extends Ci{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ae(Dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Sp(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Tr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const a=this.prepareExternalUrl(i+Tr(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){const a=this.prepareExternalUrl(i+Tr(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(de(Dp),de(wE,8))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),eR=(()=>{class e extends Ci{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Sp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+Tr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+Tr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(de(Dp),de(wE,8))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})(),bp=(()=>{class e{constructor(n){this._subject=new Jt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function rR(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(yE(DE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Tr(r))}normalize(n){return e.stripTrailingSlash(function nR(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,DE(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Tr}static{this.joinWithSlash=Sp}static{this.stripTrailingSlash=yE}static{this.\u0275fac=function(r){return new(r||e)(de(Ci))}}static{this.\u0275prov=pe({token:e,factory:function(){return function tR(){return new bp(de(Ci))}()},providedIn:"root"})}}return e})();function DE(e){return e.replace(/\/index.html$/,"")}function _E(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}let PE=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new zR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){OE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){OE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(De(Un),De(Ir))}}static{this.\u0275dir=Bt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class zR{constructor(){this.$implicit=null,this.ngIf=null}}function OE(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ut(t)}'.`)}let mM=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=ee({type:e})}static{this.\u0275inj=Fe({})}}return e})();function BE(e){return"server"===e}let EM=(()=>{class e{static{this.\u0275prov=pe({token:e,providedIn:"root",factory:()=>new DM(de(Dn),window)})}}return e})();class DM{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function SM(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class HE{}class zM extends J_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Hp extends zM{static makeCurrent(){!function X_(e){Ep||(Ep=e)}(new Hp)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function KM(){return Ea=Ea||document.querySelector("base"),Ea?Ea.getAttribute("href"):null}();return null==n?null:function GM(e){sl=sl||document.createElement("a"),sl.setAttribute("href",e);const t=sl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return _E(document.cookie,t)}}let sl,Ea=null,ZM=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})();const Vp=new J("EventManagerPlugins");let zE=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new oe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(de(Vp),de(rt))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})();class KE{constructor(t){this._doc=t}}const Up="ng-app-id";let GE=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=BE(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Up}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Up),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Up,this.appId),a}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,a=o.get(r)?.elements;a?a.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(de(Dn),de(oc),de(Zv,8),de(mi))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})();const $p={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qp=/%COMP%/g,QM=new J("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ZE(e,t){return t.map(n=>n.replace(qp,e))}let XE=(()=>{class e{constructor(n,r,i,o,a,f,d,D=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=f,this.ngZone=d,this.nonce=D,this.rendererByCompId=new Map,this.platformIsServer=BE(f),this.defaultRenderer=new zp(n,a,d,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===gn.ShadowDom&&(r={...r,encapsulation:gn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof YE?i.applyToHost(n):i instanceof Kp&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const a=this.doc,f=this.ngZone,d=this.eventManager,D=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,N=this.platformIsServer;switch(r.encapsulation){case gn.Emulated:o=new YE(d,D,r,this.appId,A,a,f,N);break;case gn.ShadowDom:return new rN(d,D,n,r,a,f,this.nonce,N);default:o=new Kp(d,D,r,A,a,f,N)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(de(zE),de(GE),de(oc),de(QM),de(Dn),de(mi),de(rt),de(Zv))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})();class zp{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS($p[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(JE(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(JE(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new oe(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=$p[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=$p[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(qr.DashCase|qr.Important)?t.style.setProperty(n,r,i&qr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&qr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Vs().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function JE(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class rN extends zp{constructor(t,n,r,i,o,a,f,d){super(t,o,a,d),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const D=ZE(i.id,i.styles);for(const A of D){const N=document.createElement("style");f&&N.setAttribute("nonce",f),N.textContent=A,this.shadowRoot.appendChild(N)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Kp extends zp{constructor(t,n,r,i,o,a,f,d){super(t,o,a,f),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=d?ZE(d,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class YE extends Kp{constructor(t,n,r,i,o,a,f,d){const D=i+"-"+r.id;super(t,n,r,o,a,f,d,D),this.contentAttr=function eN(e){return"_ngcontent-%COMP%".replace(qp,e)}(D),this.hostAttr=function tN(e){return"_nghost-%COMP%".replace(qp,e)}(D)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let iN=(()=>{class e extends KE{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(de(Dn))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})();const QE=["alt","control","meta","shift"],sN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let aN=(()=>{class e extends KE{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),a=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vs().onAndCancel(n,o.domEventName,a))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let a="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),a="code."),QE.forEach(D=>{const A=r.indexOf(D);A>-1&&(r.splice(A,1),a+=D+".")}),a+=o,0!=r.length||0===o.length)return null;const d={};return d.domEventName=i,d.fullKey=a,d}static matchEventFullKeyCode(n,r){let i=sN[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),QE.forEach(a=>{a!==i&&(0,oN[a])(n)&&(o+=a+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(de(Dn))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})();const fN=zw(k_,"browser",[{provide:mi,useValue:"browser"},{provide:Wv,useValue:function uN(){Hp.makeCurrent()},multi:!0},{provide:Dn,useFactory:function lN(){return function jC(e){Td=e}(document),document},deps:[]}]),dN=new J(""),nD=[{provide:Vc,useClass:class WM{addToWindow(t){Ye.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new oe(5103,!1);return o},Ye.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ye.getAllAngularRootElements=()=>t.getAllRootElements(),Ye.frameworkStabilizers||(Ye.frameworkStabilizers=[]),Ye.frameworkStabilizers.push(r=>{const i=Ye.getAllAngularTestabilities();let o=i.length,a=!1;const f=function(d){a=a||d,o--,0==o&&r(a)};i.forEach(d=>{d.whenStable(f)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Vs().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:Hw,useClass:ap,deps:[rt,up,Vc]},{provide:ap,useClass:ap,deps:[rt,up,Vc]}],rD=[{provide:jd,useValue:"root"},{provide:Sr,useFactory:function cN(){return new Sr},deps:[]},{provide:Vp,useClass:iN,multi:!0,deps:[Dn,rt,mi]},{provide:Vp,useClass:aN,multi:!0,deps:[Dn]},XE,GE,zE,{provide:t0,useExisting:XE},{provide:HE,useClass:ZM,deps:[]},[]];let hN=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:oc,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(de(dN,12))}}static{this.\u0275mod=ee({type:e})}static{this.\u0275inj=Fe({providers:[...rD,...nD],imports:[mM,L_]})}}return e})(),iD=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(de(Dn))}}static{this.\u0275prov=pe({token:e,factory:function(r){let i=null;return i=r?new r:function gN(){return new iD(de(Dn))}(),i},providedIn:"root"})}}return e})();typeof window<"u"&&window;const{isArray:DN}=Array,{getPrototypeOf:SN,prototype:bN,keys:CN}=Object;const{isArray:AN}=Array;function Wp(...e){const t=ii(e),n=function ff(e){return Be(yo(e))?e.pop():void 0}(e),{args:r,keys:i}=function xN(e){if(1===e.length){const t=e[0];if(DN(t))return{args:t,keys:null};if(function IN(e){return e&&"object"==typeof e&&SN(e)===bN}(t)){const n=CN(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return Et([],t);const o=new ft(function RN(e,t,n=Zn){return r=>{uD(t,()=>{const{length:i}=e,o=new Array(i);let a=i,f=i;for(let d=0;d<i;d++)uD(t,()=>{const D=Et(e[d],t);let A=!1;D.subscribe(gt(r,N=>{o[d]=N,A||(A=!0,f--),f||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,t,i?a=>function _N(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,a):Zn));return n?o.pipe(function FN(e){return He(t=>function TN(e,t){return AN(t)?e(...t):e(t)}(e,t))}(n)):o}function uD(e,t,n){e?kn(n,e,t):t()}const ol=Kn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Zp(...e){return function MN(){return Pr(1)}()(Et(e,ii(e)))}function cD(e){return new ft(t=>{sn(e()).subscribe(t)})}function Da(e,t){const n=Be(e)?e:()=>e,r=i=>i.error(n());return new ft(t?i=>t.schedule(r,0,i):r)}function Xp(){return pt((e,t)=>{let n=null;e._refCount++;const r=gt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class lD extends ft{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ka(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ie;const n=this.getSubject();t.add(this.source.subscribe(gt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ie.EMPTY)}return t}refCount(){return Xp()(this)}}function $s(e){return e<=0?()=>Cn:pt((t,n)=>{let r=0;t.subscribe(gt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Rr(e,t){return pt((n,r)=>{let i=0;n.subscribe(gt(r,o=>e.call(t,o,i++)&&r.next(o)))})}function al(e){return pt((t,n)=>{let r=!1;t.subscribe(gt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function fD(e=PN){return pt((t,n)=>{let r=!1;t.subscribe(gt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function PN(){return new ol}function xi(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Rr((i,o)=>e(i,o,r)):Zn,$s(1),n?al(t):fD(()=>new ol))}function qs(e,t){return Be(t)?bt(e,t,1):bt(e,1)}function $t(e,t,n){const r=Be(e)||t||n?{next:e,error:t,complete:n}:e;return r?pt((i,o)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let f=!0;i.subscribe(gt(o,d=>{var D;null===(D=r.next)||void 0===D||D.call(r,d),o.next(d)},()=>{var d;f=!1,null===(d=r.complete)||void 0===d||d.call(r),o.complete()},d=>{var D;f=!1,null===(D=r.error)||void 0===D||D.call(r,d),o.error(d)},()=>{var d,D;f&&(null===(d=r.unsubscribe)||void 0===d||d.call(r)),null===(D=r.finalize)||void 0===D||D.call(r)}))}):Zn}function Ii(e){return pt((t,n)=>{let o,r=null,i=!1;r=t.subscribe(gt(n,void 0,void 0,a=>{o=sn(e(a,Ii(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Jp(e){return e<=0?()=>Cn:pt((t,n)=>{let r=[];t.subscribe(gt(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Sa(e){return pt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Te="primary",ba=Symbol("RouteTitle");class HN{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function zs(e){return new HN(e)}function VN(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const a=r[o],f=e[o];if(a.startsWith(":"))i[a.substring(1)]=f;else if(a!==f.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ar(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!dD(e[i],t[i]))return!1;return!0}function dD(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function hD(e){return e.length>0?e[e.length-1]:null}function Jr(e){return function EN(e){return!!e&&(e instanceof ft||Be(e.lift)&&Be(e.subscribe))}(e)?e:Tc(e)?Et(Promise.resolve(e)):we(e)}const $N={exact:function mD(e,t,n){if(!Ai(e.segments,t.segments)||!ul(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!mD(e.children[r],t.children[r],n))return!1;return!0},subset:vD},pD={exact:function qN(e,t){return ar(e,t)},subset:function zN(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>dD(e[n],t[n]))},ignored:()=>!0};function gD(e,t,n){return $N[n.paths](e.root,t.root,n.matrixParams)&&pD[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function vD(e,t,n){return yD(e,t,t.segments,n)}function yD(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Ai(i,n)||t.hasChildren()||!ul(i,n,r))}if(e.segments.length===n.length){if(!Ai(e.segments,n)||!ul(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!vD(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Ai(e.segments,i)&&ul(e.segments,i,r)&&e.children[Te])&&yD(e.children[Te],t,o,r)}}function ul(e,t,n){return t.every((r,i)=>pD[n](e[i].parameters,r.parameters))}class Ks{constructor(t=new Xe([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zs(this.queryParams)),this._queryParamMap}toString(){return WN.serialize(this)}}class Xe{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cl(this)}}class Ca{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=zs(this.parameters)),this._parameterMap}toString(){return DD(this)}}function Ai(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let xa=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:function(){return new Yp},providedIn:"root"})}}return e})();class Yp{parse(t){const n=new sP(t);return new Ks(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Ia(t.root,!0)}`,r=function JN(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${ll(n)}=${ll(i)}`).join("&"):`${ll(n)}=${ll(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function ZN(e){return encodeURI(e)}(t.fragment)}`:""}`}}const WN=new Yp;function cl(e){return e.segments.map(t=>DD(t)).join("/")}function Ia(e,t){if(!e.hasChildren())return cl(e);if(t){const n=e.children[Te]?Ia(e.children[Te],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Te&&r.push(`${i}:${Ia(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function GN(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Te&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Te&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Te?[Ia(e.children[Te],!1)]:[`${i}:${Ia(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Te]?`${cl(e)}/${n[0]}`:`${cl(e)}/(${n.join("//")})`}}function wD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ll(e){return wD(e).replace(/%3B/gi,";")}function Qp(e){return wD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fl(e){return decodeURIComponent(e)}function ED(e){return fl(e.replace(/\+/g,"%20"))}function DD(e){return`${Qp(e.path)}${function XN(e){return Object.keys(e).map(t=>`;${Qp(t)}=${Qp(e[t])}`).join("")}(e.parameters)}`}const YN=/^[^\/()?;#]+/;function eg(e){const t=e.match(YN);return t?t[0]:""}const QN=/^[^\/()?;=#]+/,tP=/^[^=?&#]+/,rP=/^[^&#]+/;class sP{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Te]=new Xe(t,n)),r}parseSegment(){const t=eg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new oe(4009,!1);return this.capture(t),new Ca(fl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function eP(e){const t=e.match(QN);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=eg(this.remaining);i&&(r=i,this.capture(r))}t[fl(n)]=fl(r)}parseQueryParam(t){const n=function nP(e){const t=e.match(tP);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const a=function iP(e){const t=e.match(rP);return t?t[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=ED(n),o=ED(r);if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new oe(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Te);const a=this.parseChildren();n[o]=1===Object.keys(a).length?a[Te]:new Xe([],a),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new oe(4011,!1)}}function SD(e){return e.segments.length>0?new Xe([],{[Te]:e}):e}function bD(e){const t={};for(const r of Object.keys(e.children)){const o=bD(e.children[r]);if(r===Te&&0===o.segments.length&&o.hasChildren())for(const[a,f]of Object.entries(o.children))t[a]=f;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function oP(e){if(1===e.numberOfChildren&&e.children[Te]){const t=e.children[Te];return new Xe(e.segments.concat(t.segments),t.children)}return e}(new Xe(e.segments,t))}function Ti(e){return e instanceof Ks}function CD(e){let t;const i=SD(function n(o){const a={};for(const d of o.children){const D=n(d);a[d.outlet]=D}const f=new Xe(o.url,a);return o===e&&(t=f),f}(e.root));return t??i}function xD(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return tg(i,i,i,n,r);const o=function uP(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new AD(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return Object.entries(o.outlets).forEach(([d,D])=>{f[d]="string"==typeof D?D.split("/"):D}),[...i,{outlets:f}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===a?(o.split("/").forEach((f,d)=>{0==d&&"."===f||(0==d&&""===f?n=!0:".."===f?t++:""!=f&&i.push(f))}),i):[...i,o]},[]);return new AD(n,t,r)}(t);if(o.toRoot())return tg(i,i,new Xe([],{}),n,r);const a=function cP(e,t,n){if(e.isAbsolute)return new hl(t,!0,0);if(!n)return new hl(t,!1,NaN);if(null===n.parent)return new hl(n,!0,0);const r=dl(e.commands[0])?0:1;return function lP(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new oe(4005,!1);i=r.segments.length}return new hl(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),f=a.processChildren?Ta(a.segmentGroup,a.index,o.commands):TD(a.segmentGroup,a.index,o.commands);return tg(i,a.segmentGroup,f,n,r)}function dl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Aa(e){return"object"==typeof e&&null!=e&&e.outlets}function tg(e,t,n,r,i){let a,o={};r&&Object.entries(r).forEach(([d,D])=>{o[d]=Array.isArray(D)?D.map(A=>`${A}`):`${D}`}),a=e===t?n:ID(e,t,n);const f=SD(bD(a));return new Ks(f,o,i)}function ID(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:ID(o,t,n)}),new Xe(e.segments,r)}class AD{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&dl(r[0]))throw new oe(4003,!1);const i=r.find(Aa);if(i&&i!==hD(r))throw new oe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hl{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function TD(e,t,n){if(e||(e=new Xe([],{})),0===e.segments.length&&e.hasChildren())return Ta(e,t,n);const r=function dP(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const a=e.segments[i],f=n[r];if(Aa(f))break;const d=`${f}`,D=r<n.length-1?n[r+1]:null;if(i>0&&void 0===d)break;if(d&&D&&"object"==typeof D&&void 0===D.outlets){if(!_D(d,D,a))return o;r+=2}else{if(!_D(d,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new Xe(e.segments.slice(0,r.pathIndex),{});return o.children[Te]=new Xe(e.segments.slice(r.pathIndex),e.children),Ta(o,0,i)}return r.match&&0===i.length?new Xe(e.segments,{}):r.match&&!e.hasChildren()?ng(e,t,n):r.match?Ta(e,0,i):ng(e,t,n)}function Ta(e,t,n){if(0===n.length)return new Xe(e.segments,{});{const r=function fP(e){return Aa(e[0])?e[0].outlets:{[Te]:e}}(n),i={};if(Object.keys(r).some(o=>o!==Te)&&e.children[Te]&&1===e.numberOfChildren&&0===e.children[Te].segments.length){const o=Ta(e.children[Te],t,n);return new Xe(e.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(i[o]=TD(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{void 0===r[o]&&(i[o]=a)}),new Xe(e.segments,i)}}function ng(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Aa(o)){const d=hP(o.outlets);return new Xe(r,d)}if(0===i&&dl(n[0])){r.push(new Ca(e.segments[t].path,FD(n[0]))),i++;continue}const a=Aa(o)?o.outlets[Te]:`${o}`,f=i<n.length-1?n[i+1]:null;a&&f&&dl(f)?(r.push(new Ca(a,FD(f))),i+=2):(r.push(new Ca(a,{})),i++)}return new Xe(r,{})}function hP(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=ng(new Xe([],{}),0,r))}),t}function FD(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function _D(e,t,n){return e==n.path&&ar(t,n.parameters)}const Fa="imperative";class ur{constructor(t,n){this.id=t,this.url=n}}class pl extends ur{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yr extends ur{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _a extends ur{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gs extends ur{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class gl extends ur{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RD extends ur{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pP extends ur{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gP extends ur{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mP extends ur{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vP extends ur{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yP{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wP{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class EP{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DP{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SP{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bP{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MD{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rg{}class ig{constructor(t){this.url=t}}class CP{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ra,this.attachRef=null}}let Ra=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new CP,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class ND{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=sg(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=sg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=og(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return og(t,this._root).map(n=>n.value)}}function sg(e,t){if(e===t.value)return t;for(const n of t.children){const r=sg(e,n);if(r)return r}return null}function og(e,t){if(e===t.value)return[t];for(const n of t.children){const r=og(e,n);if(r.length)return r.unshift(t),r}return[]}class Mr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ws(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class PD extends ND{constructor(t,n){super(t),this.snapshot=n,ag(this,t)}toString(){return this.snapshot.toString()}}function OD(e,t){const n=function xP(e,t){const a=new ml([],{},{},"",{},Te,t,null,{});return new LD("",new Mr(a,[]))}(0,t),r=new Je([new Ca("",{})]),i=new Je({}),o=new Je({}),a=new Je({}),f=new Je(""),d=new Zs(r,i,a,f,o,Te,t,n.root);return d.snapshot=n.root,new PD(new Mr(d,[]),n)}class Zs{constructor(t,n,r,i,o,a,f,d){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=f,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(He(D=>D[ba]))??we(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(He(t=>zs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(He(t=>zs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kD(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function IP(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ml{get title(){return this.data?.[ba]}constructor(t,n,r,i,o,a,f,d,D){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=f,this.routeConfig=d,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class LD extends ND{constructor(t,n){super(n),this.url=t,ag(this,n)}toString(){return jD(this._root)}}function ag(e,t){t.value._routerState=e,t.children.forEach(n=>ag(e,n))}function jD(e){const t=e.children.length>0?` { ${e.children.map(jD).join(", ")} } `:"";return`${e.value}${t}`}function ug(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ar(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ar(t.params,n.params)||e.paramsSubject.next(n.params),function UN(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ar(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),ar(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function cg(e,t){const n=ar(e.params,t.params)&&function KN(e,t){return Ai(e,t)&&e.every((n,r)=>ar(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||cg(e.parent,t.parent))}let lg=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Te,this.activateEvents=new Jt,this.deactivateEvents=new Jt,this.attachEvents=new Jt,this.detachEvents=new Jt,this.parentContexts=ae(Ra),this.location=ae(Un),this.changeDetector=ae(hp),this.environmentInjector=ae(wn),this.inputBinder=ae(vl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new oe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new oe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new oe(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new oe(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,d=new AP(n,f,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Bt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fi]})}}return e})();class AP{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Zs?this.route:t===Ra?this.childContexts:this.parent.get(t,n)}}const vl=new J("");let BD=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Wp([r.queryParams,r.params,r.data]).pipe(Lt(([o,a,f],d)=>(f={...o,...a,...f},0===d?we(f):Promise.resolve(f)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const a=function Z_(e){const t=ke(e);if(!t)return null;const n=new Qo(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(a)for(const{templateName:f}of a.inputs)n.activatedComponentRef.setInput(f,o[f]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})();function Ma(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function FP(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ma(e,r,i);return Ma(e,r)})}(e,t,n);return new Mr(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(f=>Ma(e,f)),a}}const r=function _P(e){return new Zs(new Je(e.url),new Je(e.params),new Je(e.queryParams),new Je(e.fragment),new Je(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Ma(e,o));return new Mr(r,i)}}const fg="ngNavigationCancelingError";function HD(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Ti(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=VD(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function VD(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[fg]=!0,r.cancellationCode=t,n&&(r.url=n),r}function UD(e){return e&&e[fg]}let $D=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ci({type:e,selectors:[["ng-component"]],standalone:!0,features:[z1],decls:1,vars:0,template:function(r,i){1&r&&sa(0,"router-outlet")},dependencies:[lg],encapsulation:2})}}return e})();function dg(e){const t=e.children&&e.children.map(dg),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Te&&(n.component=$D),n}function zn(e){return e.outlet||Te}function Na(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class jP{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),ug(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Ws(n);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(t,n,a.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ws(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);if(r&&r.outlet){const a=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:f})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ws(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Ws(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new bP(o.value.snapshot))}),t.children.length&&this.forwardEvent(new DP(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(ug(i),i===o)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,a.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(f.contexts),a.attachRef=f.componentRef,a.route=f.route.value,a.outlet&&a.outlet.attach(f.componentRef,f.route.value),ug(f.route.value),this.activateChildRoutes(t,null,a.children)}else{const f=Na(i.snapshot);a.attachRef=null,a.route=i,a.injector=f,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,r)}}class qD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class yl{constructor(t,n){this.component=t,this.route=n}}function BP(e,t,n){const r=e._root;return Pa(r,t?t._root:null,n,[r.value])}function Xs(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function If(e){return null!==ji(e)}(e)?t.get(e):e:r}function Pa(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ws(t);return e.children.forEach(a=>{(function VP(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=t?t.value:null,f=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const d=function UP(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ai(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ai(e.url,t.url)||!ar(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cg(e,t)||!ar(e.queryParams,t.queryParams);default:return!cg(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new qD(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Pa(e,t,o.component?f?f.children:null:n,r,i),d&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new yl(f.outlet.component,a))}else a&&Oa(t,f,i),i.canActivateChecks.push(new qD(r)),Pa(e,null,o.component?f?f.children:null:n,r,i)})(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,f])=>Oa(f,n.getContext(a),i)),i}function Oa(e,t,n){const r=Ws(e),i=e.value;Object.entries(r).forEach(([o,a])=>{Oa(a,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new yl(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function ka(e){return"function"==typeof e}function zD(e){return e instanceof ol||"EmptyError"===e?.name}const wl=Symbol("INITIAL_VALUE");function Js(){return Lt(e=>Wp(e.map(t=>t.pipe($s(1),function NN(...e){const t=ii(e);return pt((n,r)=>{(t?Zp(e,n,t):Zp(e,n)).subscribe(r)})}(wl)))).pipe(He(t=>{for(const n of t)if(!0!==n){if(n===wl)return wl;if(!1===n||n instanceof Ks)return n}return!0}),Rr(t=>t!==wl),$s(1)))}function KD(e){return function Fl(...e){return $a(e)}($t(t=>{if(Ti(t))throw HD(0,t)}),He(t=>!0===t))}class El{constructor(t){this.segmentGroup=t||null}}class GD{constructor(t){this.urlTree=t}}function Ys(e){return Da(new El(e))}function WD(e){return Da(new GD(e))}class u4{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new oe(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return we(r);if(i.numberOfChildren>1||!i.children[Te])return Da(new oe(4e3,!1));i=i.children[Te]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Ks(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const f=o.substring(1);r[i]=n[f]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let a={};return Object.entries(n.children).forEach(([f,d])=>{a[f]=this.createSegmentGroup(t,d,r,i)}),new Xe(o,a)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new oe(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const hg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function c4(e,t,n,r,i){const o=pg(e,t,n);return o.matched?(r=function MP(e,t){return e.providers&&!e._injector&&(e._injector=Vh(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function s4(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?we(i.map(a=>{const f=Xs(a,e);return Jr(function WP(e){return e&&ka(e.canMatch)}(f)?f.canMatch(t,n):e.runInContext(()=>f(t,n)))})).pipe(Js(),KD()):we(!0)}(r,t,n).pipe(He(a=>!0===a?o:{...hg}))):we(o)}function pg(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...hg}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||VN)(n,e,t);if(!i)return{...hg};const o={};Object.entries(i.posParams??{}).forEach(([f,d])=>{o[f]=d.path});const a=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function ZD(e,t,n,r){return n.length>0&&function d4(e,t,n){return n.some(r=>Dl(e,t,r)&&zn(r)!==Te)}(e,n,r)?{segmentGroup:new Xe(t,f4(r,new Xe(n,e.children))),slicedSegments:[]}:0===n.length&&function h4(e,t,n){return n.some(r=>Dl(e,t,r))}(e,n,r)?{segmentGroup:new Xe(e.segments,l4(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Xe(e.segments,e.children),slicedSegments:n}}function l4(e,t,n,r,i){const o={};for(const a of r)if(Dl(e,n,a)&&!i[zn(a)]){const f=new Xe([],{});o[zn(a)]=f}return{...i,...o}}function f4(e,t){const n={};n[Te]=t;for(const r of e)if(""===r.path&&zn(r)!==Te){const i=new Xe([],{});n[zn(r)]=i}return n}function Dl(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class v4{constructor(t,n,r,i,o,a,f){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new u4(this.urlSerializer,this.urlTree)}noMatchError(t){return new oe(4002,!1)}recognize(){const t=ZD(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Te).pipe(Ii(n=>{if(n instanceof GD)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof El?this.noMatchError(n):n}),He(n=>{const r=new ml([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Te,this.rootComponentType,null,{}),i=new Mr(r,n),o=new LD("",i),a=function aP(e,t,n=null,r=null){return xD(CD(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root),{state:o,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Te).pipe(Ii(r=>{throw r instanceof El?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=kD(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Et(i).pipe(qs(o=>{const a=r.children[o],f=function kP(e,t){const n=e.filter(r=>zn(r)===t);return n.push(...e.filter(r=>zn(r)!==t)),n}(n,o);return this.processSegmentGroup(t,f,a,o)}),function kN(e,t){return pt(function ON(e,t,n,r,i){return(o,a)=>{let f=n,d=t,D=0;o.subscribe(gt(a,A=>{const N=D++;d=f?e(d,A,N):(f=!0,A),r&&a.next(d)},i&&(()=>{f&&a.next(d),a.complete()})))}}(e,t,arguments.length>=2,!0))}((o,a)=>(o.push(...a),o)),al(null),function LN(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Rr((i,o)=>e(i,o,r)):Zn,Jp(1),n?al(t):fD(()=>new ol))}(),bt(o=>{if(null===o)return Ys(r);const a=XD(o);return function y4(e){e.sort((t,n)=>t.value.outlet===Te?-1:n.value.outlet===Te?1:t.value.outlet.localeCompare(n.value.outlet))}(a),we(a)}))}processSegment(t,n,r,i,o,a){return Et(n).pipe(qs(f=>this.processSegmentAgainstRoute(f._injector??t,n,f,r,i,o,a).pipe(Ii(d=>{if(d instanceof El)return we(null);throw d}))),xi(f=>!!f),Ii(f=>{if(zD(f))return function g4(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?we([]):Ys(r);throw f}))}processSegmentAgainstRoute(t,n,r,i,o,a,f){return function p4(e,t,n,r){return!!(zn(e)===r||r!==Te&&Dl(t,n,e))&&("**"===e.path||pg(t,e,n).matched)}(r,i,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,a,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,a):Ys(i):Ys(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?WD(o):this.applyRedirects.lineralizeSegments(r,o).pipe(bt(a=>{const f=new Xe(a,{});return this.processSegment(t,n,f,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,a){const{matched:f,consumedSegments:d,remainingSegments:D,positionalParamSegments:A}=pg(n,i,o);if(!f)return Ys(n);const N=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,A);return i.redirectTo.startsWith("/")?WD(N):this.applyRedirects.lineralizeSegments(i,N).pipe(bt(B=>this.processSegment(t,r,n,B.concat(D),a,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,a){let f;if("**"===r.path){const d=i.length>0?hD(i).parameters:{};f=we({snapshot:new ml(i,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JD(r),zn(r),r.component??r._loadedComponent??null,r,YD(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else f=c4(n,r,i,t).pipe(He(({matched:d,consumedSegments:D,remainingSegments:A,parameters:N})=>d?{snapshot:new ml(D,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JD(r),zn(r),r.component??r._loadedComponent??null,r,YD(r)),consumedSegments:D,remainingSegments:A}:null));return f.pipe(Lt(d=>null===d?Ys(n):this.getChildConfig(t=r._injector??t,r,i).pipe(Lt(({routes:D})=>{const A=r._loadedInjector??t,{snapshot:N,consumedSegments:B,remainingSegments:H}=d,{segmentGroup:W,slicedSegments:X}=ZD(n,B,H,D);if(0===X.length&&W.hasChildren())return this.processChildren(A,D,W).pipe(He(re=>null===re?null:[new Mr(N,re)]));if(0===D.length&&0===X.length)return we([new Mr(N,[])]);const te=zn(r)===o;return this.processSegment(A,D,W,X,te?Te:o,!0).pipe(He(re=>[new Mr(N,re)]))}))))}getChildConfig(t,n,r){return n.children?we({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?we({routes:n._loadedRoutes,injector:n._loadedInjector}):function i4(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?we(!0):we(i.map(a=>{const f=Xs(a,e);return Jr(function qP(e){return e&&ka(e.canLoad)}(f)?f.canLoad(t,n):e.runInContext(()=>f(t,n)))})).pipe(Js(),KD())}(t,n,r).pipe(bt(i=>i?this.configLoader.loadChildren(t,n).pipe($t(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function a4(e){return Da(VD(!1,3))}())):we({routes:[],injector:t})}}function w4(e){const t=e.value.routeConfig;return t&&""===t.path}function XD(e){const t=[],n=new Set;for(const r of e){if(!w4(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=XD(r.children);t.push(new Mr(r.value,i))}return t.filter(r=>!n.has(r))}function JD(e){return e.data||{}}function YD(e){return e.resolve||{}}function QD(e){return"string"==typeof e.title||null===e.title}function gg(e){return Lt(t=>{const n=e(t);return n?Et(n).pipe(He(()=>t)):we(t)})}const Qs=new J("ROUTES");let mg=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ae(kw)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return we(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Jr(n.loadComponent()).pipe(He(eS),$t(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Sa(()=>{this.componentLoaders.delete(n)})),i=new lD(r,()=>new hn).pipe(Xp());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return we({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function I4(e,t,n,r){return Jr(e.loadChildren()).pipe(He(eS),bt(i=>i instanceof $1||Array.isArray(i)?we(i):Et(t.compileModuleAsync(i))),He(i=>{r&&r(e);let o,a,f=!1;return Array.isArray(i)?(a=i,!0):(o=i.create(n).injector,a=o.get(Qs,[],{optional:!0,self:!0}).flat()),{routes:a.map(dg),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Sa(()=>{this.childrenLoaders.delete(r)})),a=new lD(o,()=>new hn).pipe(Xp());return this.childrenLoaders.set(r,a),a}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function eS(e){return function A4(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Sl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new hn,this.transitionAbortSubject=new hn,this.configLoader=ae(mg),this.environmentInjector=ae(wn),this.urlSerializer=ae(xa),this.rootContexts=ae(Ra),this.inputBindingEnabled=null!==ae(vl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>we(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new wP(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new yP(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Je({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rr(o=>0!==o.id),He(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),Lt(o=>{this.currentTransition=o;let a=!1,f=!1;return we(o).pipe($t(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Lt(d=>{const D=d.currentBrowserUrl.toString(),A=!n.navigated||d.extractedUrl.toString()!==D||D!==d.currentUrlTree.toString();if(!A&&"reload"!==(d.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const B="";return this.events.next(new Gs(d.id,this.urlSerializer.serialize(d.rawUrl),B,0)),d.resolve(null),Cn}if(n.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return we(d).pipe(Lt(B=>{const H=this.transitions?.getValue();return this.events.next(new pl(B.id,this.urlSerializer.serialize(B.extractedUrl),B.source,B.restoredState)),H!==this.transitions?.getValue()?Cn:Promise.resolve(B)}),function E4(e,t,n,r,i,o){return bt(a=>function m4(e,t,n,r,i,o,a="emptyOnly"){return new v4(e,t,n,r,i,a,o).recognize()}(e,t,n,r,a.extractedUrl,i,o).pipe(He(({state:f,tree:d})=>({...a,targetSnapshot:f,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),$t(B=>{o.targetSnapshot=B.targetSnapshot,o.urlAfterRedirects=B.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:B.urlAfterRedirects};const H=new RD(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(H)}));if(A&&n.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){const{id:B,extractedUrl:H,source:W,restoredState:X,extras:te}=d,re=new pl(B,this.urlSerializer.serialize(H),W,X);this.events.next(re);const Q=OD(0,this.rootComponentType).snapshot;return this.currentTransition=o={...d,targetSnapshot:Q,urlAfterRedirects:H,extras:{...te,skipLocationChange:!1,replaceUrl:!1}},we(o)}{const B="";return this.events.next(new Gs(d.id,this.urlSerializer.serialize(d.extractedUrl),B,1)),d.resolve(null),Cn}}),$t(d=>{const D=new pP(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(D)}),He(d=>(this.currentTransition=o={...d,guards:BP(d.targetSnapshot,d.currentSnapshot,this.rootContexts)},o)),function XP(e,t){return bt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return 0===a.length&&0===o.length?we({...n,guardsResult:!0}):function JP(e,t,n,r){return Et(e).pipe(bt(i=>function r4(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?we(o.map(f=>{const d=Na(t)??i,D=Xs(f,d);return Jr(function GP(e){return e&&ka(e.canDeactivate)}(D)?D.canDeactivate(e,t,n,r):d.runInContext(()=>D(e,t,n,r))).pipe(xi())})).pipe(Js()):we(!0)}(i.component,i.route,n,t,r)),xi(i=>!0!==i,!0))}(a,r,i,e).pipe(bt(f=>f&&function $P(e){return"boolean"==typeof e}(f)?function YP(e,t,n,r){return Et(t).pipe(qs(i=>Zp(function e4(e,t){return null!==e&&t&&t(new EP(e)),we(!0)}(i.route.parent,r),function QP(e,t){return null!==e&&t&&t(new SP(e)),we(!0)}(i.route,r),function n4(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function HP(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(a)).filter(a=>null!==a).map(a=>cD(()=>we(a.guards.map(d=>{const D=Na(a.node)??n,A=Xs(d,D);return Jr(function KP(e){return e&&ka(e.canActivateChild)}(A)?A.canActivateChild(r,e):D.runInContext(()=>A(r,e))).pipe(xi())})).pipe(Js())));return we(o).pipe(Js())}(e,i.path,n),function t4(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return we(!0);const i=r.map(o=>cD(()=>{const a=Na(t)??n,f=Xs(o,a);return Jr(function zP(e){return e&&ka(e.canActivate)}(f)?f.canActivate(t,e):a.runInContext(()=>f(t,e))).pipe(xi())}));return we(i).pipe(Js())}(e,i.route,n))),xi(i=>!0!==i,!0))}(r,o,e,t):we(f)),He(f=>({...n,guardsResult:f})))})}(this.environmentInjector,d=>this.events.next(d)),$t(d=>{if(o.guardsResult=d.guardsResult,Ti(d.guardsResult))throw HD(0,d.guardsResult);const D=new gP(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(D)}),Rr(d=>!!d.guardsResult||(this.cancelNavigationTransition(d,"",3),!1)),gg(d=>{if(d.guards.canActivateChecks.length)return we(d).pipe($t(D=>{const A=new mP(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(A)}),Lt(D=>{let A=!1;return we(D).pipe(function D4(e,t){return bt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return we(n);let o=0;return Et(i).pipe(qs(a=>function S4(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!QD(i)&&(o[ba]=i.title),function b4(e,t,n,r){const i=function C4(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return we({});const o={};return Et(i).pipe(bt(a=>function x4(e,t,n,r){const i=Na(t)??r,o=Xs(e,i);return Jr(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[a],t,n,r).pipe(xi(),$t(f=>{o[a]=f}))),Jp(1),function jN(e){return He(()=>e)}(o),Ii(a=>zD(a)?Cn:Da(a)))}(o,e,t,r).pipe(He(a=>(e._resolvedData=a,e.data=kD(e,n).resolve,i&&QD(i)&&(e.data[ba]=i.title),null)))}(a.route,r,e,t)),$t(()=>o++),Jp(1),bt(a=>o===i.length?we(n):Cn))})}(n.paramsInheritanceStrategy,this.environmentInjector),$t({next:()=>A=!0,complete:()=>{A||this.cancelNavigationTransition(D,"",2)}}))}),$t(D=>{const A=new vP(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(A)}))}),gg(d=>{const D=A=>{const N=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(A.routeConfig).pipe($t(B=>{A.component=B}),He(()=>{})));for(const B of A.children)N.push(...D(B));return N};return Wp(D(d.targetSnapshot.root)).pipe(al(),$s(1))}),gg(()=>this.afterPreactivation()),He(d=>{const D=function TP(e,t,n){const r=Ma(e,t._root,n?n._root:void 0);return new PD(r,t)}(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o={...d,targetRouterState:D},o}),$t(()=>{this.events.next(new rg)}),((e,t,n,r)=>He(i=>(new jP(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),$s(1),$t({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yr(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),n.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),function BN(e){return pt((t,n)=>{sn(e).subscribe(gt(n,()=>n.complete(),io)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe($t(d=>{throw d}))),Sa(()=>{a||f||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ii(d=>{if(f=!0,UD(d))this.events.next(new _a(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),function RP(e){return UD(e)&&Ti(e.url)}(d)?this.events.next(new ig(d.url)):o.resolve(!1);else{this.events.next(new gl(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(d))}catch(D){o.reject(D)}}return Cn}))}))}cancelNavigationTransition(n,r,i){const o=new _a(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tS(e){return e!==Fa}let nS=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Te);return r}getResolvedTitleForRoute(n){return n.data[ba]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:function(){return ae(T4)},providedIn:"root"})}}return e})(),T4=(()=>{class e extends nS{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(de(iD))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),F4=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:function(){return ae(R4)},providedIn:"root"})}}return e})();class _4{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let R4=(()=>{class e extends _4{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=function Vm(e){return Ve(()=>{const t=e.prototype.constructor,n=t[In]||ud(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[In]||ud(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(e)))(i||e)}}()}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const bl=new J("",{providedIn:"root",factory:()=>({})});let M4=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:function(){return ae(N4)},providedIn:"root"})}}return e})(),N4=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var La=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(La||{});function rS(e,t){e.events.pipe(Rr(n=>n instanceof Yr||n instanceof _a||n instanceof gl||n instanceof Gs),He(n=>n instanceof Yr||n instanceof Gs?La.COMPLETE:n instanceof _a&&(0===n.code||1===n.code)?La.REDIRECTING:La.FAILED),Rr(n=>n!==La.REDIRECTING),$s(1)).subscribe(()=>{t()})}function P4(e){throw e}function O4(e,t,n){return t.parse("/")}const k4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ae(Ow),this.isNgZoneEnabled=!1,this._events=new hn,this.options=ae(bl,{optional:!0})||{},this.pendingTasks=ae(Bc),this.errorHandler=this.options.errorHandler||P4,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||O4,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ae(M4),this.routeReuseStrategy=ae(F4),this.titleStrategy=ae(nS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ae(Qs,{optional:!0})?.flat()??[],this.navigationTransitions=ae(Sl),this.urlSerializer=ae(xa),this.location=ae(bp),this.componentInputBindingEnabled=!!ae(vl,{optional:!0}),this.eventsSubscription=new ie,this.isNgZoneEnabled=ae(rt)instanceof rt&&rt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ks,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=OD(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(iS(r)&&this._events.next(r));if(r instanceof pl)tS(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Gs)this.rawUrlTree=i.rawUrl;else if(r instanceof RD){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof rg)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof _a)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof ig){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tS(i.source)};this.scheduleNavigation(o,Fa,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof gl&&this.restoreHistory(i,!0),r instanceof Yr&&(this.navigated=!0),iS(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fa,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const d={...i};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(o.state=d)}const f=this.parseUrl(n);this.scheduleNavigation(f,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(dg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:f,preserveFragment:d}=r,D=d?this.currentUrlTree.fragment:a;let N,A=null;switch(f){case"merge":A={...this.currentUrlTree.queryParams,...o};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=o||null}null!==A&&(A=this.removeEmptyProps(A));try{N=CD(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),N=this.currentUrlTree.root}return xD(N,n,A,D??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ti(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Fa,null,r)}navigate(n,r={skipLocationChange:!1}){return function j4(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new oe(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...k4}:!1===r?{...L4}:r,Ti(n))return gD(this.currentUrlTree,n,i);const o=this.parseUrl(n);return gD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let f,d,D;a?(f=a.resolve,d=a.reject,D=a.promise):D=new Promise((N,B)=>{f=N,d=B});const A=this.pendingTasks.add();return rS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:f,reject:d,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(N=>Promise.reject(N))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function iS(e){return!(e instanceof rg||e instanceof ig)}class sS{}let V4=(()=>{class e{constructor(n,r,i,o,a){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Rr(n=>n instanceof Yr),qs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Vh(o.providers,n,`Route: ${o.path}`));const a=o._injector??n,f=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(f,o.children??o._loadedRoutes))}return Et(i).pipe(Pr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):we(null);const o=i.pipe(bt(a=>null===a?we(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return r.loadComponent&&!r._loadedComponent?Et([o,this.loader.loadComponent(r)]).pipe(Pr()):o})}static{this.\u0275fac=function(r){return new(r||e)(de(Nn),de(kw),de(wn),de(sS),de(mg))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const yg=new J("");let oS=(()=>{class e{constructor(n,r,i,o,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof pl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Yr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Gs&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof MD&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new MD(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function A0(){throw new Error("invalid")}()}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})();function Nr(e,t){return{\u0275kind:e,\u0275providers:t}}function uS(){const e=ae(Fn);return t=>{const n=e.get(Hs);if(t!==n.components[0])return;const r=e.get(Nn),i=e.get(cS);1===e.get(wg)&&r.initialNavigation(),e.get(lS,null,Ce.Optional)?.setUpPreloading(),e.get(yg,null,Ce.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const cS=new J("",{factory:()=>new hn}),wg=new J("",{providedIn:"root",factory:()=>1}),lS=new J("");function z4(e){return Nr(0,[{provide:lS,useExisting:V4},{provide:sS,useExisting:e}])}const fS=new J("ROUTER_FORROOT_GUARD"),G4=[bp,{provide:xa,useClass:Yp},Nn,Ra,{provide:Zs,useFactory:function aS(e){return e.routerState.root},deps:[Nn]},mg,[]];function W4(){return new $w("Router",Nn)}let Z4=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[G4,[],{provide:Qs,multi:!0,useValue:n},{provide:fS,useFactory:Q4,deps:[[Nn,new Hu,new Vu]]},{provide:bl,useValue:r||{}},r?.useHash?{provide:Ci,useClass:eR}:{provide:Ci,useClass:EE},{provide:yg,useFactory:()=>{const e=ae(EM),t=ae(rt),n=ae(bl),r=ae(Sl),i=ae(xa);return n.scrollOffset&&e.setOffset(n.scrollOffset),new oS(i,r,e,t,n)}},r?.preloadingStrategy?z4(r.preloadingStrategy).\u0275providers:[],{provide:$w,multi:!0,useFactory:W4},r?.initialNavigation?e5(r):[],r?.bindToComponentInputs?Nr(8,[BD,{provide:vl,useExisting:BD}]).\u0275providers:[],[{provide:dS,useFactory:uS},{provide:fp,multi:!0,useExisting:dS}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Qs,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||e)(de(fS,8))}}static{this.\u0275mod=ee({type:e})}static{this.\u0275inj=Fe({})}}return e})();function Q4(e){return"guarded"}function e5(e){return["disabled"===e.initialNavigation?Nr(3,[{provide:rp,multi:!0,useFactory:()=>{const t=ae(Nn);return()=>{t.setUpLocationChangeListener()}}},{provide:wg,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Nr(2,[{provide:wg,useValue:0},{provide:rp,multi:!0,deps:[Fn],useFactory:t=>{const n=t.get(Y_,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(Nn),o=t.get(cS);rS(i,()=>{r(!0)}),t.get(Sl).afterPreactivation=()=>(r(!0),o.closed?we(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const dS=new J("");class Cl{}class xl{}class Pn{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),a=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Pn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Pn;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Pn?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=t.value;if(o){let a=this.headers.get(n);if(!a)return;a=a.filter(f=>-1===o.indexOf(f)),0===a.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class n5{encodeKey(t){return hS(t)}encodeValue(t){return hS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const i5=/%(\d[a-f0-9])/gi,s5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hS(e){return encodeURIComponent(e).replace(i5,(t,n)=>s5[n]??t)}function Il(e){return`${e}`}class Qr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new n5,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function r5(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[a,f]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],d=n.get(a)||[];d.push(f),n.set(a,d)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(Il):[Il(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Qr({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Il(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Il(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class o5{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function pS(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function gS(e){return typeof Blob<"u"&&e instanceof Blob}function mS(e){return typeof FormData<"u"&&e instanceof FormData}class ja{constructor(t,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function a5(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Pn),this.context||(this.context=new o5),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{const f=n.indexOf("?");this.urlWithParams=n+(-1===f?"?":f<n.length-1?"&":"")+a}}else this.params=new Qr,this.urlWithParams=n}serializeBody(){return null===this.body?null:pS(this.body)||gS(this.body)||mS(this.body)||function u5(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mS(this.body)?null:gS(this.body)?this.body.type||null:pS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,f=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let d=t.headers||this.headers,D=t.params||this.params;const A=t.context??this.context;return void 0!==t.setHeaders&&(d=Object.keys(t.setHeaders).reduce((N,B)=>N.set(B,t.setHeaders[B]),d)),t.setParams&&(D=Object.keys(t.setParams).reduce((N,B)=>N.set(B,t.setParams[B]),D)),new ja(n,r,o,{params:D,headers:d,context:A,reportProgress:f,responseType:i,withCredentials:a})}}var eo=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(eo||{});class Eg{constructor(t,n=200,r="OK"){this.headers=t.headers||new Pn,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Dg extends Eg{constructor(t={}){super(t),this.type=eo.ResponseHeader}clone(t={}){return new Dg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class to extends Eg{constructor(t={}){super(t),this.type=eo.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new to({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vS extends Eg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Sg(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let yS=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof ja)o=n;else{let d,D;d=i.headers instanceof Pn?i.headers:new Pn(i.headers),i.params&&(D=i.params instanceof Qr?i.params:new Qr({fromObject:i.params})),o=new ja(n,r,void 0!==i.body?i.body:null,{headers:d,context:i.context,params:D,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const a=we(o).pipe(qs(d=>this.handler.handle(d)));if(n instanceof ja||"events"===i.observe)return a;const f=a.pipe(Rr(d=>d instanceof to));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return f.pipe(He(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return f.pipe(He(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return f.pipe(He(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return f.pipe(He(d=>d.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Qr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Sg(i,r))}post(n,r,i={}){return this.request("POST",n,Sg(i,r))}put(n,r,i={}){return this.request("PUT",n,Sg(i,r))}static{this.\u0275fac=function(r){return new(r||e)(de(Cl))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})();function DS(e,t){return t(e)}function l5(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}const d5=new J(""),Ba=new J(""),SS=new J("");function h5(){let e=null;return(t,n)=>{null===e&&(e=(ae(d5,{optional:!0})??[]).reduceRight(l5,DS));const r=ae(Bc),i=r.add();return e(t,n).pipe(Sa(()=>r.remove(i)))}}let bS=(()=>{class e extends Cl{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=ae(Bc)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ba),...this.injector.get(SS,[])]));this.chain=i.reduceRight((o,a)=>function f5(e,t,n){return(r,i)=>n.runInContext(()=>t(r,o=>e(o,i)))}(o,a,this.injector),DS)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Sa(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(de(xl),de(wn))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})();const v5=/^\)\]\}',?\n/;let xS=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new oe(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Et(r.\u0275loadImpl()):we(null)).pipe(Lt(()=>new ft(o=>{const a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((X,te)=>a.setRequestHeader(X,te.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const X=n.detectContentTypeHeader();null!==X&&a.setRequestHeader("Content-Type",X)}if(n.responseType){const X=n.responseType.toLowerCase();a.responseType="json"!==X?X:"text"}const f=n.serializeBody();let d=null;const D=()=>{if(null!==d)return d;const X=a.statusText||"OK",te=new Pn(a.getAllResponseHeaders()),re=function y5(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return d=new Dg({headers:te,status:a.status,statusText:X,url:re}),d},A=()=>{let{headers:X,status:te,statusText:re,url:Q}=D(),ue=null;204!==te&&(ue=typeof a.response>"u"?a.responseText:a.response),0===te&&(te=ue?200:0);let ve=te>=200&&te<300;if("json"===n.responseType&&"string"==typeof ue){const Ne=ue;ue=ue.replace(v5,"");try{ue=""!==ue?JSON.parse(ue):null}catch(Rt){ue=Ne,ve&&(ve=!1,ue={error:Rt,text:ue})}}ve?(o.next(new to({body:ue,headers:X,status:te,statusText:re,url:Q||void 0})),o.complete()):o.error(new vS({error:ue,headers:X,status:te,statusText:re,url:Q||void 0}))},N=X=>{const{url:te}=D(),re=new vS({error:X,status:a.status||0,statusText:a.statusText||"Unknown Error",url:te||void 0});o.error(re)};let B=!1;const H=X=>{B||(o.next(D()),B=!0);let te={type:eo.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(te.total=X.total),"text"===n.responseType&&a.responseText&&(te.partialText=a.responseText),o.next(te)},W=X=>{let te={type:eo.UploadProgress,loaded:X.loaded};X.lengthComputable&&(te.total=X.total),o.next(te)};return a.addEventListener("load",A),a.addEventListener("error",N),a.addEventListener("timeout",N),a.addEventListener("abort",N),n.reportProgress&&(a.addEventListener("progress",H),null!==f&&a.upload&&a.upload.addEventListener("progress",W)),a.send(f),o.next({type:eo.Sent}),()=>{a.removeEventListener("error",N),a.removeEventListener("abort",N),a.removeEventListener("load",A),a.removeEventListener("timeout",N),n.reportProgress&&(a.removeEventListener("progress",H),null!==f&&a.upload&&a.upload.removeEventListener("progress",W)),a.readyState!==a.DONE&&a.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(de(HE))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})();const bg=new J("XSRF_ENABLED"),IS=new J("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),AS=new J("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class TS{}let D5=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=_E(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(de(Dn),de(mi),de(IS))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac})}}return e})();function S5(e,t){const n=e.url.toLowerCase();if(!ae(bg)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=ae(TS).getToken(),i=ae(AS);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var ei=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(ei||{});function Fi(e,t){return{\u0275kind:e,\u0275providers:t}}function b5(...e){const t=[yS,xS,bS,{provide:Cl,useExisting:bS},{provide:xl,useExisting:xS},{provide:Ba,useValue:S5,multi:!0},{provide:bg,useValue:!0},{provide:TS,useClass:D5}];for(const n of e)t.push(...n.\u0275providers);return function Od(e){return{\u0275providers:e}}(t)}const FS=new J("LEGACY_INTERCEPTOR_FN");let x5=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=ee({type:e})}static{this.\u0275inj=Fe({providers:[b5(Fi(ei.LegacyInterceptors,[{provide:FS,useFactory:h5},{provide:Ba,useExisting:FS,multi:!0}]))]})}}return e})(),R5=(()=>{class e{constructor(){this.title="bodaNyD"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ci({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(r,i){1&r&&(ln(0,"div",0),sa(1,"router-outlet"),Yt())},dependencies:[lg]})}}return e})();var M5=se(684);let _S=(()=>{class e{constructor(n){this.http=n,this.serviceAccount={type:"service_account",project_id:"bodanataliaydiego",private_key_id:"a60883c5c38e2068facbc5db876911a704b68774",private_key:"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCzQfQPlcq8w143\n+3p7ULkPVsxsI3PdGYjYoSR6sS6VSdx7UXfVD8+PM/sTjfZLKCHr2Q3P31nO+ZsX\ngYtOszu+5TF985LGMi511qhjSy3w58pI9hcxS3Gv1SGIXDgFDRuncLrUTV1OJjgB\nlS2bZNiXMvsveInsoIeGnZqEAq4hWBj4uzYxt7/MYlutYcREhOVwhNH16GWwj6//\nZEDvoBfP9U/JFgDSS/HohKZNvUQHQri4IJ92SvU6Ne9M7jhSt2jK/EkS057ne/oi\nyPSDdpZgbyqumVuU9XY0gFi55gRWl8+VAimqvc+n0e+8xgAHKmakg0z9i0N9NVV3\nZl0TjHsHAgMBAAECggEAMgrF7vnirJqfuWInebh5ySnyjHfDNySTOuKVc/j1p7CE\ncBq4qM6uo2wf+gAGE0ojWhtwiyjvgePVo5TDBpfrpGmITQCL52+H39aqkHmi3B9h\nLcghhl3o4WzO3Snda6+SmkZSqcTlONVbijmSj1ByVJdjXwe3/Up9OxvRUGwNH3po\nchVLCJLBeXVBcKaJ0CXswi3lEgTkr//Wb0qLd8X7iDuYB5bNQ3JsUtuerYzF5qLG\nNYJhmgw9uPV9vkyw+RuRKezUkkdHKow3i8FXT7b93Ku7uH8Fax0zP5iryyC4Egr/\nFzcdpVTXHGcOSJWpqek5RejhvX0jcr8oArGajex8oQKBgQDaID+09auPLDXyiia9\nGRQWLRWtPVTkJuJtQJh7/FeLL2njwiczvhcruf2wOERtJ3xnJBPqngP0Z7qIP3CM\nb/AKH5ucx1BX06q2LY2V3BnySFmyFeRcB2tQDfgnM0jgw3e1DGbCIwCCW1wWQWK6\n9yzHfHKP03KG/ow0JAvZQ3pHJwKBgQDSYf9ck3gCMg5iWkGloBJpExve2cDBQROI\nbRukV+PnZolyA2i4S+v11+Ln0riwGFuiisHhQhAdIhxFiVxLpCQICrrMgRQH7LXD\nCc86SVP1Iu0+fxOL/mwt0j4Dgdz6HkQY9qe/bMh4AeYfcxdJdkqiSC7bD64yvXbv\neO3KI4WZIQKBgDRMIRohANYd8n1JVEpoVeGPQ7A6kTz2eblaEHVBpjev0YKTDVUh\nkWqheEqk4vsMyY3tH31UD3ys1hNOqoxxVisHMwce3ouAK2DsgRLaJ7poUGEbUJok\nCT2za7jyWdnR48SbyZNoUvnuL6ECYkqTcsANfWYwezgUlcb2kYSw4gNnAoGAQW95\nnbHAge5PyweHo5xGHahz4ryX14QGL0jAcD1mBXM/DNdCmxACNFURnklMaHkrB0Nh\nSk7h9C3H3Vj7/Arxqg6sSy9aq5xUbHWAnwBvvK9AW0/rJH/d5eKepzidIq6HP7x4\nMHIFaE4u5VlGxPKmBBOvfzNBW0bS12kljNm/lAECgYEArYKrk6wWJhEHrVdLkq6x\nkU26gsqLR5oL4F6cuWaS2zC9Jq6yN+vlHfLf1HqIzeu7y7hGLJW339wsf3Fri9e3\nbkZnn532cnHusrZa9aa3mcQtjV3qi+O3AhJ44p2X57t+9Z3lB9X5v7iMxW95mcvv\nbAj6Q8goOFX7jbXZJcCQPew=\n-----END PRIVATE KEY-----\n",client_email:"bodanataliaydiego@bodanataliaydiego.iam.gserviceaccount.com",client_id:"104013589520569639693",auth_uri:"https://accounts.google.com/o/oauth2/auth",token_uri:"https://oauth2.googleapis.com/token",auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",client_x509_cert_url:"https://www.googleapis.com/robot/v1/metadata/x509/bodanataliaydiego%40bodanataliaydiego.iam.gserviceaccount.com",universe_domain:"googleapis.com"},this.folderId="1EmJNQHI1kie8K5AINlpaIy6iJHCQE5m3"}generateJWT(){const r=Math.floor(Date.now()/1e3),i={iss:this.serviceAccount.client_email,scope:"https://www.googleapis.com/auth/drive.file",aud:this.serviceAccount.token_uri,exp:r+3600,iat:r},o=JSON.stringify({alg:"RS256",typ:"JWT"}),a=JSON.stringify(i);return M5.pj.jws.JWS.sign("RS256",o,a,this.serviceAccount.private_key)}getAccessToken(){const n=this.generateJWT(),r=new URLSearchParams;r.set("grant_type","urn:ietf:params:oauth:grant-type:jwt-bearer"),r.set("assertion",n);const i=new Pn({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(this.serviceAccount.token_uri,r.toString(),{headers:i}).pipe(He(o=>o.access_token))}uploadFile(n){const r={name:n.name,parents:[this.folderId]},i=new FormData;return i.append("metadata",new Blob([JSON.stringify(r)],{type:"application/json"})),i.append("file",n),this.getAccessToken().pipe(Lt(a=>{const f=new Pn({Authorization:`Bearer ${a}`});return this.http.post("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",i,{headers:f})}))}static{this.\u0275fac=function(r){return new(r||e)(de(yS))}}static{this.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const N5=["fileInput"];function P5(e,t){if(1&e){const n=function wy(){return ne()}();ln(0,"div",11)(1,"div",12)(2,"h1"),xr(3),Yt(),ln(4,"button",13),Gr("click",function(){return Gf(n),Wf(Fc().uploadPhotos())}),xr(5,"Aceptar"),Yt(),ln(6,"button",14),Gr("click",function(){return Gf(n),Wf(Fc().closeDialog())}),xr(7,"Cancelar"),Yt()()()}if(2&e){const n=Fc();vi(3),Mh("\xbfEst\xe1s listo para subir ",n.selectedFiles.length," foto",1!==n.selectedFiles.length?"s":""," inolvidables?")}}function O5(e,t){1&e&&(ln(0,"div",15)(1,"p"),xr(2,"Subiendo fotos..."),Yt()())}function k5(e,t){1&e&&(ln(0,"div",16)(1,"p"),xr(2,"\xa1Fotos subidas con \xe9xito!"),Yt()())}function L5(e,t){1&e&&(ln(0,"div",17)(1,"p"),xr(2,"Hubo un error al subir las fotos."),Yt()())}let j5=(()=>{class e{constructor(n){this.driveService=n,this.selectedFiles=[],this.isDialogOpen=!1,this.isFileSelectorOpen=!1,this.isUploading=!1,this.uploadSuccess=!1,this.uploadError=!1}openFileSelector(){this.fileInput.nativeElement.click()}onFileSelected(n){const r=n.target;r.files&&(this.selectedFiles=Array.from(r.files)),this.isFileSelectorOpen=!1,this.openDialog()}openDialog(){this.isDialogOpen=!0}closeDialog(){this.isDialogOpen=!1}uploadPhotos(){this.isUploading=!0,this.uploadSuccess=!1,this.uploadError=!1;const n=this.selectedFiles.map(r=>this.driveService.uploadFile(r));Promise.all(n.map(r=>r.toPromise())).then(()=>{this.isUploading=!1,this.uploadSuccess=!0,console.log("Fotos subidas exitosamente")}).catch(r=>{this.isUploading=!1,this.uploadError=!0,console.error("Error al subir las fotos",r)}),this.closeDialog()}viewGallery(){console.log("Ver galer\xeda...")}static{this.\u0275fac=function(r){return new(r||e)(De(_S))}}static{this.\u0275cmp=ci({type:e,selectors:[["app-home"]],viewQuery:function(r,i){if(1&r&&pw(N5,5),2&r){let o;Xh(o=function Jh(){return function wF(e,t){return e[G].queries[t].queryList}(ne(),Sm())}())&&(i.fileInput=o.first)}},decls:14,vars:5,consts:[[1,"main-container"],[1,"header"],["src","assets/images/logo.png","alt","Imagen de Boda",1,"main-image"],[1,"buttons-container"],[1,"main-button",3,"click"],["type","file","accept","image/*","multiple","",3,"hidden","change"],["fileInput",""],["class","upload-dialog",4,"ngIf"],["class","uploading-message",4,"ngIf"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"upload-dialog"],[1,"dialog-content"],[1,"secondary-button","accept-button",3,"click"],[1,"secondary-button","close-button",3,"click"],[1,"uploading-message"],[1,"success-message"],[1,"error-message"]],template:function(r,i){1&r&&(ln(0,"div",0)(1,"div",1),sa(2,"img",2),Yt(),ln(3,"div",3)(4,"button",4),Gr("click",function(){return i.openFileSelector()}),xr(5,"Subir Fotos"),Yt(),ln(6,"button",4),Gr("click",function(){return i.viewGallery()}),xr(7,"Ver Galer\xeda"),Yt()(),ln(8,"input",5,6),Gr("change",function(a){return i.onFileSelected(a)}),Yt(),ia(10,P5,8,2,"div",7),ia(11,O5,3,0,"div",8),ia(12,k5,3,0,"div",9),ia(13,L5,3,0,"div",10),Yt()),2&r&&(vi(8),wi("hidden",!0),vi(2),wi("ngIf",i.isDialogOpen),vi(1),wi("ngIf",i.isUploading),vi(1),wi("ngIf",i.uploadSuccess),vi(1),wi("ngIf",i.uploadError))},dependencies:[PE],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;margin:0;background-color:#f4f4f4}.main-container[_ngcontent-%COMP%]{text-align:center;width:100%;max-width:800px;padding:20px}.header[_ngcontent-%COMP%]{margin-bottom:20px}.main-image[_ngcontent-%COMP%]{width:100%;max-width:600px;border-radius:10px;box-shadow:0 4px 8px #0000001a}.buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px}.main-button[_ngcontent-%COMP%]{background-color:#d4af37;border:none;color:#fff;padding:12px 20px;font-size:24px;cursor:pointer;border-radius:8px;transition:background-color .3s ease,transform .2s ease;width:200px;font-family:Galada,sans-serif}.secondary-button[_ngcontent-%COMP%]{font-family:Galada,sans-serif}.main-button[_ngcontent-%COMP%]:hover{background-color:#b88c2f;transform:scale(1.05)}.upload-dialog[_ngcontent-%COMP%]{background-color:#00000080;position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.dialog-content[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:10px;text-align:center;box-shadow:0 4px 12px #0000004d}.accept-button[_ngcontent-%COMP%], .close-button[_ngcontent-%COMP%]{background-color:#d4af37;color:#fff;border:none;padding:12px 20px;font-size:20px;cursor:pointer;border-radius:8px;margin:10px;width:150px}.accept-button[_ngcontent-%COMP%]:hover, .close-button[_ngcontent-%COMP%]:hover{background-color:#b88c2f;transform:scale(1.05)}.uploading-message[_ngcontent-%COMP%], .success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{margin-top:20px;font-size:18px}.uploading-message[_ngcontent-%COMP%]{color:orange}.success-message[_ngcontent-%COMP%]{color:#28a745}.error-message[_ngcontent-%COMP%]{color:#dc3545}.success-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOut 5s forwards}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}']})}}return e})(),B5=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=ee({type:e,bootstrap:[R5]})}static{this.\u0275inj=Fe({providers:[_S],imports:[hN,x5,Z4.forRoot([{path:"",component:j5}])]})}}return e})();fN().bootstrapModule(B5).catch(e=>console.error(e))},684:(Ha,Va)=>{var s,u,l,p,h,m,v,S,b,T,E,c,Be={userAgent:!1},Kn={},ie=ie||(s=Math,l=(u={}).lib={},p=l.Base=function(){function w(){}return{extend:function(x){w.prototype=this;var y=new w;return x&&y.mixIn(x),y.hasOwnProperty("init")||(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var x=this.extend();return x.init.apply(x,arguments),x},init:function(){},mixIn:function(x){for(var y in x)x.hasOwnProperty(y)&&(this[y]=x[y]);x.hasOwnProperty("toString")&&(this.toString=x.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=l.WordArray=p.extend({init:function(w,x){w=this.words=w||[],this.sigBytes=null!=x?x:4*w.length},toString:function(w){return(w||v).stringify(this)},concat:function(w){var x=this.words,y=w.words,I=this.sigBytes,C=w.sigBytes;if(this.clamp(),I%4)for(var R=0;R<C;R++)x[I+R>>>2]|=(y[R>>>2]>>>24-R%4*8&255)<<24-(I+R)%4*8;else for(R=0;R<C;R+=4)x[I+R>>>2]=y[R>>>2];return this.sigBytes+=C,this},clamp:function(){var w=this.words,x=this.sigBytes;w[x>>>2]&=4294967295<<32-x%4*8,w.length=s.ceil(x/4)},clone:function(){var w=p.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var x=[],y=0;y<w;y+=4)x.push(4294967296*s.random()|0);return new h.init(x,w)}}),m=u.enc={},v=m.Hex={stringify:function(w){for(var x=w.words,y=w.sigBytes,I=[],C=0;C<y;C++){var R=x[C>>>2]>>>24-C%4*8&255;I.push((R>>>4).toString(16)),I.push((15&R).toString(16))}return I.join("")},parse:function(w){for(var x=w.length,y=[],I=0;I<x;I+=2)y[I>>>3]|=parseInt(w.substr(I,2),16)<<24-I%8*4;return new h.init(y,x/2)}},S=m.Latin1={stringify:function(w){for(var x=w.words,y=w.sigBytes,I=[],C=0;C<y;C++)I.push(String.fromCharCode(x[C>>>2]>>>24-C%4*8&255));return I.join("")},parse:function(w){for(var x=w.length,y=[],I=0;I<x;I++)y[I>>>2]|=(255&w.charCodeAt(I))<<24-I%4*8;return new h.init(y,x)}},b=m.Utf8={stringify:function(w){try{return decodeURIComponent(escape(S.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return S.parse(unescape(encodeURIComponent(w)))}},T=l.BufferedBlockAlgorithm=p.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(w){"string"==typeof w&&(w=b.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var x=this._data,y=x.words,I=x.sigBytes,C=this.blockSize,P=I/(4*C),L=(P=w?s.ceil(P):s.max((0|P)-this._minBufferSize,0))*C,O=s.min(4*L,I);if(L){for(var G=0;G<L;G+=C)this._doProcessBlock(y,G);var Z=y.splice(0,L);x.sigBytes-=O}return new h.init(Z,O)},clone:function(){var w=p.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0}),l.Hasher=T.extend({cfg:p.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){T.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){return w&&this._append(w),this._doFinalize()},blockSize:16,_createHelper:function(w){return function(x,y){return new w.init(y).finalize(x)}},_createHmacHelper:function(w){return function(x,y){return new E.HMAC.init(w,y).finalize(x)}}}),E=u.algo={},u);(function(s){var p,c=(p=ie).lib,u=c.Base,l=c.WordArray;(p=p.x64={}).Word=u.extend({init:function(h,m){this.high=h,this.low=m}}),p.WordArray=u.extend({init:function(h,m){h=this.words=h||[],this.sigBytes=null!=m?m:8*h.length},toX32:function(){for(var h=this.words,m=h.length,v=[],S=0;S<m;S++){var b=h[S];v.push(b.high),v.push(b.low)}return l.create(v,this.sigBytes)},clone:function(){for(var h=u.clone.call(this),m=h.words=this.words.slice(0),v=m.length,S=0;S<v;S++)m[S]=m[S].clone();return h}})})(),ie.lib.Cipher||function(s){var c=(w=ie).lib,u=c.Base,l=c.WordArray,p=c.BufferedBlockAlgorithm,h=w.enc.Base64,m=w.algo.EvpKDF,v=c.Cipher=p.extend({cfg:u.extend(),createEncryptor:function(y,I){return this.create(this._ENC_XFORM_MODE,y,I)},createDecryptor:function(y,I){return this.create(this._DEC_XFORM_MODE,y,I)},init:function(y,I,C){this.cfg=this.cfg.extend(C),this._xformMode=y,this._key=I,this.reset()},reset:function(){p.reset.call(this),this._doReset()},process:function(y){return this._append(y),this._process()},finalize:function(y){return y&&this._append(y),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(y){return{encrypt:function(I,C,R){return("string"==typeof C?x:E).encrypt(y,I,C,R)},decrypt:function(I,C,R){return("string"==typeof C?x:E).decrypt(y,I,C,R)}}}});c.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var F=w.mode={},S=function(y,I,C){var R=this._iv;R?this._iv=void 0:R=this._prevBlock;for(var P=0;P<C;P++)y[I+P]^=R[P]},b=(c.BlockCipherMode=u.extend({createEncryptor:function(y,I){return this.Encryptor.create(y,I)},createDecryptor:function(y,I){return this.Decryptor.create(y,I)},init:function(y,I){this._cipher=y,this._iv=I}})).extend();b.Encryptor=b.extend({processBlock:function(y,I){var C=this._cipher,R=C.blockSize;S.call(this,y,I,R),C.encryptBlock(y,I),this._prevBlock=y.slice(I,I+R)}}),b.Decryptor=b.extend({processBlock:function(y,I){var C=this._cipher,R=C.blockSize,P=y.slice(I,I+R);C.decryptBlock(y,I),S.call(this,y,I,R),this._prevBlock=P}}),F=F.CBC=b,b=(w.pad={}).Pkcs7={pad:function(y,I){for(var C,R=(C=(C=4*I)-y.sigBytes%C)<<24|C<<16|C<<8|C,P=[],L=0;L<C;L+=4)P.push(R);C=l.create(P,C),y.concat(C)},unpad:function(y){y.sigBytes-=255&y.words[y.sigBytes-1>>>2]}},c.BlockCipher=v.extend({cfg:v.cfg.extend({mode:F,padding:b}),reset:function(){v.reset.call(this);var y=(I=this.cfg).iv,I=I.mode;if(this._xformMode==this._ENC_XFORM_MODE)var C=I.createEncryptor;else C=I.createDecryptor,this._minBufferSize=1;this._mode=C.call(I,this,y&&y.words)},_doProcessBlock:function(y,I){this._mode.processBlock(y,I)},_doFinalize:function(){var y=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){y.pad(this._data,this.blockSize);var I=this._process(!0)}else I=this._process(!0),y.unpad(I);return I},blockSize:4});var T=c.CipherParams=u.extend({init:function(y){this.mixIn(y)},toString:function(y){return(y||this.formatter).stringify(this)}}),E=(F=(w.format={}).OpenSSL={stringify:function(y){var I=y.ciphertext;return((y=y.salt)?l.create([1398893684,1701076831]).concat(y).concat(I):I).toString(h)},parse:function(y){var I=(y=h.parse(y)).words;if(1398893684==I[0]&&1701076831==I[1]){var C=l.create(I.slice(2,4));I.splice(0,4),y.sigBytes-=16}return T.create({ciphertext:y,salt:C})}},c.SerializableCipher=u.extend({cfg:u.extend({format:F}),encrypt:function(y,I,C,R){R=this.cfg.extend(R);var P=y.createEncryptor(C,R);return I=P.finalize(I),T.create({ciphertext:I,key:C,iv:(P=P.cfg).iv,algorithm:y,mode:P.mode,padding:P.padding,blockSize:y.blockSize,formatter:R.format})},decrypt:function(y,I,C,R){return R=this.cfg.extend(R),I=this._parse(I,R.format),y.createDecryptor(C,R).finalize(I.ciphertext)},_parse:function(y,I){return"string"==typeof y?I.parse(y,this):y}})),w=(w.kdf={}).OpenSSL={execute:function(y,I,C,R){return R||(R=l.random(8)),y=m.create({keySize:I+C}).compute(y,R),C=l.create(y.words.slice(I),4*C),y.sigBytes=4*I,T.create({key:y,iv:C,salt:R})}},x=c.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:w}),encrypt:function(y,I,C,R){return C=(R=this.cfg.extend(R)).kdf.execute(C,y.keySize,y.ivSize),R.iv=C.iv,(y=E.encrypt.call(this,y,I,C.key,R)).mixIn(C),y},decrypt:function(y,I,C,R){return R=this.cfg.extend(R),I=this._parse(I,R.format),C=R.kdf.execute(C,y.keySize,y.ivSize,I.salt),R.iv=C.iv,E.decrypt.call(this,y,I,C.key,R)}})}(),function(){for(var s=ie,c=s.lib.BlockCipher,G=s.algo,u=[],l=[],p=[],h=[],m=[],v=[],S=[],b=[],T=[],F=[],E=[],w=0;256>w;w++)E[w]=128>w?w<<1:w<<1^283;var x=0,y=0;for(w=0;256>w;w++){var I;u[x]=I=(I=y^y<<1^y<<2^y<<3^y<<4)>>>8^255&I^99,l[I]=x;var C=E[x],R=E[C],P=E[R],L=257*E[I]^16843008*I;p[x]=L<<24|L>>>8,h[x]=L<<16|L>>>16,m[x]=L<<8|L>>>24,v[x]=L,S[I]=(L=16843009*P^65537*R^257*C^16843008*x)<<24|L>>>8,b[I]=L<<16|L>>>16,T[I]=L<<8|L>>>24,F[I]=L,x?(x=C^E[E[E[P^C]]],y^=E[E[y]]):x=y=1}var O=[0,1,2,4,8,16,32,64,128,27,54];G=G.AES=c.extend({_doReset:function(){for(var Z=(M=this._key).words,_=M.sigBytes/4,M=4*((this._nRounds=_+6)+1),k=this._keySchedule=[],j=0;j<M;j++)if(j<_)k[j]=Z[j];else{var U=k[j-1];j%_?6<_&&j%_==4&&(U=u[U>>>24]<<24|u[U>>>16&255]<<16|u[U>>>8&255]<<8|u[255&U]):(U=u[(U=U<<8|U>>>24)>>>24]<<24|u[U>>>16&255]<<16|u[U>>>8&255]<<8|u[255&U],U^=O[j/_|0]<<24),k[j]=k[j-_]^U}for(Z=this._invKeySchedule=[],_=0;_<M;_++)j=M-_,U=_%4?k[j]:k[j-4],Z[_]=4>_||4>=j?U:S[u[U>>>24]]^b[u[U>>>16&255]]^T[u[U>>>8&255]]^F[u[255&U]]},encryptBlock:function(Z,_){this._doCryptBlock(Z,_,this._keySchedule,p,h,m,v,u)},decryptBlock:function(Z,_){var M=Z[_+1];Z[_+1]=Z[_+3],Z[_+3]=M,this._doCryptBlock(Z,_,this._invKeySchedule,S,b,T,F,l),M=Z[_+1],Z[_+1]=Z[_+3],Z[_+3]=M},_doCryptBlock:function(Z,_,M,k,j,U,q,V){for(var $=this._nRounds,Me=Z[_]^M[0],_e=Z[_+1]^M[1],Ie=Z[_+2]^M[2],me=Z[_+3]^M[3],K=4,Y=1;Y<$;Y++){var le=k[Me>>>24]^j[_e>>>16&255]^U[Ie>>>8&255]^q[255&me]^M[K++],he=k[_e>>>24]^j[Ie>>>16&255]^U[me>>>8&255]^q[255&Me]^M[K++],fe=k[Ie>>>24]^j[me>>>16&255]^U[Me>>>8&255]^q[255&_e]^M[K++];me=k[me>>>24]^j[Me>>>16&255]^U[_e>>>8&255]^q[255&Ie]^M[K++],Me=le,_e=he,Ie=fe}le=(V[Me>>>24]<<24|V[_e>>>16&255]<<16|V[Ie>>>8&255]<<8|V[255&me])^M[K++],he=(V[_e>>>24]<<24|V[Ie>>>16&255]<<16|V[me>>>8&255]<<8|V[255&Me])^M[K++],fe=(V[Ie>>>24]<<24|V[me>>>16&255]<<16|V[Me>>>8&255]<<8|V[255&_e])^M[K++],me=(V[me>>>24]<<24|V[Me>>>16&255]<<16|V[_e>>>8&255]<<8|V[255&Ie])^M[K++],Z[_]=le,Z[_+1]=he,Z[_+2]=fe,Z[_+3]=me},keySize:8}),s.AES=c._createHelper(G)}(),function(){function s(E,w){var x=(this._lBlock>>>E^this._rBlock)&w;this._rBlock^=x,this._lBlock^=x<<E}function c(E,w){var x=(this._rBlock>>>E^this._lBlock)&w;this._lBlock^=x,this._rBlock^=x<<E}var p,u=ie,l=(p=u.lib).WordArray,h=u.algo,m=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],v=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],S=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],b=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],T=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],F=h.DES=(p=p.BlockCipher).extend({_doReset:function(){for(var E=this._key.words,w=[],x=0;56>x;x++){var y=m[x]-1;w[x]=E[y>>>5]>>>31-y%32&1}for(E=this._subKeys=[],y=0;16>y;y++){var I=E[y]=[],C=S[y];for(x=0;24>x;x++)I[x/6|0]|=w[(v[x]-1+C)%28]<<31-x%6,I[4+(x/6|0)]|=w[28+(v[x+24]-1+C)%28]<<31-x%6;for(I[0]=I[0]<<1|I[0]>>>31,x=1;7>x;x++)I[x]>>>=4*(x-1)+3;I[7]=I[7]<<5|I[7]>>>27}for(w=this._invSubKeys=[],x=0;16>x;x++)w[x]=E[15-x]},encryptBlock:function(E,w){this._doCryptBlock(E,w,this._subKeys)},decryptBlock:function(E,w){this._doCryptBlock(E,w,this._invSubKeys)},_doCryptBlock:function(E,w,x){this._lBlock=E[w],this._rBlock=E[w+1],s.call(this,4,252645135),s.call(this,16,65535),c.call(this,2,858993459),c.call(this,8,16711935),s.call(this,1,1431655765);for(var y=0;16>y;y++){for(var I=x[y],C=this._lBlock,R=this._rBlock,P=0,L=0;8>L;L++)P|=b[L][((R^I[L])&T[L])>>>0];this._lBlock=R,this._rBlock=C^P}x=this._lBlock,this._lBlock=this._rBlock,this._rBlock=x,s.call(this,1,1431655765),c.call(this,8,16711935),c.call(this,2,858993459),s.call(this,16,65535),s.call(this,4,252645135),E[w]=this._lBlock,E[w+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});u.DES=p._createHelper(F),h=h.TripleDES=p.extend({_doReset:function(){var E=this._key.words;this._des1=F.createEncryptor(l.create(E.slice(0,2))),this._des2=F.createEncryptor(l.create(E.slice(2,4))),this._des3=F.createEncryptor(l.create(E.slice(4,6)))},encryptBlock:function(E,w){this._des1.encryptBlock(E,w),this._des2.decryptBlock(E,w),this._des3.encryptBlock(E,w)},decryptBlock:function(E,w){this._des3.decryptBlock(E,w),this._des2.encryptBlock(E,w),this._des1.decryptBlock(E,w)},keySize:6,ivSize:2,blockSize:2}),u.TripleDES=p._createHelper(h)}(),c=ie.lib.WordArray,ie.enc.Base64={stringify:function(u){var l=u.words,p=u.sigBytes,h=this._map;u.clamp(),u=[];for(var m=0;m<p;m+=3)for(var v=(l[m>>>2]>>>24-m%4*8&255)<<16|(l[m+1>>>2]>>>24-(m+1)%4*8&255)<<8|l[m+2>>>2]>>>24-(m+2)%4*8&255,S=0;4>S&&m+.75*S<p;S++)u.push(h.charAt(v>>>6*(3-S)&63));if(l=h.charAt(64))for(;u.length%4;)u.push(l);return u.join("")},parse:function(u){var l=u.length,p=this._map;(h=p.charAt(64))&&-1!=(h=u.indexOf(h))&&(l=h);for(var h=[],m=0,v=0;v<l;v++)if(v%4){var S=p.indexOf(u.charAt(v-1))<<v%4*2,b=p.indexOf(u.charAt(v))>>>6-v%4*2;h[m>>>2]|=(S|b)<<24-m%4*8,m++}return c.create(h,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(s){function c(F,E,w,x,y,I,C){return((F=F+(E&w|~E&x)+y+C)<<I|F>>>32-I)+E}function u(F,E,w,x,y,I,C){return((F=F+(E&x|w&~x)+y+C)<<I|F>>>32-I)+E}function l(F,E,w,x,y,I,C){return((F=F+(E^w^x)+y+C)<<I|F>>>32-I)+E}function p(F,E,w,x,y,I,C){return((F=F+(w^(E|~x))+y+C)<<I|F>>>32-I)+E}for(var h=ie,m=(S=h.lib).WordArray,v=S.Hasher,S=h.algo,b=[],T=0;64>T;T++)b[T]=4294967296*s.abs(s.sin(T+1))|0;S=S.MD5=v.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(F,E){for(var w=0;16>w;w++)F[x=E+w]=16711935&((y=F[x])<<8|y>>>24)|4278255360&(y<<24|y>>>8);var x,y=F[E+1],I=F[E+2],C=F[E+3],R=F[E+4],P=F[E+5],L=F[E+6],O=F[E+7],G=F[E+8],Z=F[E+9],_=F[E+10],M=F[E+11],k=F[E+12],j=F[E+13],U=F[E+14],q=F[E+15],V=c(V=(w=this._hash.words)[0],Y=w[1],K=w[2],$=w[3],x=F[E+0],7,b[0]),$=c($,V,Y,K,y,12,b[1]),K=c(K,$,V,Y,I,17,b[2]),Y=c(Y,K,$,V,C,22,b[3]);V=c(V,Y,K,$,R,7,b[4]),$=c($,V,Y,K,P,12,b[5]),K=c(K,$,V,Y,L,17,b[6]),Y=c(Y,K,$,V,O,22,b[7]),V=c(V,Y,K,$,G,7,b[8]),$=c($,V,Y,K,Z,12,b[9]),K=c(K,$,V,Y,_,17,b[10]),Y=c(Y,K,$,V,M,22,b[11]),V=c(V,Y,K,$,k,7,b[12]),$=c($,V,Y,K,j,12,b[13]),K=c(K,$,V,Y,U,17,b[14]),V=u(V,Y=c(Y,K,$,V,q,22,b[15]),K,$,y,5,b[16]),$=u($,V,Y,K,L,9,b[17]),K=u(K,$,V,Y,M,14,b[18]),Y=u(Y,K,$,V,x,20,b[19]),V=u(V,Y,K,$,P,5,b[20]),$=u($,V,Y,K,_,9,b[21]),K=u(K,$,V,Y,q,14,b[22]),Y=u(Y,K,$,V,R,20,b[23]),V=u(V,Y,K,$,Z,5,b[24]),$=u($,V,Y,K,U,9,b[25]),K=u(K,$,V,Y,C,14,b[26]),Y=u(Y,K,$,V,G,20,b[27]),V=u(V,Y,K,$,j,5,b[28]),$=u($,V,Y,K,I,9,b[29]),K=u(K,$,V,Y,O,14,b[30]),V=l(V,Y=u(Y,K,$,V,k,20,b[31]),K,$,P,4,b[32]),$=l($,V,Y,K,G,11,b[33]),K=l(K,$,V,Y,M,16,b[34]),Y=l(Y,K,$,V,U,23,b[35]),V=l(V,Y,K,$,y,4,b[36]),$=l($,V,Y,K,R,11,b[37]),K=l(K,$,V,Y,O,16,b[38]),Y=l(Y,K,$,V,_,23,b[39]),V=l(V,Y,K,$,j,4,b[40]),$=l($,V,Y,K,x,11,b[41]),K=l(K,$,V,Y,C,16,b[42]),Y=l(Y,K,$,V,L,23,b[43]),V=l(V,Y,K,$,Z,4,b[44]),$=l($,V,Y,K,k,11,b[45]),K=l(K,$,V,Y,q,16,b[46]),V=p(V,Y=l(Y,K,$,V,I,23,b[47]),K,$,x,6,b[48]),$=p($,V,Y,K,O,10,b[49]),K=p(K,$,V,Y,U,15,b[50]),Y=p(Y,K,$,V,P,21,b[51]),V=p(V,Y,K,$,k,6,b[52]),$=p($,V,Y,K,C,10,b[53]),K=p(K,$,V,Y,_,15,b[54]),Y=p(Y,K,$,V,y,21,b[55]),V=p(V,Y,K,$,G,6,b[56]),$=p($,V,Y,K,q,10,b[57]),K=p(K,$,V,Y,L,15,b[58]),Y=p(Y,K,$,V,j,21,b[59]),V=p(V,Y,K,$,R,6,b[60]),$=p($,V,Y,K,M,10,b[61]),K=p(K,$,V,Y,I,15,b[62]),Y=p(Y,K,$,V,Z,21,b[63]),w[0]=w[0]+V|0,w[1]=w[1]+Y|0,w[2]=w[2]+K|0,w[3]=w[3]+$|0},_doFinalize:function(){var F=this._data,E=F.words,w=8*this._nDataBytes,x=8*F.sigBytes;E[x>>>5]|=128<<24-x%32;var y=s.floor(w/4294967296);for(E[15+(x+64>>>9<<4)]=16711935&(y<<8|y>>>24)|4278255360&(y<<24|y>>>8),E[14+(x+64>>>9<<4)]=16711935&(w<<8|w>>>24)|4278255360&(w<<24|w>>>8),F.sigBytes=4*(E.length+1),this._process(),E=(F=this._hash).words,w=0;4>w;w++)E[w]=16711935&((x=E[w])<<8|x>>>24)|4278255360&(x<<24|x>>>8);return F},clone:function(){var F=v.clone.call(this);return F._hash=this._hash.clone(),F}}),h.MD5=v._createHelper(S),h.HmacMD5=v._createHmacHelper(S)}(Math),function(){var s=ie,c=(p=s.lib).WordArray,u=p.Hasher,l=[],p=s.algo.SHA1=u.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(h,m){for(var v=this._hash.words,S=v[0],b=v[1],T=v[2],F=v[3],E=v[4],w=0;80>w;w++){if(16>w)l[w]=0|h[m+w];else{var x=l[w-3]^l[w-8]^l[w-14]^l[w-16];l[w]=x<<1|x>>>31}x=(S<<5|S>>>27)+E+l[w],x=20>w?x+(1518500249+(b&T|~b&F)):40>w?x+(1859775393+(b^T^F)):60>w?x+((b&T|b&F|T&F)-1894007588):x+((b^T^F)-899497514),E=F,F=T,T=b<<30|b>>>2,b=S,S=x}v[0]=v[0]+S|0,v[1]=v[1]+b|0,v[2]=v[2]+T|0,v[3]=v[3]+F|0,v[4]=v[4]+E|0},_doFinalize:function(){var h=this._data,m=h.words,v=8*this._nDataBytes,S=8*h.sigBytes;return m[S>>>5]|=128<<24-S%32,m[14+(S+64>>>9<<4)]=Math.floor(v/4294967296),m[15+(S+64>>>9<<4)]=v,h.sigBytes=4*m.length,this._process(),this._hash},clone:function(){var h=u.clone.call(this);return h._hash=this._hash.clone(),h}});s.SHA1=u._createHelper(p),s.HmacSHA1=u._createHmacHelper(p)}(),function(s){for(var c=ie,u=(w=c.lib).WordArray,l=w.Hasher,w=c.algo,p=[],h=[],m=function(y){return 4294967296*(y-(0|y))|0},v=2,S=0;64>S;){var b;e:{for(var T=s.sqrt(b=v),F=2;F<=T;F++)if(!(b%F)){b=!1;break e}b=!0}b&&(8>S&&(p[S]=m(s.pow(v,.5))),h[S]=m(s.pow(v,1/3)),S++),v++}var E=[];w=w.SHA256=l.extend({_doReset:function(){this._hash=new u.init(p.slice(0))},_doProcessBlock:function(x,y){for(var I=this._hash.words,C=I[0],R=I[1],P=I[2],L=I[3],O=I[4],G=I[5],Z=I[6],_=I[7],M=0;64>M;M++){if(16>M)E[M]=0|x[y+M];else{var k=E[M-15],j=E[M-2];E[M]=((k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3)+E[M-7]+((j<<15|j>>>17)^(j<<13|j>>>19)^j>>>10)+E[M-16]}k=_+((O<<26|O>>>6)^(O<<21|O>>>11)^(O<<7|O>>>25))+(O&G^~O&Z)+h[M]+E[M],j=((C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22))+(C&R^C&P^R&P),_=Z,Z=G,G=O,O=L+k|0,L=P,P=R,R=C,C=k+j|0}I[0]=I[0]+C|0,I[1]=I[1]+R|0,I[2]=I[2]+P|0,I[3]=I[3]+L|0,I[4]=I[4]+O|0,I[5]=I[5]+G|0,I[6]=I[6]+Z|0,I[7]=I[7]+_|0},_doFinalize:function(){var x=this._data,y=x.words,I=8*this._nDataBytes,C=8*x.sigBytes;return y[C>>>5]|=128<<24-C%32,y[14+(C+64>>>9<<4)]=s.floor(I/4294967296),y[15+(C+64>>>9<<4)]=I,x.sigBytes=4*y.length,this._process(),this._hash},clone:function(){var x=l.clone.call(this);return x._hash=this._hash.clone(),x}}),c.SHA256=l._createHelper(w),c.HmacSHA256=l._createHmacHelper(w)}(Math),function(){var s=ie,c=s.lib.WordArray,u=(l=s.algo).SHA256,l=l.SHA224=u.extend({_doReset:function(){this._hash=new c.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var p=u._doFinalize.call(this);return p.sigBytes-=4,p}});s.SHA224=u._createHelper(l),s.HmacSHA224=u._createHmacHelper(l)}(),function(){function s(){return l.create.apply(l,arguments)}for(var c=ie,u=c.lib.Hasher,l=(h=c.x64).Word,p=h.WordArray,h=c.algo,m=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],v=[],S=0;80>S;S++)v[S]=s();h=h.SHA512=u.extend({_doReset:function(){this._hash=new p.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(b,T){for(var R,F=(R=this._hash.words)[0],E=R[1],w=R[2],x=R[3],y=R[4],I=R[5],C=R[6],P=F.high,L=F.low,O=E.high,G=E.low,Z=w.high,_=w.low,M=x.high,k=x.low,j=y.high,U=y.low,q=I.high,V=I.low,$=C.high,K=C.low,Y=(R=R[7]).high,le=R.low,he=P,fe=L,me=O,Me=G,_e=Z,Ie=_,mn=M,vt=k,yt=j,Qe=U,_t=q,Ue=V,dt=$,at=K,ct=Y,Pt=le,Ze=0;80>Ze;Ze++){var Bn=v[Ze];if(16>Ze)var Gt=Bn.high=0|b[T+2*Ze],$e=Bn.low=0|b[T+2*Ze+1];else{Gt=(($e=(Gt=v[Ze-15]).high)>>>1|(Ln=Gt.low)<<31)^($e>>>8|Ln<<24)^$e>>>7;var Ln=(Ln>>>1|$e<<31)^(Ln>>>8|$e<<24)^(Ln>>>7|$e<<25),Hr=(($e=(Hr=v[Ze-2]).high)>>>19|(tt=Hr.low)<<13)^($e<<3|tt>>>29)^$e>>>6,tt=(tt>>>19|$e<<13)^(tt<<3|$e>>>29)^(tt>>>6|$e<<26);Bn.high=Gt=(Gt=(Gt=Gt+(Qi=($e=v[Ze-7]).high)+(($e=Ln+$e.low)>>>0<Ln>>>0?1:0))+Hr+(($e+=tt)>>>0<tt>>>0?1:0))+(jn=(yr=v[Ze-16]).high)+(($e+=yr=yr.low)>>>0<yr>>>0?1:0),Bn.low=$e}var Qi=yt&_t^~yt&dt,yr=Qe&Ue^~Qe&at,$g=(Bn=he&me^he&_e^me&_e,fe&Me^fe&Ie^Me&Ie),qg=(tt=m[Ze]).high,Bf=tt.low,jn=ct+((yt>>>14|Qe<<18)^(yt>>>18|Qe<<14)^(yt<<23|Qe>>>9))+((tt=Pt+((Qe>>>14|yt<<18)^(Qe>>>18|yt<<14)^(Qe<<23|yt>>>9)))>>>0<Pt>>>0?1:0);ct=dt,Pt=at,dt=_t,at=Ue,_t=yt,Ue=Qe,yt=mn+(jn=(jn=(jn=jn+Qi+((tt+=yr)>>>0<yr>>>0?1:0))+qg+((tt+=Bf)>>>0<Bf>>>0?1:0))+Gt+((tt+=$e)>>>0<$e>>>0?1:0))+((Qe=vt+tt|0)>>>0<vt>>>0?1:0)|0,mn=_e,vt=Ie,_e=me,Ie=Me,me=he,Me=fe,he=jn+(Bn=(Ln=(he>>>28|fe<<4)^(he<<30|fe>>>2)^(he<<25|fe>>>7))+Bn+(($e=(Hr=(fe>>>28|he<<4)^(fe<<30|he>>>2)^(fe<<25|he>>>7))+$g)>>>0<Hr>>>0?1:0))+((fe=tt+$e|0)>>>0<tt>>>0?1:0)|0}L=F.low=L+fe,F.high=P+he+(L>>>0<fe>>>0?1:0),G=E.low=G+Me,E.high=O+me+(G>>>0<Me>>>0?1:0),_=w.low=_+Ie,w.high=Z+_e+(_>>>0<Ie>>>0?1:0),k=x.low=k+vt,x.high=M+mn+(k>>>0<vt>>>0?1:0),U=y.low=U+Qe,y.high=j+yt+(U>>>0<Qe>>>0?1:0),V=I.low=V+Ue,I.high=q+_t+(V>>>0<Ue>>>0?1:0),K=C.low=K+at,C.high=$+dt+(K>>>0<at>>>0?1:0),le=R.low=le+Pt,R.high=Y+ct+(le>>>0<Pt>>>0?1:0)},_doFinalize:function(){var b=this._data,T=b.words,F=8*this._nDataBytes,E=8*b.sigBytes;return T[E>>>5]|=128<<24-E%32,T[30+(E+128>>>10<<5)]=Math.floor(F/4294967296),T[31+(E+128>>>10<<5)]=F,b.sigBytes=4*T.length,this._process(),this._hash.toX32()},clone:function(){var b=u.clone.call(this);return b._hash=this._hash.clone(),b},blockSize:32}),c.SHA512=u._createHelper(h),c.HmacSHA512=u._createHmacHelper(h)}(),function(){var s=ie,c=(p=s.x64).Word,u=p.WordArray,l=(p=s.algo).SHA512,p=p.SHA384=l.extend({_doReset:function(){this._hash=new u.init([new c.init(3418070365,3238371032),new c.init(1654270250,914150663),new c.init(2438529370,812702999),new c.init(355462360,4144912697),new c.init(1731405415,4290775857),new c.init(2394180231,1750603025),new c.init(3675008525,1694076839),new c.init(1203062813,3204075428)])},_doFinalize:function(){var h=l._doFinalize.call(this);return h.sigBytes-=16,h}});s.SHA384=l._createHelper(p),s.HmacSHA384=l._createHmacHelper(p)}(),function(){var s=ie,c=(b=s.lib).WordArray,u=b.Hasher,b=s.algo,l=c.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),p=c.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=c.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=c.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),v=c.create([0,1518500249,1859775393,2400959708,2840853838]),S=c.create([1352829926,1548603684,1836072691,2053994217,0]);b=b.RIPEMD160=u.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(T,F){for(var E=0;16>E;E++)T[w=F+E]=16711935&((x=T[w])<<8|x>>>24)|4278255360&(x<<24|x>>>8);var w,L,O,G,Z,_,M,k,j,U,q,V,x=v.words,y=S.words,I=l.words,C=p.words,R=h.words,P=m.words;for(M=L=(w=this._hash.words)[0],k=O=w[1],j=G=w[2],U=Z=w[3],q=_=w[4],E=0;80>E;E+=1)V=L+T[F+I[E]]|0,V=16>E?V+((O^G^Z)+x[0]):32>E?V+((O&G|~O&Z)+x[1]):48>E?V+(((O|~G)^Z)+x[2]):64>E?V+((O&Z|G&~Z)+x[3]):V+((O^(G|~Z))+x[4]),V=(V=(V|=0)<<R[E]|V>>>32-R[E])+_|0,L=_,_=Z,Z=G<<10|G>>>22,G=O,O=V,V=M+T[F+C[E]]|0,V=16>E?V+((k^(j|~U))+y[0]):32>E?V+((k&U|j&~U)+y[1]):48>E?V+(((k|~j)^U)+y[2]):64>E?V+((k&j|~k&U)+y[3]):V+((k^j^U)+y[4]),V=(V=(V|=0)<<P[E]|V>>>32-P[E])+q|0,M=q,q=U,U=j<<10|j>>>22,j=k,k=V;V=w[1]+G+U|0,w[1]=w[2]+Z+q|0,w[2]=w[3]+_+M|0,w[3]=w[4]+L+k|0,w[4]=w[0]+O+j|0,w[0]=V},_doFinalize:function(){var T=this._data,F=T.words,E=8*this._nDataBytes,w=8*T.sigBytes;for(F[w>>>5]|=128<<24-w%32,F[14+(w+64>>>9<<4)]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8),T.sigBytes=4*(F.length+1),this._process(),F=(T=this._hash).words,E=0;5>E;E++)F[E]=16711935&((w=F[E])<<8|w>>>24)|4278255360&(w<<24|w>>>8);return T},clone:function(){var T=u.clone.call(this);return T._hash=this._hash.clone(),T}}),s.RIPEMD160=u._createHelper(b),s.HmacRIPEMD160=u._createHmacHelper(b)}(Math),function(){var c=ie.enc.Utf8;ie.algo.HMAC=ie.lib.Base.extend({init:function(u,l){u=this._hasher=new u.init,"string"==typeof l&&(l=c.parse(l));var p=u.blockSize,h=4*p;l.sigBytes>h&&(l=u.finalize(l)),l.clamp();for(var m=this._oKey=l.clone(),v=this._iKey=l.clone(),S=m.words,b=v.words,T=0;T<p;T++)S[T]^=1549556828,b[T]^=909522486;m.sigBytes=v.sigBytes=h,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var l=this._hasher;return u=l.finalize(u),l.reset(),l.finalize(this._oKey.clone().concat(u))}})}(),function(){var l,s=ie,c=(l=s.lib).Base,u=l.WordArray,p=(l=s.algo).HMAC,h=l.PBKDF2=c.extend({cfg:c.extend({keySize:4,hasher:l.SHA1,iterations:1}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,v){for(var S=p.create((x=this.cfg).hasher,m),b=u.create(),T=u.create([1]),F=b.words,E=T.words,w=x.keySize,x=x.iterations;F.length<w;){var y=S.update(v).finalize(T);S.reset();for(var I=y.words,C=I.length,R=y,P=1;P<x;P++){R=S.finalize(R),S.reset();for(var L=R.words,O=0;O<C;O++)I[O]^=L[O]}b.concat(y),E[0]++}return b.sigBytes=4*w,b}});s.PBKDF2=function(m,v,S){return h.create(S).compute(m,v)}}();var On,lr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ri="=";function bn(s){var c,u,l="";for(c=0;c+3<=s.length;c+=3)u=parseInt(s.substring(c,c+3),16),l+=lr.charAt(u>>6)+lr.charAt(63&u);if(c+1==s.length?(u=parseInt(s.substring(c,c+1),16),l+=lr.charAt(u<<2)):c+2==s.length&&(u=parseInt(s.substring(c,c+2),16),l+=lr.charAt(u>>2)+lr.charAt((3&u)<<4)),Ri)for(;(3&l.length)>0;)l+=Ri;return l}function nn(s){var u,p,h,c="",l=0;for(u=0;u<s.length&&s.charAt(u)!=Ri;++u)!((h=lr.indexOf(s.charAt(u)))<0)&&(0==l?(c+=qt(h>>2),p=3&h,l=1):1==l?(c+=qt(p<<2|h>>4),p=15&h,l=2):2==l?(c+=qt(p),c+=qt(h>>2),p=3&h,l=3):(c+=qt(p<<2|h>>4),c+=qt(15&h),l=0));return 1==l&&(c+=qt(p<<2)),c}function z(s,c,u){null!=s&&("number"==typeof s?this.fromNumber(s,c,u):this.fromString(s,null==c&&"string"!=typeof s?256:c))}function Pe(){return new z(null)}"Microsoft Internet Explorer"==Be.appName?(z.prototype.am=function fr(s,c,u,l,p,h){for(var m=32767&c,v=c>>15;--h>=0;){var S=32767&this[s],b=this[s++]>>15,T=v*S+b*m;p=((S=m*S+((32767&T)<<15)+u[l]+(1073741823&p))>>>30)+(T>>>15)+v*b+(p>>>30),u[l++]=1073741823&S}return p},On=30):"Netscape"!=Be.appName?(z.prototype.am=function so(s,c,u,l,p,h){for(;--h>=0;){var m=c*this[s++]+u[l]+p;p=Math.floor(m/67108864),u[l++]=67108863&m}return p},On=26):(z.prototype.am=function Mi(s,c,u,l,p,h){for(var m=16383&c,v=c>>14;--h>=0;){var S=16383&this[s],b=this[s++]>>14,T=v*S+b*m;p=((S=m*S+((16383&T)<<14)+u[l]+p)>>28)+(T>>14)+v*b,u[l++]=268435455&S}return p},On=28),z.prototype.DB=On,z.prototype.DM=(1<<On)-1,z.prototype.DV=1<<On,z.prototype.FV=Math.pow(2,52),z.prototype.F1=52-On,z.prototype.F2=2*On-52;var Gn,rn,ao="0123456789abcdefghijklmnopqrstuvwxyz",Ni=new Array;for(Gn="0".charCodeAt(0),rn=0;rn<=9;++rn)Ni[Gn++]=rn;for(Gn="a".charCodeAt(0),rn=10;rn<36;++rn)Ni[Gn++]=rn;for(Gn="A".charCodeAt(0),rn=10;rn<36;++rn)Ni[Gn++]=rn;function qt(s){return ao.charAt(s)}function ni(s,c){return Ni[s.charCodeAt(c)]??-1}function Wn(s){var c=Pe();return c.fromInt(s),c}function Pi(s){var u,c=1;return 0!=(u=s>>>16)&&(s=u,c+=16),0!=(u=s>>8)&&(s=u,c+=8),0!=(u=s>>4)&&(s=u,c+=4),0!=(u=s>>2)&&(s=u,c+=2),0!=(u=s>>1)&&(s=u,c+=1),c}function dr(s){this.m=s}function hr(s){this.m=s,this.mp=s.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<s.DB-15)-1,this.mt2=2*s.t}function Yl(s,c){return s&c}function mo(s,c){return s|c}function Ja(s,c){return s^c}function vo(s,c){return s&~c}function tf(s){if(0==s)return-1;var c=0;return 65535&s||(s>>=16,c+=16),255&s||(s>>=8,c+=8),15&s||(s>>=4,c+=4),3&s||(s>>=2,c+=2),1&s||++c,c}function ru(s){for(var c=0;0!=s;)s&=s-1,++c;return c}function ri(){}function au(s){return s}function pr(s){this.r2=Pe(),this.q3=Pe(),z.ONE.dlShiftTo(2*s.t,this.r2),this.mu=this.r2.divide(s),this.m=s}dr.prototype.convert=function fo(s){return s.s<0||s.compareTo(this.m)>=0?s.mod(this.m):s},dr.prototype.revert=function Nl(s){return s},dr.prototype.reduce=function Pl(s){s.divRemTo(this.m,null,s)},dr.prototype.mulTo=function Ol(s,c,u){s.multiplyTo(c,u),this.reduce(u)},dr.prototype.sqrTo=function kl(s,c){s.squareTo(c),this.reduce(c)},hr.prototype.convert=function jl(s){var c=Pe();return s.abs().dlShiftTo(this.m.t,c),c.divRemTo(this.m,null,c),s.s<0&&c.compareTo(z.ZERO)>0&&this.m.subTo(c,c),c},hr.prototype.revert=function Bl(s){var c=Pe();return s.copyTo(c),this.reduce(c),c},hr.prototype.reduce=function Ga(s){for(;s.t<=this.mt2;)s[s.t++]=0;for(var c=0;c<this.m.t;++c){var u=32767&s[c],l=u*this.mpl+((u*this.mph+(s[c]>>15)*this.mpl&this.um)<<15)&s.DM;for(s[u=c+this.m.t]+=this.m.am(0,l,s,c,0,this.m.t);s[u]>=s.DV;)s[u]-=s.DV,s[++u]++}s.clamp(),s.drShiftTo(this.m.t,s),s.compareTo(this.m)>=0&&s.subTo(this.m,s)},hr.prototype.mulTo=function ho(s,c,u){s.multiplyTo(c,u),this.reduce(u)},hr.prototype.sqrTo=function Hl(s,c){s.squareTo(c),this.reduce(c)},z.prototype.copyTo=function Tl(s){for(var c=this.t-1;c>=0;--c)s[c]=this[c];s.t=this.t,s.s=this.s},z.prototype.fromInt=function uo(s){this.t=1,this.s=s<0?-1:0,s>0?this[0]=s:s<-1?this[0]=s+this.DV:this.t=0},z.prototype.fromString=function co(s,c){var u;if(16==c)u=4;else if(8==c)u=3;else if(256==c)u=8;else if(2==c)u=1;else if(32==c)u=5;else{if(4!=c)return void this.fromRadix(s,c);u=2}this.t=0,this.s=0;for(var l=s.length,p=!1,h=0;--l>=0;){var m=8==u?255&s[l]:ni(s,l);m<0?"-"==s.charAt(l)&&(p=!0):(p=!1,0==h?this[this.t++]=m:h+u>this.DB?(this[this.t-1]|=(m&(1<<this.DB-h)-1)<<h,this[this.t++]=m>>this.DB-h):this[this.t-1]|=m<<h,(h+=u)>=this.DB&&(h-=this.DB))}8==u&&128&s[0]&&(this.s=-1,h>0&&(this[this.t-1]|=(1<<this.DB-h)-1<<h)),this.clamp(),p&&z.ZERO.subTo(this,this)},z.prototype.clamp=function Zn(){for(var s=this.s&this.DM;this.t>0&&this[this.t-1]==s;)--this.t},z.prototype.dlShiftTo=function Rl(s,c){var u;for(u=this.t-1;u>=0;--u)c[u+s]=this[u];for(u=s-1;u>=0;--u)c[u]=0;c.t=this.t+s,c.s=this.s},z.prototype.drShiftTo=function hn(s,c){for(var u=s;u<this.t;++u)c[u-s]=this[u];c.t=Math.max(this.t-s,0),c.s=this.s},z.prototype.lShiftTo=function za(s,c){var v,u=s%this.DB,l=this.DB-u,p=(1<<l)-1,h=Math.floor(s/this.DB),m=this.s<<u&this.DM;for(v=this.t-1;v>=0;--v)c[v+h+1]=this[v]>>l|m,m=(this[v]&p)<<u;for(v=h-1;v>=0;--v)c[v]=0;c[h]=m,c.t=this.t+h+1,c.s=this.s,c.clamp()},z.prototype.rShiftTo=function Ka(s,c){c.s=this.s;var u=Math.floor(s/this.DB);if(u>=this.t)c.t=0;else{var l=s%this.DB,p=this.DB-l,h=(1<<l)-1;c[0]=this[u]>>l;for(var m=u+1;m<this.t;++m)c[m-u-1]|=(this[m]&h)<<p,c[m-u]=this[m]>>l;l>0&&(c[this.t-u-1]|=(this.s&h)<<p),c.t=this.t-u,c.clamp()}},z.prototype.subTo=function pt(s,c){for(var u=0,l=0,p=Math.min(s.t,this.t);u<p;)l+=this[u]-s[u],c[u++]=l&this.DM,l>>=this.DB;if(s.t<this.t){for(l-=s.s;u<this.t;)l+=this[u],c[u++]=l&this.DM,l>>=this.DB;l+=this.s}else{for(l+=this.s;u<s.t;)l-=s[u],c[u++]=l&this.DM,l>>=this.DB;l-=s.s}c.s=l<0?-1:0,l<-1?c[u++]=this.DV+l:l>0&&(c[u++]=l),c.t=u,c.clamp()},z.prototype.multiplyTo=function gt(s,c){var u=this.abs(),l=s.abs(),p=u.t;for(c.t=p+l.t;--p>=0;)c[p]=0;for(p=0;p<l.t;++p)c[p+u.t]=u.am(0,l[p],c,p,0,u.t);c.s=0,c.clamp(),this.s!=s.s&&z.ZERO.subTo(c,c)},z.prototype.squareTo=function Ml(s){for(var c=this.abs(),u=s.t=2*c.t;--u>=0;)s[u]=0;for(u=0;u<c.t-1;++u){var l=c.am(u,c[u],s,2*u,0,1);(s[u+c.t]+=c.am(u+1,2*c[u],s,2*u+1,l,c.t-u-1))>=c.DV&&(s[u+c.t]-=c.DV,s[u+c.t+1]=1)}s.t>0&&(s[s.t-1]+=c.am(u,c[u],s,2*u,0,1)),s.s=0,s.clamp()},z.prototype.divRemTo=function He(s,c,u){var l=s.abs();if(!(l.t<=0)){var p=this.abs();if(p.t<l.t)return c?.fromInt(0),void(null!=u&&this.copyTo(u));null==u&&(u=Pe());var h=Pe(),m=this.s,v=s.s,S=this.DB-Pi(l[l.t-1]);S>0?(l.lShiftTo(S,h),p.lShiftTo(S,u)):(l.copyTo(h),p.copyTo(u));var b=h.t,T=h[b-1];if(0!=T){var F=T*(1<<this.F1)+(b>1?h[b-2]>>this.F2:0),E=this.FV/F,w=(1<<this.F1)/F,x=1<<this.F2,y=u.t,I=y-b,C=c??Pe();for(h.dlShiftTo(I,C),u.compareTo(C)>=0&&(u[u.t++]=1,u.subTo(C,u)),z.ONE.dlShiftTo(b,C),C.subTo(h,h);h.t<b;)h[h.t++]=0;for(;--I>=0;){var R=u[--y]==T?this.DM:Math.floor(u[y]*E+(u[y-1]+x)*w);if((u[y]+=h.am(0,R,u,I,0,b))<R)for(h.dlShiftTo(I,C),u.subTo(C,u);u[y]<--R;)u.subTo(C,u)}null!=c&&(u.drShiftTo(b,c),m!=v&&z.ZERO.subTo(c,c)),u.t=b,u.clamp(),S>0&&u.rShiftTo(S,u),m<0&&z.ZERO.subTo(u,u)}}},z.prototype.invDigit=function Ll(){if(this.t<1)return 0;var s=this[0];if(!(1&s))return 0;var c=3&s;return(c=(c=(c=(c=c*(2-(15&s)*c)&15)*(2-(255&s)*c)&255)*(2-((65535&s)*c&65535))&65535)*(2-s*c%this.DV)%this.DV)>0?this.DV-c:-c},z.prototype.isEven=function Vl(){return 0==(this.t>0?1&this[0]:this.s)},z.prototype.exp=function po(s,c){if(s>4294967295||s<1)return z.ONE;var u=Pe(),l=Pe(),p=c.convert(this),h=Pi(s)-1;for(p.copyTo(u);--h>=0;)if(c.sqrTo(u,l),(s&1<<h)>0)c.mulTo(l,p,u);else{var m=u;u=l,l=m}return c.revert(u)},z.prototype.toString=function Fl(s){if(this.s<0)return"-"+this.negate().toString(s);var c;if(16==s)c=4;else if(8==s)c=3;else if(2==s)c=1;else if(32==s)c=5;else{if(4!=s)return this.toRadix(s);c=2}var l,u=(1<<c)-1,p=!1,h="",m=this.t,v=this.DB-m*this.DB%c;if(m-- >0)for(v<this.DB&&(l=this[m]>>v)>0&&(p=!0,h=qt(l));m>=0;)v<c?(l=(this[m]&(1<<v)-1)<<c-v,l|=this[--m]>>(v+=this.DB-c)):(l=this[m]>>(v-=c)&u,v<=0&&(v+=this.DB,--m)),l>0&&(p=!0),p&&(h+=qt(l));return p?h:"0"},z.prototype.negate=function $a(){var s=Pe();return z.ZERO.subTo(this,s),s},z.prototype.abs=function ft(){return this.s<0?this.negate():this},z.prototype.compareTo=function qa(s){var c=this.s-s.s;if(0!=c)return c;var u=this.t;if(0!=(c=u-s.t))return this.s<0?-c:c;for(;--u>=0;)if(0!=(c=this[u]-s[u]))return c;return 0},z.prototype.bitLength=function _l(){return this.t<=0?0:this.DB*(this.t-1)+Pi(this[this.t-1]^this.s&this.DM)},z.prototype.mod=function lo(s){var c=Pe();return this.abs().divRemTo(s,null,c),this.s<0&&c.compareTo(z.ZERO)>0&&s.subTo(c,c),c},z.prototype.modPowInt=function Wa(s,c){var u;return u=s<256||c.isEven()?new dr(c):new hr(c),this.exp(s,u)},z.ZERO=Wn(0),z.ONE=Wn(1),ri.prototype.convert=au,ri.prototype.revert=au,ri.prototype.mulTo=function yo(s,c,u){s.multiplyTo(c,u)},ri.prototype.sqrTo=function ff(s,c){s.squareTo(c)},pr.prototype.convert=function hf(s){if(s.s<0||s.t>2*this.m.t)return s.mod(this.m);if(s.compareTo(this.m)<0)return s;var c=Pe();return s.copyTo(c),this.reduce(c),c},pr.prototype.revert=function pf(s){return s},pr.prototype.reduce=function gf(s){for(s.drShiftTo(this.m.t-1,this.r2),s.t>this.m.t+1&&(s.t=this.m.t+1,s.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);s.compareTo(this.r2)<0;)s.dAddOffset(1,this.m.t+1);for(s.subTo(this.r2,s);s.compareTo(this.m)>=0;)s.subTo(this.m,s)},pr.prototype.mulTo=function cu(s,c,u){s.multiplyTo(c,u),this.reduce(u)},pr.prototype.sqrTo=function mf(s,c){s.squareTo(c),this.reduce(c)};var Je=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],we=(1<<26)/Je[Je.length-1];function Lt(){this.i=0,this.j=0,this.S=new Array}z.prototype.chunkSize=function Za(s){return Math.floor(Math.LN2*this.DB/Math.log(s))},z.prototype.toRadix=function Xa(s){if(null==s&&(s=10),0==this.signum()||s<2||s>36)return"0";var c=this.chunkSize(s),u=Math.pow(s,c),l=Wn(u),p=Pe(),h=Pe(),m="";for(this.divRemTo(l,p,h);p.signum()>0;)m=(u+h.intValue()).toString(s).substr(1)+m,p.divRemTo(l,p,h);return h.intValue().toString(s)+m},z.prototype.fromRadix=function Kl(s,c){this.fromInt(0),null==c&&(c=10);for(var u=this.chunkSize(c),l=Math.pow(c,u),p=!1,h=0,m=0,v=0;v<s.length;++v){var S=ni(s,v);S<0?"-"==s.charAt(v)&&0==this.signum()&&(p=!0):(m=c*m+S,++h>=u&&(this.dMultiply(l),this.dAddOffset(m,0),h=0,m=0))}h>0&&(this.dMultiply(Math.pow(c,h)),this.dAddOffset(m,0)),p&&z.ZERO.subTo(this,this)},z.prototype.fromNumber=function Gl(s,c,u){if("number"==typeof c)if(s<2)this.fromInt(1);else for(this.fromNumber(s,u),this.testBit(s-1)||this.bitwiseTo(z.ONE.shiftLeft(s-1),mo,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(c);)this.dAddOffset(2,0),this.bitLength()>s&&this.subTo(z.ONE.shiftLeft(s-1),this);else{var l=new Array,p=7&s;l.length=1+(s>>3),c.nextBytes(l),p>0?l[0]&=(1<<p)-1:l[0]=0,this.fromString(l,256)}},z.prototype.bitwiseTo=function Jl(s,c,u){var l,p,h=Math.min(s.t,this.t);for(l=0;l<h;++l)u[l]=c(this[l],s[l]);if(s.t<this.t){for(p=s.s&this.DM,l=h;l<this.t;++l)u[l]=c(this[l],p);u.t=this.t}else{for(p=this.s&this.DM,l=h;l<s.t;++l)u[l]=c(p,s[l]);u.t=s.t}u.s=c(this.s,s.s),u.clamp()},z.prototype.changeBit=function sn(s,c){var u=z.ONE.shiftLeft(s);return this.bitwiseTo(u,c,u),u},z.prototype.addTo=function af(s,c){for(var u=0,l=0,p=Math.min(s.t,this.t);u<p;)l+=this[u]+s[u],c[u++]=l&this.DM,l>>=this.DB;if(s.t<this.t){for(l+=s.s;u<this.t;)l+=this[u],c[u++]=l&this.DM,l>>=this.DB;l+=this.s}else{for(l+=this.s;u<s.t;)l+=s[u],c[u++]=l&this.DM,l>>=this.DB;l+=s.s}c.s=l<0?-1:0,l>0?c[u++]=l:l<-1&&(c[u++]=this.DV+l),c.t=u,c.clamp()},z.prototype.dMultiply=function Cn(s){this[this.t]=this.am(0,s-1,this,0,0,this.t),++this.t,this.clamp()},z.prototype.dAddOffset=function Ig(s,c){if(0!=s){for(;this.t<=c;)this[this.t++]=0;for(this[c]+=s;this[c]>=this.DV;)this[c]-=this.DV,++c>=this.t&&(this[this.t++]=0),++this[c]}},z.prototype.multiplyLowerTo=function df(s,c,u){var p,l=Math.min(this.t+s.t,c);for(u.s=0,u.t=l;l>0;)u[--l]=0;for(p=u.t-this.t;l<p;++l)u[l+this.t]=this.am(0,s[l],u,l,0,this.t);for(p=Math.min(s.t,c);l<p;++l)this.am(0,s[l],u,l,0,c-l);u.clamp()},z.prototype.multiplyUpperTo=function uu(s,c,u){--c;var l=u.t=this.t+s.t-c;for(u.s=0;--l>=0;)u[l]=0;for(l=Math.max(c-this.t,0);l<s.t;++l)u[this.t+l-c]=this.am(c-l,s[l],u,0,0,this.t+l-c);u.clamp(),u.drShiftTo(1,u)},z.prototype.modInt=function Et(s){if(s<=0)return 0;var c=this.DV%s,u=this.s<0?s-1:0;if(this.t>0)if(0==c)u=this[0]%s;else for(var l=this.t-1;l>=0;--l)u=(c*u+this[l])%s;return u},z.prototype.millerRabin=function wo(s){var c=this.subtract(z.ONE),u=c.getLowestSetBit();if(u<=0)return!1;var l=c.shiftRight(u);(s=s+1>>1)>Je.length&&(s=Je.length);for(var p=Pe(),h=0;h<s;++h){p.fromInt(Je[Math.floor(Math.random()*Je.length)]);var m=p.modPow(l,this);if(0!=m.compareTo(z.ONE)&&0!=m.compareTo(c)){for(var v=1;v++<u&&0!=m.compareTo(c);)if(0==(m=m.modPowInt(2,this)).compareTo(z.ONE))return!1;if(0!=m.compareTo(c))return!1}}return!0},z.prototype.clone=function Ul(){var s=Pe();return this.copyTo(s),s},z.prototype.intValue=function $l(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},z.prototype.byteValue=function ql(){return 0==this.t?this.s:this[0]<<24>>24},z.prototype.shortValue=function Xn(){return 0==this.t?this.s:this[0]<<16>>16},z.prototype.signum=function zl(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},z.prototype.toByteArray=function go(){var s=this.t,c=new Array;c[0]=this.s;var l,u=this.DB-s*this.DB%8,p=0;if(s-- >0)for(u<this.DB&&(l=this[s]>>u)!=(this.s&this.DM)>>u&&(c[p++]=l|this.s<<this.DB-u);s>=0;)u<8?(l=(this[s]&(1<<u)-1)<<8-u,l|=this[--s]>>(u+=this.DB-8)):(l=this[s]>>(u-=8)&255,u<=0&&(u+=this.DB,--s)),128&l&&(l|=-256),0==p&&(128&this.s)!=(128&l)&&++p,(p>0||l!=this.s)&&(c[p++]=l);return c},z.prototype.equals=function Wl(s){return 0==this.compareTo(s)},z.prototype.min=function Zl(s){return this.compareTo(s)<0?this:s},z.prototype.max=function Xl(s){return this.compareTo(s)>0?this:s},z.prototype.and=function Ql(s){var c=Pe();return this.bitwiseTo(s,Yl,c),c},z.prototype.or=function ef(s){var c=Pe();return this.bitwiseTo(s,mo,c),c},z.prototype.xor=function xg(s){var c=Pe();return this.bitwiseTo(s,Ja,c),c},z.prototype.andNot=function Ya(s){var c=Pe();return this.bitwiseTo(s,vo,c),c},z.prototype.not=function Qa(){for(var s=Pe(),c=0;c<this.t;++c)s[c]=this.DM&~this[c];return s.t=this.t,s.s=~this.s,s},z.prototype.shiftLeft=function eu(s){var c=Pe();return s<0?this.rShiftTo(-s,c):this.lShiftTo(s,c),c},z.prototype.shiftRight=function tu(s){var c=Pe();return s<0?this.lShiftTo(-s,c):this.rShiftTo(s,c),c},z.prototype.getLowestSetBit=function nu(){for(var s=0;s<this.t;++s)if(0!=this[s])return s*this.DB+tf(this[s]);return this.s<0?this.t*this.DB:-1},z.prototype.bitCount=function iu(){for(var s=0,c=this.s&this.DM,u=0;u<this.t;++u)s+=ru(this[u]^c);return s},z.prototype.testBit=function su(s){var c=Math.floor(s/this.DB);return c>=this.t?0!=this.s:0!=(this[c]&1<<s%this.DB)},z.prototype.setBit=function nf(s){return this.changeBit(s,mo)},z.prototype.clearBit=function rf(s){return this.changeBit(s,vo)},z.prototype.flipBit=function sf(s){return this.changeBit(s,Ja)},z.prototype.add=function ou(s){var c=Pe();return this.addTo(s,c),c},z.prototype.subtract=function uf(s){var c=Pe();return this.subTo(s,c),c},z.prototype.multiply=function cf(s){var c=Pe();return this.multiplyTo(s,c),c},z.prototype.divide=function lf(s){var c=Pe();return this.divRemTo(s,c,null),c},z.prototype.remainder=function bt(s){var c=Pe();return this.divRemTo(s,null,c),c},z.prototype.divideAndRemainder=function Pr(s){var c=Pe(),u=Pe();return this.divRemTo(s,c,u),new Array(c,u)},z.prototype.modPow=function vf(s,c){var l,h,u=s.bitLength(),p=Wn(1);if(u<=0)return p;l=u<18?1:u<48?3:u<144?4:u<768?5:6,h=u<8?new dr(c):c.isEven()?new pr(c):new hr(c);var m=new Array,v=3,S=l-1,b=(1<<l)-1;if(m[1]=h.convert(this),l>1){var T=Pe();for(h.sqrTo(m[1],T);v<=b;)m[v]=Pe(),h.mulTo(T,m[v-2],m[v]),v+=2}var E,y,F=s.t-1,w=!0,x=Pe();for(u=Pi(s[F])-1;F>=0;){for(u>=S?E=s[F]>>u-S&b:(E=(s[F]&(1<<u+1)-1)<<S-u,F>0&&(E|=s[F-1]>>this.DB+u-S)),v=l;!(1&E);)E>>=1,--v;if((u-=v)<0&&(u+=this.DB,--F),w)m[E].copyTo(p),w=!1;else{for(;v>1;)h.sqrTo(p,x),h.sqrTo(x,p),v-=2;v>0?h.sqrTo(p,x):(y=p,p=x,x=y),h.mulTo(x,m[E],p)}for(;F>=0&&!(s[F]&1<<u);)h.sqrTo(p,x),y=p,p=x,x=y,--u<0&&(u=this.DB-1,--F)}return h.revert(p)},z.prototype.modInverse=function wf(s){var c=s.isEven();if(this.isEven()&&c||0==s.signum())return z.ZERO;for(var u=s.clone(),l=this.clone(),p=Wn(1),h=Wn(0),m=Wn(0),v=Wn(1);0!=u.signum();){for(;u.isEven();)u.rShiftTo(1,u),c?((!p.isEven()||!h.isEven())&&(p.addTo(this,p),h.subTo(s,h)),p.rShiftTo(1,p)):h.isEven()||h.subTo(s,h),h.rShiftTo(1,h);for(;l.isEven();)l.rShiftTo(1,l),c?((!m.isEven()||!v.isEven())&&(m.addTo(this,m),v.subTo(s,v)),m.rShiftTo(1,m)):v.isEven()||v.subTo(s,v),v.rShiftTo(1,v);u.compareTo(l)>=0?(u.subTo(l,u),c&&p.subTo(m,p),h.subTo(v,h)):(l.subTo(u,l),c&&m.subTo(p,m),v.subTo(h,v))}return 0!=l.compareTo(z.ONE)?z.ZERO:v.compareTo(s)>=0?v.subtract(s):v.signum()<0?(v.addTo(s,v),v.signum()<0?v.add(s):v):v},z.prototype.pow=function ii(s){return this.exp(s,new ri)},z.prototype.gcd=function yf(s){var c=this.s<0?this.negate():this.clone(),u=s.s<0?s.negate():s.clone();if(c.compareTo(u)<0){var l=c;c=u,u=l}var p=c.getLowestSetBit(),h=u.getLowestSetBit();if(h<0)return c;for(p<h&&(h=p),h>0&&(c.rShiftTo(h,c),u.rShiftTo(h,u));c.signum()>0;)(p=c.getLowestSetBit())>0&&c.rShiftTo(p,c),(p=u.getLowestSetBit())>0&&u.rShiftTo(p,u),c.compareTo(u)>=0?(c.subTo(u,c),c.rShiftTo(1,c)):(u.subTo(c,u),u.rShiftTo(1,u));return h>0&&u.lShiftTo(h,u),u},z.prototype.isProbablePrime=function lu(s){var c,u=this.abs();if(1==u.t&&u[0]<=Je[Je.length-1]){for(c=0;c<Je.length;++c)if(u[0]==Je[c])return!0;return!1}if(u.isEven())return!1;for(c=1;c<Je.length;){for(var l=Je[c],p=c+1;p<Je.length&&l<we;)l*=Je[p++];for(l=u.modInt(l);c<p;)if(l%Je[c++]==0)return!1}return u.millerRabin(s)},z.prototype.square=function kn(){var s=Pe();return this.squareTo(s),s},Lt.prototype.init=function Ef(s){var c,u,l;for(c=0;c<256;++c)this.S[c]=c;for(u=0,c=0;c<256;++c)l=this.S[c],this.S[c]=this.S[u=u+this.S[c]+s[c%s.length]&255],this.S[u]=l;this.i=0,this.j=0},Lt.prototype.next=function Df(){var s;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,s=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=s,this.S[s+this.S[this.i]&255]};var ut,Mt,Dt,Or=256;function ye(){!function Eo(s){Mt[Dt++]^=255&s,Mt[Dt++]^=s>>8&255,Mt[Dt++]^=s>>16&255,Mt[Dt++]^=s>>24&255,Dt>=Or&&(Dt-=Or)}((new Date).getTime())}if(null==Mt){var zt;if(Mt=new Array,Dt=0,void 0!==Kn&&(void 0!==Kn.crypto||void 0!==Kn.msCrypto)){var Oi=Kn.crypto||Kn.msCrypto;if(Oi.getRandomValues){var Sf=new Uint8Array(32);for(Oi.getRandomValues(Sf),zt=0;zt<32;++zt)Mt[Dt++]=Sf[zt]}else if("Netscape"==Be.appName&&Be.appVersion<"5"){var Do=Kn.crypto.random(32);for(zt=0;zt<Do.length;++zt)Mt[Dt++]=255&Do.charCodeAt(zt)}}for(;Dt<Or;)zt=Math.floor(65536*Math.random()),Mt[Dt++]=zt>>>8,Mt[Dt++]=255&zt;Dt=0,ye()}function oe(){if(null==ut){for(ye(),(ut=function qe(){return new Lt}()).init(Mt),Dt=0;Dt<Mt.length;++Dt)Mt[Dt]=0;Dt=0}return ut.next()}function ge(){}function xe(s,c){return new z(s,c)}function Se(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function mt(s,c){this.x=c,this.q=s}function Fe(s,c,u,l){this.curve=s,this.x=c,this.y=u,this.z=null==l?z.ONE:l,this.zinv=null}function Ce(s,c,u){this.q=s,this.a=this.fromBigInteger(c),this.b=this.fromBigInteger(u),this.infinity=new Fe(this,null,null)}ge.prototype.nextBytes=function ki(s){var c;for(c=0;c<s.length;++c)s[c]=oe()},Se.prototype.doPublic=function Fg(s){return s.modPowInt(this.e,this.n)},Se.prototype.setPublic=function bf(s,c){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof s)this.n=s,this.e=c;else{if(!(null!=s&&null!=c&&s.length>0&&c.length>0))throw"Invalid RSA public key";this.n=xe(s,16),this.e=parseInt(c,16)}},Se.prototype.type="RSA",Se.prototype.doPrivate=function Mg(s){if(null==this.p||null==this.q)return s.modPow(this.d,this.n);for(var c=s.mod(this.p).modPow(this.dmp1,this.p),u=s.mod(this.q).modPow(this.dmq1,this.q);c.compareTo(u)<0;)c=c.add(this.p);return c.subtract(u).multiply(this.coeff).mod(this.p).multiply(this.q).add(u)},Se.prototype.setPrivate=function _g(s,c,u){if(this.isPrivate=!0,"string"!=typeof s)this.n=s,this.e=c,this.d=u;else{if(!(null!=s&&null!=c&&s.length>0&&c.length>0))throw"Invalid RSA private key";this.n=xe(s,16),this.e=parseInt(c,16),this.d=xe(u,16)}},Se.prototype.setPrivateEx=function Rg(s,c,u,l,p,h,m,v){if(this.isPrivate=!0,this.isPublic=!1,null==s)throw"RSASetPrivateEx N == null";if(null==c)throw"RSASetPrivateEx E == null";if(0==s.length)throw"RSASetPrivateEx N.length == 0";if(0==c.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=s&&null!=c&&s.length>0&&c.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=xe(s,16),this.e=parseInt(c,16),this.d=xe(u,16),this.p=xe(l,16),this.q=xe(p,16),this.dmp1=xe(h,16),this.dmq1=xe(m,16),this.coeff=xe(v,16)},Se.prototype.generate=function xf(s,c){var u=new ge,l=s>>1;this.e=parseInt(c,16);for(var p=new z(c,16),h=s/2-100,m=z.ONE.shiftLeft(h);;){for(;this.p=new z(s-l,1,u),0!=this.p.subtract(z.ONE).gcd(p).compareTo(z.ONE)||!this.p.isProbablePrime(10););for(;this.q=new z(l,1,u),0!=this.q.subtract(z.ONE).gcd(p).compareTo(z.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var v=this.p;this.p=this.q,this.q=v}var S=this.q.subtract(this.p).abs();if(!(S.bitLength()<h||S.compareTo(m)<=0)){var b=this.p.subtract(z.ONE),T=this.q.subtract(z.ONE),F=b.multiply(T);if(0==F.gcd(p).compareTo(z.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==s)){this.d=p.modInverse(F),this.dmp1=this.d.mod(b),this.dmq1=this.d.mod(T),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},mt.prototype.equals=function Ng(s){return s==this||this.q.equals(s.q)&&this.x.equals(s.x)},mt.prototype.toBigInteger=function an(){return this.x},mt.prototype.negate=function Ee(){return new mt(this.q,this.x.negate().mod(this.q))},mt.prototype.add=function Pg(s){return new mt(this.q,this.x.add(s.toBigInteger()).mod(this.q))},mt.prototype.subtract=function Og(s){return new mt(this.q,this.x.subtract(s.toBigInteger()).mod(this.q))},mt.prototype.multiply=function kg(s){return new mt(this.q,this.x.multiply(s.toBigInteger()).mod(this.q))},mt.prototype.square=function pe(){return new mt(this.q,this.x.square().mod(this.q))},mt.prototype.divide=function Lg(s){return new mt(this.q,this.x.multiply(s.toBigInteger().modInverse(this.q)).mod(this.q))},mt.prototype.sqrt=function(){return new mt(this.q,this.x.sqrt().mod(this.q))},Fe.prototype.getX=function ji(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Fe.prototype.getY=function If(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Fe.prototype.equals=function fu(s){return s==this||(this.isInfinity()?s.isInfinity():s.isInfinity()?this.isInfinity():!!s.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(s.z)).mod(this.curve.q).equals(z.ZERO)&&s.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(s.z)).mod(this.curve.q).equals(z.ZERO))},Fe.prototype.isInfinity=function Af(){return null==this.x&&null==this.y||this.z.equals(z.ZERO)&&!this.y.toBigInteger().equals(z.ZERO)},Fe.prototype.negate=function Bi(){return new Fe(this.curve,this.x,this.y.negate(),this.z)},Fe.prototype.add=function Hi(s){if(this.isInfinity())return s;if(s.isInfinity())return this;var c=s.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(s.z)).mod(this.curve.q),u=s.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(s.z)).mod(this.curve.q);if(z.ZERO.equals(u))return z.ZERO.equals(c)?this.twice():this.curve.getInfinity();var l=new z("3"),p=this.x.toBigInteger(),h=this.y.toBigInteger(),S=(s.x.toBigInteger(),s.y.toBigInteger(),u.square()),b=S.multiply(u),T=p.multiply(S),F=c.square().multiply(this.z),E=F.subtract(T.shiftLeft(1)).multiply(s.z).subtract(b).multiply(u).mod(this.curve.q),w=T.multiply(l).multiply(c).subtract(h.multiply(b)).subtract(F.multiply(c)).multiply(s.z).add(c.multiply(b)).mod(this.curve.q),x=b.multiply(this.z).multiply(s.z).mod(this.curve.q);return new Fe(this.curve,this.curve.fromBigInteger(E),this.curve.fromBigInteger(w),x)},Fe.prototype.twice=function So(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var s=new z("3"),c=this.x.toBigInteger(),u=this.y.toBigInteger(),l=u.multiply(this.z),p=l.multiply(u).mod(this.curve.q),h=this.curve.a.toBigInteger(),m=c.square().multiply(s);z.ZERO.equals(h)||(m=m.add(this.z.square().multiply(h)));var v=(m=m.mod(this.curve.q)).square().subtract(c.shiftLeft(3).multiply(p)).shiftLeft(1).multiply(l).mod(this.curve.q),S=m.multiply(s).multiply(c).subtract(p.shiftLeft(1)).shiftLeft(2).multiply(p).subtract(m.square().multiply(m)).mod(this.curve.q),b=l.square().multiply(l).shiftLeft(3).mod(this.curve.q);return new Fe(this.curve,this.curve.fromBigInteger(v),this.curve.fromBigInteger(S),b)},Fe.prototype.multiply=function du(s){if(this.isInfinity())return this;if(0==s.signum())return this.curve.getInfinity();var b,c=s,u=c.multiply(new z("3")),l=this.negate(),p=this,h=this.curve.q.subtract(s),m=h.multiply(new z("3")),v=new Fe(this.curve,this.x,this.y),S=v.negate();for(b=u.bitLength()-2;b>0;--b){p=p.twice();var T=u.testBit(b);T!=c.testBit(b)&&(p=p.add(T?this:l))}for(b=m.bitLength()-2;b>0;--b){v=v.twice();var E=m.testBit(b);E!=h.testBit(b)&&(v=v.add(E?v:S))}return p},Fe.prototype.multiplyTwo=function Tf(s,c,u){var l;l=s.bitLength()>u.bitLength()?s.bitLength()-1:u.bitLength()-1;for(var p=this.curve.getInfinity(),h=this.add(c);l>=0;)p=p.twice(),s.testBit(l)?p=u.testBit(l)?p.add(h):p.add(this):u.testBit(l)&&(p=p.add(c)),--l;return p},Ce.prototype.getQ=function bo(){return this.q},Ce.prototype.getA=function hu(){return this.a},Ce.prototype.getB=function jt(){return this.b},Ce.prototype.equals=function pu(s){return s==this||this.q.equals(s.q)&&this.a.equals(s.a)&&this.b.equals(s.b)},Ce.prototype.getInfinity=function jg(){return this.infinity},Ce.prototype.fromBigInteger=function Ye(s){return new mt(this.q,s)},Ce.prototype.decodePointHex=function Bg(s){switch(parseInt(s.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var c=s.substr(0,2),l=(s.substr(2),this.fromBigInteger(new z(b,16))),p=this.getA(),h=this.getB(),v=l.square().add(p).multiply(l).add(h).sqrt();return"03"==c&&(v=v.negate()),new Fe(this,l,v);case 4:case 6:case 7:var S=(s.length-2)/2,b=s.substr(2,S),T=s.substr(S+2,S);return new Fe(this,this.fromBigInteger(new z(b,16)),this.fromBigInteger(new z(T,16)));default:return null}},mt.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Fe.prototype.getEncoded=function(s){var c=function(h,m){var v=h.toByteArrayUnsigned();if(m<v.length)v=v.slice(v.length-m);else for(;m>v.length;)v.unshift(0);return v},u=this.getX().toBigInteger(),l=this.getY().toBigInteger(),p=c(u,32);return s?l.isEven()?p.unshift(2):p.unshift(3):(p.unshift(4),p=p.concat(c(l,32))),p},Fe.decodeFrom=function(s,c){var l=c.length-1,p=c.slice(1,1+l/2),h=c.slice(1+l/2,1+l);p.unshift(0),h.unshift(0);var m=new z(p),v=new z(h);return new Fe(s,s.fromBigInteger(m),s.fromBigInteger(v))},Fe.decodeFromHex=function(s,c){c.substr(0,2);var l=c.length-2,p=c.substr(2,l/2),h=c.substr(2+l/2,l/2),m=new z(p,16),v=new z(h,16);return new Fe(s,s.fromBigInteger(m),s.fromBigInteger(v))},Fe.prototype.add2D=function(s){if(this.isInfinity())return s;if(s.isInfinity())return this;if(this.x.equals(s.x))return this.y.equals(s.y)?this.twice():this.curve.getInfinity();var c=s.x.subtract(this.x),l=s.y.subtract(this.y).divide(c),p=l.square().subtract(this.x).subtract(s.x),h=l.multiply(this.x.subtract(p)).subtract(this.y);return new Fe(this.curve,p,h)},Fe.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var s=this.curve.fromBigInteger(z.valueOf(2)),c=this.curve.fromBigInteger(z.valueOf(3)),u=this.x.square().multiply(c).add(this.curve.a).divide(this.y.multiply(s)),l=u.square().subtract(this.x.multiply(s)),p=u.multiply(this.x.subtract(l)).subtract(this.y);return new Fe(this.curve,l,p)},Fe.prototype.multiply2D=function(s){if(this.isInfinity())return this;if(0==s.signum())return this.curve.getInfinity();var h,c=s,u=c.multiply(new z("3")),l=this.negate(),p=this;for(h=u.bitLength()-2;h>0;--h){p=p.twice();var m=u.testBit(h);m!=c.testBit(h)&&(p=p.add2D(m?this:l))}return p},Fe.prototype.isOnCurve=function(){var s=this.getX().toBigInteger(),c=this.getY().toBigInteger(),u=this.curve.getA().toBigInteger(),l=this.curve.getB().toBigInteger(),p=this.curve.getQ(),h=c.multiply(c).mod(p),m=s.multiply(s).multiply(s).add(u.multiply(s)).add(l).mod(p);return h.equals(m)},Fe.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Fe.prototype.validate=function(){var s=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var c=this.getX().toBigInteger(),u=this.getY().toBigInteger();if(c.compareTo(z.ONE)<0||c.compareTo(s.subtract(z.ONE))>0)throw new Error("x coordinate out of bounds");if(u.compareTo(z.ONE)<0||u.compareTo(s.subtract(z.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(s).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var Ff=function(){var l=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),p=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),h={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function m(F,E,w){return E?h[E]:String.fromCharCode(parseInt(w,16))}var v=new String(""),T=Object.hasOwnProperty;return function(F,E){var x,w=F.match(l),y=w[0],I=!1;"{"===y?x={}:"["===y?x=[]:(x=[],I=!0);for(var C,R=[x],P=1-I,L=w.length;P<L;++P){var O;switch((y=w[P]).charCodeAt(0)){default:(O=R[0])[C||O.length]=+y,C=void 0;break;case 34:if(-1!==(y=y.substring(1,y.length-1)).indexOf("\\")&&(y=y.replace(p,m)),O=R[0],!C){if(!(O instanceof Array)){C=y||v;break}C=O.length}O[C]=y,C=void 0;break;case 91:R.unshift((O=R[0])[C||O.length]=[]),C=void 0;break;case 93:case 125:R.shift();break;case 102:(O=R[0])[C||O.length]=!1,C=void 0;break;case 110:(O=R[0])[C||O.length]=null,C=void 0;break;case 116:(O=R[0])[C||O.length]=!0,C=void 0;break;case 123:R.unshift((O=R[0])[C||O.length]={}),C=void 0}}if(I){if(1!==R.length)throw new Error;x=x[0]}else if(R.length)throw new Error;if(E){var G=function(Z,_){var M=Z[_];if(M&&"object"==typeof M){var k=null;for(var j in M)if(T.call(M,j)&&M!==Z){var U=G(M,j);void 0!==U?M[j]=U:(k||(k=[]),k.push(j))}if(k)for(var q=k.length;--q>=0;)delete M[k[q]]}return E.call(Z,_,M)};x=G({"":x},"")}return x}}();(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),g.asn1.ASN1Util=new function(){this.integerToByteHex=function(s){var c=s.toString(16);return c.length%2==1&&(c="0"+c),c},this.bigIntToMinTwosComplementsHex=function(s){return Br(s)},this.getPEMStringFromHex=function(s,c){return Ft(s,c)},this.newObject=function(s){var u=g.asn1,l=u.ASN1Object,p=u.DERBoolean,h=u.DERInteger,m=u.DERBitString,v=u.DEROctetString,S=u.DERNull,b=u.DERObjectIdentifier,T=u.DEREnumerated,F=u.DERUTF8String,E=u.DERNumericString,w=u.DERPrintableString,x=u.DERTeletexString,y=u.DERIA5String,I=u.DERUTCTime,C=u.DERGeneralizedTime,R=u.DERVisibleString,P=u.DERBMPString,L=u.DERSequence,O=u.DERSet,G=u.DERTaggedObject,Z=u.ASN1Util.newObject;if(s instanceof u.ASN1Object)return s;var _=Object.keys(s);if(1!=_.length)throw new Error("key of param shall be only one.");var M=_[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+M+":"))throw new Error("undefined key: "+M);if("bool"==M)return new p(s[M]);if("int"==M)return new h(s[M]);if("bitstr"==M)return new m(s[M]);if("octstr"==M)return new v(s[M]);if("null"==M)return new S(s[M]);if("oid"==M)return new b(s[M]);if("enum"==M)return new T(s[M]);if("utf8str"==M)return new F(s[M]);if("numstr"==M)return new E(s[M]);if("prnstr"==M)return new w(s[M]);if("telstr"==M)return new x(s[M]);if("ia5str"==M)return new y(s[M]);if("utctime"==M)return new I(s[M]);if("gentime"==M)return new C(s[M]);if("visstr"==M)return new R(s[M]);if("bmpstr"==M)return new P(s[M]);if("asn1"==M)return new l(s[M]);if("seq"==M){for(var k=s[M],j=[],U=0;U<k.length;U++){var q=Z(k[U]);j.push(q)}return new L({array:j})}if("set"==M){for(k=s[M],j=[],U=0;U<k.length;U++)q=Z(k[U]),j.push(q);return new O({array:j})}if("tag"==M){var V=s[M];if("[object Array]"===Object.prototype.toString.call(V)&&3==V.length){var $=Z(V[2]);return new G({tag:V[0],explicit:V[1],obj:$})}return new G(V)}},this.jsonToASN1HEX=function(s){return this.newObject(s).tohex()}},g.asn1.ASN1Util.oidHexToInt=function(s){for(var p="",c=parseInt(s.substr(0,2),16),h=(p=Math.floor(c/40)+"."+c%40,""),m=2;m<s.length;m+=2){var S=("00000000"+parseInt(s.substr(m,2),16).toString(2)).slice(-8);h+=S.substr(1,7),"0"==S.substr(0,1)&&(p=p+"."+new z(h,2).toString(10),h="")}return p},g.asn1.ASN1Util.oidIntToHex=function(s){var c=function(v){var S=v.toString(16);return 1==S.length&&(S="0"+S),S},u=function(v){var S="",T=new z(v,10).toString(2),F=7-T.length%7;7==F&&(F=0);for(var E="",w=0;w<F;w++)E+="0";for(T=E+T,w=0;w<T.length-1;w+=7){var x=T.substr(w,7);w!=T.length-7&&(x="1"+x),S+=c(parseInt(x,2))}return S};if(!s.match(/^[0-9.]+$/))throw"malformed oid string: "+s;var l="",p=s.split("."),h=40*parseInt(p[0])+parseInt(p[1]);l+=c(h),p.splice(0,2);for(var m=0;m<p.length;m++)l+=u(p[m]);return l},g.asn1.ASN1Object=function(s){this.params=null,this.getLengthHexFromValue=function(){if(typeof this.hV>"u"||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var m=this.hV.length/2,v=m.toString(16);if(v.length%2==1&&(v="0"+v),m<128)return v;var S=v.length/2;if(S>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+m.toString(16));return(128+S).toString(16)+v},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(m){this.params=m},null!=s&&null!=s.tlv&&(this.hTLV=s.tlv,this.isModified=!1)},g.asn1.DERAbstractString=function(s){g.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(l){this.hTLV=null,this.isModified=!0,this.s=l,this.hV=Lr(this.s).toLowerCase()},this.setStringHex=function(l){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=l},this.getFreshValueHex=function(){return this.hV},typeof s<"u"&&("string"==typeof s?this.setString(s):typeof s.str<"u"?this.setString(s.str):typeof s.hex<"u"&&this.setStringHex(s.hex))},ee(g.asn1.DERAbstractString,g.asn1.ASN1Object),g.asn1.DERAbstractTime=function(s){g.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(l){var p=l.getTime()+6e4*l.getTimezoneOffset();return new Date(p)},this.formatDate=function(l,p,h){var m=this.zeroPadding,v=this.localDateToUTC(l),S=String(v.getFullYear());"utc"==p&&(S=S.substr(2,2));var x=S+m(String(v.getMonth()+1),2)+m(String(v.getDate()),2)+m(String(v.getHours()),2)+m(String(v.getMinutes()),2)+m(String(v.getSeconds()),2);if(!0===h){var y=v.getMilliseconds();if(0!=y){var I=m(String(y),3);x=x+"."+(I=I.replace(/[0]+$/,""))}}return x+"Z"},this.zeroPadding=function(l,p){return l.length>=p?l:new Array(p-l.length+1).join("0")+l},this.setByParam=function(l){this.hV=null,this.hTLV=null,this.params=l},this.getString=function(){},this.setString=function(l){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=l},this.setByDate=function(l){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=l},this.setByDateValue=function(l,p,h,m,v,S){var b=new Date(Date.UTC(l,p-1,h,m,v,S,0));this.setByDate(b)},this.getFreshValueHex=function(){return this.hV}},ee(g.asn1.DERAbstractTime,g.asn1.ASN1Object),g.asn1.DERAbstractStructured=function(s){g.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(u){this.hTLV=null,this.isModified=!0,this.asn1Array=u},this.appendASN1Object=function(u){this.hTLV=null,this.isModified=!0,this.asn1Array.push(u)},this.asn1Array=new Array,typeof s<"u"&&typeof s.array<"u"&&(this.asn1Array=s.array)},ee(g.asn1.DERAbstractStructured,g.asn1.ASN1Object),g.asn1.DERBoolean=function(s){g.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==s?"010100":"0101ff"},ee(g.asn1.DERBoolean,g.asn1.ASN1Object),g.asn1.DERInteger=function(s){g.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.params=null;var c=Br;this.setByBigInteger=function(u){this.isModified=!0,this.params={bigint:u}},this.setByInteger=function(u){this.isModified=!0,this.params=u},this.setValueHex=function(u){this.isModified=!0,this.params={hex:u}},this.getFreshValueHex=function(){var u=this.params,l=null;if(null==u)throw new Error("value not set");if("object"==typeof u&&null!=u.hex)return this.hV=u.hex,this.hV;if("number"==typeof u)l=new z(String(u),10);else if(null!=u.int)l=new z(String(u.int),10);else{if(null==u.bigint)throw new Error("wrong parameter");l=u.bigint}return this.hV=c(l),this.hV},null!=s&&(this.params=s)},ee(g.asn1.DERInteger,g.asn1.ASN1Object),g.asn1.DERBitString=function(s){if(void 0!==s&&typeof s.obj<"u"){var c=g.asn1.ASN1Util.newObject(s.obj);s.hex="00"+c.tohex()}g.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(u){this.hTLV=null,this.isModified=!0,this.hV=u},this.setUnusedBitsAndHexValue=function(u,l){if(u<0||7<u)throw"unused bits shall be from 0 to 7: u = "+u;var p="0"+u;this.hTLV=null,this.isModified=!0,this.hV=p+l},this.setByBinaryString=function(u){var l=8-(u=u.replace(/0+$/,"")).length%8;8==l&&(l=0),u+="0000000".substr(0,l);for(var p="",h=0;h<u.length-1;h+=8){var m=u.substr(h,8),v=parseInt(m,2).toString(16);1==v.length&&(v="0"+v),p+=v}this.hTLV=null,this.isModified=!0,this.hV="0"+l+p},this.setByBooleanArray=function(u){for(var l="",p=0;p<u.length;p++)l+=1==u[p]?"1":"0";this.setByBinaryString(l)},this.newFalseArray=function(u){for(var l=new Array(u),p=0;p<u;p++)l[p]=!1;return l},this.getFreshValueHex=function(){return this.hV},typeof s<"u"&&("string"==typeof s&&s.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(s):typeof s.hex<"u"?this.setHexValueIncludingUnusedBits(s.hex):typeof s.bin<"u"?this.setByBinaryString(s.bin):typeof s.array<"u"&&this.setByBooleanArray(s.array))},ee(g.asn1.DERBitString,g.asn1.ASN1Object),g.asn1.DEROctetString=function(s){if(void 0!==s&&typeof s.obj<"u"){var c=g.asn1.ASN1Util.newObject(s.obj);s.hex=c.tohex()}g.asn1.DEROctetString.superclass.constructor.call(this,s),this.hT="04"},ee(g.asn1.DEROctetString,g.asn1.DERAbstractString),g.asn1.DERNull=function(){g.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},ee(g.asn1.DERNull,g.asn1.ASN1Object),g.asn1.DERObjectIdentifier=function(s){g.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(c){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=c},this.setValueOidString=function(c){var u=function Du(s){var c=function(v){var S=v.toString(16);return 1==S.length&&(S="0"+S),S},u=function(v){var S="",T=parseInt(v,10).toString(2),F=7-T.length%7;7==F&&(F=0);for(var E="",w=0;w<F;w++)E+="0";for(T=E+T,w=0;w<T.length-1;w+=7){var x=T.substr(w,7);w!=T.length-7&&(x="1"+x),S+=c(parseInt(x,2))}return S};try{if(!s.match(/^[0-9.]+$/))return null;var l="",p=s.split("."),h=40*parseInt(p[0],10)+parseInt(p[1],10);l+=c(h),p.splice(0,2);for(var m=0;m<p.length;m++)l+=u(p[m]);return l}catch{return null}}(c);if(null==u)throw new Error("malformed oid string: "+c);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=u},this.setValueName=function(c){var u=g.asn1.x509.OID.name2oid(c);if(""===u)throw new Error("DERObjectIdentifier oidName undefined: "+c);this.setValueOidString(u)},this.setValueNameOrOid=function(c){c.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(c):this.setValueName(c)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(c){"string"==typeof c?this.setValueNameOrOid(c):void 0!==c.oid?this.setValueNameOrOid(c.oid):void 0!==c.name?this.setValueNameOrOid(c.name):void 0!==c.hex&&this.setValueHex(c.hex)},void 0!==s&&this.setByParam(s)},ee(g.asn1.DERObjectIdentifier,g.asn1.ASN1Object),g.asn1.DEREnumerated=function(s){g.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(c){this.hTLV=null,this.isModified=!0,this.hV=Br(c)},this.setByInteger=function(c){var u=new z(String(c),10);this.setByBigInteger(u)},this.setValueHex=function(c){this.hV=c},this.getFreshValueHex=function(){return this.hV},typeof s<"u"&&(typeof s.int<"u"?this.setByInteger(s.int):"number"==typeof s?this.setByInteger(s):typeof s.hex<"u"&&this.setValueHex(s.hex))},ee(g.asn1.DEREnumerated,g.asn1.ASN1Object),g.asn1.DERUTF8String=function(s){g.asn1.DERUTF8String.superclass.constructor.call(this,s),this.hT="0c"},ee(g.asn1.DERUTF8String,g.asn1.DERAbstractString),g.asn1.DERNumericString=function(s){g.asn1.DERNumericString.superclass.constructor.call(this,s),this.hT="12"},ee(g.asn1.DERNumericString,g.asn1.DERAbstractString),g.asn1.DERPrintableString=function(s){g.asn1.DERPrintableString.superclass.constructor.call(this,s),this.hT="13"},ee(g.asn1.DERPrintableString,g.asn1.DERAbstractString),g.asn1.DERTeletexString=function(s){g.asn1.DERTeletexString.superclass.constructor.call(this,s),this.hT="14"},ee(g.asn1.DERTeletexString,g.asn1.DERAbstractString),g.asn1.DERIA5String=function(s){g.asn1.DERIA5String.superclass.constructor.call(this,s),this.hT="16"},ee(g.asn1.DERIA5String,g.asn1.DERAbstractString),g.asn1.DERVisibleString=function(s){g.asn1.DERIA5String.superclass.constructor.call(this,s),this.hT="1a"},ee(g.asn1.DERVisibleString,g.asn1.DERAbstractString),g.asn1.DERBMPString=function(s){g.asn1.DERBMPString.superclass.constructor.call(this,s),this.hT="1e"},ee(g.asn1.DERBMPString,g.asn1.DERAbstractString),g.asn1.DERUTCTime=function(s){g.asn1.DERUTCTime.superclass.constructor.call(this,s),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var c=this.params;if(null==this.params&&(c={date:new Date}),"string"==typeof c){if(!c.match(/^[0-9]{12}Z$/)&&!c.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+c);this.hV=Tt(c)}else null!=c.str?this.hV=Tt(c.str):null==c.date&&1==c.millis?this.hV=Tt(this.formatDate(new Date,"utc",!0)):null!=c.date&&c.date instanceof Date?this.hV=Tt(this.formatDate(c.date,"utc",!0===c.millis)):c instanceof Date&&(this.hV=Tt(this.formatDate(c,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=s&&this.setByParam(s)},ee(g.asn1.DERUTCTime,g.asn1.DERAbstractTime),g.asn1.DERGeneralizedTime=function(s){g.asn1.DERGeneralizedTime.superclass.constructor.call(this,s),this.hT="18",this.params=s,this.getFreshValueHex=function(){var c=this.params;if(null==this.params&&(c={date:new Date}),"string"==typeof c){if(!c.match(/^[0-9]{14}Z$/)&&!c.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+c);this.hV=Tt(c)}else null!=c.str?this.hV=Tt(c.str):null==c.date&&1==c.millis?this.hV=Tt(this.formatDate(new Date,"gen",!0)):null!=c.date&&c.date instanceof Date?this.hV=Tt(this.formatDate(c.date,"gen",!0===c.millis)):c instanceof Date&&(this.hV=Tt(this.formatDate(c,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=s&&this.setByParam(s)},ee(g.asn1.DERGeneralizedTime,g.asn1.DERAbstractTime),g.asn1.DERSequence=function(s){g.asn1.DERSequence.superclass.constructor.call(this,s),this.hT="30",this.getFreshValueHex=function(){for(var c="",u=0;u<this.asn1Array.length;u++)c+=this.asn1Array[u].tohex();return this.hV=c,this.hV}},ee(g.asn1.DERSequence,g.asn1.DERAbstractStructured),g.asn1.DERSet=function(s){g.asn1.DERSet.superclass.constructor.call(this,s),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var c=new Array,u=0;u<this.asn1Array.length;u++)c.push(this.asn1Array[u].tohex());return 1==this.sortFlag&&c.sort(),this.hV=c.join(""),this.hV},typeof s<"u"&&typeof s.sortflag<"u"&&0==s.sortflag&&(this.sortFlag=!1)},ee(g.asn1.DERSet,g.asn1.DERAbstractStructured),g.asn1.DERTaggedObject=function(s){g.asn1.DERTaggedObject.superclass.constructor.call(this);var c=g.asn1,l=J.getV,h=c.ASN1Util.newObject;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(m,v,S){this.params={tag:v,explicit:m,obj:S}},this.getFreshValueHex=function(){var m=this.params;if(null==m.explicit&&(m.explicit=!0),null!=m.tage&&(m.tag=m.tage,m.explicit=!0),null!=m.tagi&&(m.tag=m.tagi,m.explicit=!1),null!=m.str)this.hV=Lr(m.str);else if(null!=m.hex)this.hV=m.hex;else{if(null==m.obj)throw new Error("str, hex nor obj not specified");var v;m.obj instanceof c.ASN1Object?v=m.obj.tohex():"object"==typeof m.obj&&(v=h(m.obj).tohex()),this.hV=m.explicit?v:l(v,0)}return null==m.tag&&(m.tag="a0"),this.hT=m.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(m){this.params=m},void 0!==s&&this.setByParam(s)},ee(g.asn1.DERTaggedObject,g.asn1.ASN1Object);var g,Jn,pn,J=new function(){};function Ui(s){for(var c="",u=0;u<s.length;u++){var l=s[u].toString(16);1==l.length&&(l="0"+l),c+=l}return c}function Tt(s){return Ui(function Co(s){for(var c=new Array,u=0;u<s.length;u++)c[u]=s.charCodeAt(u);return c}(s))}function si(s){return(s=(s=s.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function $i(s){return s.length%4==2?s+="==":s.length%4==3&&(s+="="),(s=s.replace(/-/g,"+")).replace(/_/g,"/")}function ot(s){return s.length%2==1&&(s="0"+s),si(bn(s))}function We(s){return nn($i(s))}function Lr(s){return Qn(Zi(s)).toLowerCase()}function Oe(s){try{return decodeURIComponent(oi(s))}catch{return null}}function Mf(s){return Oe(function Nf(s){for(var c=s.match(/.{1,2}/g),u=[],l=0;l<c.length;l++){var p=parseInt(c[l],16);161<=p&&p<=191?(u.push("c2"),u.push(c[l])):192<=p&&p<=255?(u.push("c3"),u.push((p-64).toString(16))):u.push(c[l])}return u.join("")}(s))}function Ct(s){for(var c="",u=0;u<s.length-1;u+=2)c+=String.fromCharCode(parseInt(s.substr(u,2),16));return c}function ae(s){for(var c="",u=0;u<s.length;u++)c+=("0"+s.charCodeAt(u).toString(16)).slice(-2);return c}function Ft(s,c){return"-----BEGIN "+c+"-----\r\n"+function Yn(s,c){return(s=s.replace(new RegExp("(.{"+c+"})","g"),"$1\r\n")).replace(/\s+$/,"")}(function jr(s){return bn(s)}(s),64)+"\r\n-----END "+c+"-----\r\n"}function Ve(s,c){if(-1==s.indexOf("-----BEGIN "))throw new Error("can't find PEM header");return function mu(s){return nn(s.replace(/[^0-9A-Za-z\/+=]*/g,""))}(s=void 0!==c?(s=s.replace(new RegExp("^[^]*-----BEGIN "+c+"-----"),"")).replace(new RegExp("-----END "+c+"-----[^]*$"),""):(s=s.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ki(s){return Math.round(function Le(s){var c,u,l,p,h,m,v,T,F,E;if(E=(s=function In(s){return s.match(/^[0-9]{12}Z$/)||s.match(/^[0-9]{12}[.][0-9]*Z$/)?s.match(/^[0-4]/)?"20"+s:"19"+s:s}(s)).match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return c=parseInt(E[1]),u=parseInt(E[2])-1,l=parseInt(E[3]),p=parseInt(E[4]),h=parseInt(E[5]),m=parseInt(E[6]),v=0,""!==(T=E[7])&&(F=(T.substr(1)+"00").substr(0,3),v=parseInt(F)),Date.UTC(c,u,l,p,h,m,v);throw new Error("unsupported zulu format: "+s)}(s)/1e3)}function Qn(s){return s.replace(/%/g,"")}function oi(s){return s.replace(/(..)/g,"%$1")}function Gi(s){var c="malformed IPv6 address";if(!s.match(/^[0-9A-Fa-f:]+$/))throw c;var u=(s=s.toLowerCase()).split(":").length-1;if(u<2)throw c;var l=":".repeat(7-u+2),p=(s=s.replace("::",l)).split(":");if(8!=p.length)throw c;for(var h=0;h<8;h++)p[h]=("0000"+p[h]).slice(-4);return p.join("")}function ai(s){if(!s.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+s);var c=(s=s.toLowerCase()).match(/.{1,4}/g);c=c.map(function(p){return p.replace(/^0+/,"")}),c=c.map(function(p){return""==p?"0":p});var u=(s=":"+c.join(":")+":").match(/:(0:){2,}/g);if(null==u)return s.slice(1,-1);var l=u.sort().slice(-1)[0];return"::"!=(s=s.replace(l.substr(0,l.length-1),":")).substr(0,2)&&(s=s.substr(1)),"::"!=s.substr(-2,2)&&(s=s.substr(0,s.length-1)),s}function ui(s){var c=new Error("malformed hex value");if(!s.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw c;if(8==s.length)try{return parseInt(s.substr(0,2),16)+"."+parseInt(s.substr(2,2),16)+"."+parseInt(s.substr(4,2),16)+"."+parseInt(s.substr(6,2),16)}catch{throw c}else{if(16!=s.length){if(32==s.length)return ai(s);if(64==s.length){try{return ai(s.substr(0,32))+"/"+Ao(s.substr(32))}catch{throw c}return}return s}try{return ui(s.substr(0,8))+"/"+Ao(s.substr(8))}catch{throw c}}}function Ao(s){var u,c=new Error("malformed mask");try{u=new z(s,16).toString(2)}catch{throw c}if(!u.match(/^1*0*$/))throw c;return u.replace(/0+$/,"").length}function mr(s){var c=new Error("malformed IP address");if(!(s=s.toLowerCase(s)).match(/^[0-9a-f.:/]+$/))throw c;if(!s.match(/^[0-9.]+$/)){var m;if(s.match(/^[0-9.]+\/[0-9]+$/))return mr((m=s.split("/"))[0])+To(parseInt(m[1]),32);if(s.match(/^[0-9a-f:]+$/)&&-1!==s.indexOf(":"))return Gi(s);if(s.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==s.indexOf(":"))return Gi((m=s.split("/"))[0])+To(parseInt(m[1]),128);throw c}var u=s.split(".");if(4!==u.length)throw c;var l="";try{for(var p=0;p<4;p++)l+=("0"+parseInt(u[p]).toString(16)).slice(-2);return l}catch{throw c}}function To(s,c){return 32==c&&0==s?"00000000":128==c&&0==s?"00000000000000000000000000000000":new z(Array(s+1).join("1")+Array(c-s+1).join("0"),2).toString(16)}function Wi(s){var l=s.match(/.{4}/g).map(function c(p){var h=parseInt(p.substr(0,2),16),m=parseInt(p.substr(2),16);if(0==h&m<128)return String.fromCharCode(m);if(h<8){var S=128|63&m;return Oe((192|(7&h)<<3|(192&m)>>6).toString(16)+S.toString(16))}S=128|(15&h)<<2|(192&m)>>6;var b=128|63&m;return Oe((224|(240&h)>>4).toString(16)+S.toString(16)+b.toString(16))});return l.join("")}function Zi(s){for(var c=encodeURIComponent(s),u="",l=0;l<c.length;l++)"%"==c[l]?(u+=c.substr(l,3),l+=2):u=u+"%"+Tt(c[l]);return u}function wu(s){return!(s.length%2!=0||!s.match(/^[0-9a-f]+$/)&&!s.match(/^[0-9A-F]+$/))}function Kt(s){return!!s.match(/^[0-9A-Za-z-_.]+$/)}function Fo(s){return s.length%2==1?"0"+s:s.substr(0,1)>"7"?"00"+s:s}function Xi(s){if(!wu(s))return null;try{var c=[],u=s.substr(0,2),l=parseInt(u,16);c[0]=new String(Math.floor(l/40)),c[1]=new String(l%40);for(var p=s.substr(2),h=[],m=0;m<p.length/2;m++)h.push(parseInt(p.substr(2*m,2),16));var v=[],S="";for(m=0;m<h.length;m++)128&h[m]?S+=Ji((127&h[m]).toString(2),7):(S+=Ji((127&h[m]).toString(2),7),v.push(new String(parseInt(S,2))),S="");var b=c.join(".");return v.length>0&&(b=b+"."+v.join(".")),b}catch{return null}}function Su(s){return Br(new z(String(s),10))}function Br(s){var c=s.toString(16);if("-"!=c.substr(0,1))return c.length%2==1?c="0"+c:c.match(/^[0-7]/)||(c="00"+c),c;var l=c.substr(1).length;l%2==1?l+=1:c.match(/^[0-7]/)||(l+=2);for(var p="",h=0;h<l;h++)p+="f";return new z(p,16).xor(s).add(z.ONE).toString(16).replace(/^-/,"")}J.getLblen=function(s,c){if("8"!=s.substr(c+2,1))return 1;var u=parseInt(s.substr(c+3,1));return 0==u?-1:0<u&&u<10?u+1:-2},J.getL=function(s,c){var u=J.getLblen(s,c);return u<1?"":s.substr(c+2,2*u)},J.getVblen=function(s,c){var u;return""==(u=J.getL(s,c))?-1:("8"===u.substr(0,1)?new z(u.substr(2),16):new z(u,16)).intValue()},J.getVidx=function(s,c){var u=J.getLblen(s,c);return u<0?u:c+2*(u+1)},J.getV=function(s,c){var u=J.getVidx(s,c),l=J.getVblen(s,c);return s.substr(u,2*l)},J.getTLV=function(s,c){return s.substr(c,2)+J.getL(s,c)+J.getV(s,c)},J.getTLVblen=function(s,c){return 2+2*J.getLblen(s,c)+2*J.getVblen(s,c)},J.getNextSiblingIdx=function(s,c){return J.getVidx(s,c)+2*J.getVblen(s,c)},J.getChildIdx=function(s,c){var p,h,m,u=J,l=[];p=u.getVidx(s,c),h=2*u.getVblen(s,c),"03"==s.substr(c,2)&&(p+=2,h-=2),m=0;for(var v=p;m<=h;){var S=u.getTLVblen(s,v);if((m+=S)<=h&&l.push(v),v+=S,m>=h)break}return l},J.getNthChildIdx=function(s,c,u){return J.getChildIdx(s,c)[u]},J.getIdxbyList=function(s,c,u,l){var h,m,p=J;return 0==u.length?void 0!==l&&s.substr(c,2)!==l?-1:c:(h=u.shift())>=(m=p.getChildIdx(s,c)).length?-1:p.getIdxbyList(s,m[h],u,l)},J.getIdxbyListEx=function(s,c,u,l){var h,m,p=J;if(0==u.length)return void 0!==l&&s.substr(c,2)!==l?-1:c;h=u.shift(),m=p.getChildIdx(s,c);for(var v=0,S=0;S<m.length;S++){var b=s.substr(m[S],2);if("number"==typeof h&&!p.isContextTag(b)&&v==h||"string"==typeof h&&p.isContextTag(b,h))return p.getIdxbyListEx(s,m[S],u,l);p.isContextTag(b)||v++}return-1},J.getTLVbyList=function(s,c,u,l){var p=J,h=p.getIdxbyList(s,c,u,l);return-1==h||h>=s.length?null:p.getTLV(s,h)},J.getTLVbyListEx=function(s,c,u,l){var p=J,h=p.getIdxbyListEx(s,c,u,l);return-1==h?null:p.getTLV(s,h)},J.getVbyList=function(s,c,u,l,p){var m,v,h=J;return-1==(m=h.getIdxbyList(s,c,u,l))||m>=s.length?null:(v=h.getV(s,m),!0===p&&(v=v.substr(2)),v)},J.getVbyListEx=function(s,c,u,l,p){var m,S,h=J;return-1==(m=h.getIdxbyListEx(s,c,u,l))?null:(S=h.getV(s,m),"03"==s.substr(m,2)&&!1!==p&&(S=S.substr(2)),S)},J.getInt=function(s,c,u){null==u&&(u=-1);try{var l=s.substr(c,2);if("02"!=l&&"03"!=l)return u;var p=J.getV(s,c);return"02"==l?parseInt(p,16):function bu(s){if(s.length%2!=0||null==(s=s.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var c=s.substr(0,2);if("00"==c)return parseInt(s.substr(2),16);var u=parseInt(c,16);if(u>7)return-1;var l=s.substr(2),p=parseInt(l,16).toString(2);"0"==p&&(p="00000000"),p=p.slice(0,0-u);var h=parseInt(p,2);return NaN==h?-1:h}catch{return-1}}(p)}catch{return u}},J.getOID=function(s,c,u){null==u&&(u=null);try{return"06"!=s.substr(c,2)?u:Xi(J.getV(s,c))}catch{return u}},J.getOIDName=function(s,c,u){null==u&&(u=null);try{var l=J.getOID(s,c,u);if(l==u)return u;var p=g.asn1.x509.OID.oid2name(l);return""==p?l:p}catch{return u}},J.getString=function(s,c,u){null==u&&(u=null);try{return Ct(J.getV(s,c))}catch{return u}},J.hextooidstr=function(s){var c=function(F,E){return F.length>=E?F:new Array(E-F.length+1).join("0")+F},u=[],l=s.substr(0,2),p=parseInt(l,16);u[0]=new String(Math.floor(p/40)),u[1]=new String(p%40);for(var h=s.substr(2),m=[],v=0;v<h.length/2;v++)m.push(parseInt(h.substr(2*v,2),16));var S=[],b="";for(v=0;v<m.length;v++)128&m[v]?b+=c((127&m[v]).toString(2),7):(b+=c((127&m[v]).toString(2),7),S.push(new String(parseInt(b,2))),b="");var T=u.join(".");return S.length>0&&(T=T+"."+S.join(".")),T},J.dump=function(s,c,u,l){var p=J,h=p.getV,m=p.dump,v=p.getChildIdx,S=s;s instanceof g.asn1.ASN1Object&&(S=s.tohex());var b=function(Z,_){return Z.length<=2*_?Z:Z.substr(0,_)+"..(total "+Z.length/2+"bytes).."+Z.substr(Z.length-_,_)};void 0===c&&(c={ommit_long_octet:32}),void 0===u&&(u=0),void 0===l&&(l="");var O,T=c.ommit_long_octet;if("01"==(O=S.substr(u,2)))return"00"==(F=h(S,u))?l+"BOOLEAN FALSE\n":l+"BOOLEAN TRUE\n";if("02"==O)return l+"INTEGER "+b(F=h(S,u),T)+"\n";if("03"==O){var F=h(S,u);return p.isASN1HEX(F.substr(2))?(E=l+"BITSTRING, encapsulates\n")+m(F.substr(2),c,0,l+"  "):l+"BITSTRING "+b(F,T)+"\n"}if("04"==O)return F=h(S,u),p.isASN1HEX(F)?(E=l+"OCTETSTRING, encapsulates\n")+m(F,c,0,l+"  "):l+"OCTETSTRING "+b(F,T)+"\n";if("05"==O)return l+"NULL\n";if("06"==O){var w=h(S,u),x=g.asn1.ASN1Util.oidHexToInt(w),y=g.asn1.x509.OID.oid2name(x),I=x.replace(/\./g," ");return""!=y?l+"ObjectIdentifier "+y+" ("+I+")\n":l+"ObjectIdentifier ("+I+")\n"}if("0a"==O)return l+"ENUMERATED "+parseInt(h(S,u))+"\n";if("0c"==O)return l+"UTF8String '"+Oe(h(S,u))+"'\n";if("13"==O)return l+"PrintableString '"+Oe(h(S,u))+"'\n";if("14"==O)return l+"TeletexString '"+Oe(h(S,u))+"'\n";if("16"==O)return l+"IA5String '"+Oe(h(S,u))+"'\n";if("17"==O)return l+"UTCTime "+Oe(h(S,u))+"\n";if("18"==O)return l+"GeneralizedTime "+Oe(h(S,u))+"\n";if("1a"==O)return l+"VisualString '"+Oe(h(S,u))+"'\n";if("1e"==O)return l+"BMPString '"+Wi(h(S,u))+"'\n";if("30"==O){if("3000"==S.substr(u,4))return l+"SEQUENCE {}\n";E=l+"SEQUENCE\n";var R=c;if((2==(C=v(S,u)).length||3==C.length)&&"06"==S.substr(C[0],2)&&"04"==S.substr(C[C.length-1],2)){y=p.oidname(h(S,C[0]));var P=JSON.parse(JSON.stringify(c));P.x509ExtName=y,R=P}for(var L=0;L<C.length;L++)E+=m(S,R,C[L],l+"  ");return E}if("31"==O){E=l+"SET\n";var C=v(S,u);for(L=0;L<C.length;L++)E+=m(S,c,C[L],l+"  ");return E}if(128&(O=parseInt(O,16))){var E,G=31&O;if(32&O){for(E=l+"["+G+"]\n",C=v(S,u),L=0;L<C.length;L++)E+=m(S,c,C[L],l+"  ");return E}return F=h(S,u),J.isASN1HEX(F)?(E=l+"["+G+"]\n")+m(F,c,0,l+"  "):(("68747470"==F.substr(0,8)||"subjectAltName"===c.x509ExtName&&2==G)&&(F=Oe(F)),l+"["+G+"] "+F+"\n")}return l+"UNKNOWN("+O+") "+h(S,u)+"\n"},J.parse=function(s){var u=J.parse,l=J.isASN1HEX,p=J.getV,h=J.getTLV,m=J.getChildIdx,v=g.asn1,S=v.ASN1Util.oidHexToInt,b=v.x509.OID.oid2name,T=Oe,F=Wi,E=Mf,w={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},y=s.substr(0,2),I={},C=p(s,0);if("01"==y)return"0101ff"==s?{bool:!0}:{bool:!1};if("02"==y)return{int:{hex:C}};if("03"==y)try{if("00"!=C.substr(0,2))throw"not encap";var R=C.substr(2);if(!l(R))throw"not encap";return{bitstr:{obj:u(R)}}}catch{var P=null;return C.length<=10&&(P=function ci(s){if("string"!=typeof s||s.length%2!=0||!s.match(/^[0-9a-f]+$/))return null;try{var c=parseInt(s.substr(0,2),16);if(c<0||7<c)return null;for(var u=s.substr(2),l="",p=0;p<u.length;p+=2){var h=u.substr(p,2),m=parseInt(h,16).toString(2);l+=m=("0000000"+m).slice(-8)}return l.substr(0,l.length-c)}catch{return null}}(C)),null==P?{bitstr:{hex:C}}:{bitstr:{bin:P}}}else if("04"==y)try{if(!l(C))throw"not encap";return{octstr:{obj:u(C)}}}catch{return{octstr:{hex:C}}}else{if("05"==y)return{null:""};if("06"==y){var L=S(C),O=b(L);return""==O?{oid:L}:{oid:O}}if("0a"==y)return C.length>4?{enum:{hex:C}}:{enum:parseInt(C,16)};if("30"==y||"31"==y)return I[w[y]]=function(M){for(var k=[],j=m(M,0),U=0;U<j.length;U++){var V=h(M,j[U]),$=u(V);k.push($)}return k}(s),I;if("14"==y){var G=E(C);return I[w[y]]={str:G},I}if("1e"==y)return G=F(C),I[w[y]]={str:G},I;if(-1!=":0c:12:13:16:17:18:1a:".indexOf(y))return G=T(C),I[w[y]]={str:G},I;if(y.match(/^8[0-9]$/))return null==(G=T(C))|""==G||null!=G.match(/[\x00-\x1F\x7F-\x9F]/)||null!=G.match(/[\u0000-\u001F\u0080\u2013\u009F]/)?{tag:{tag:y,explicit:!1,hex:C}}:{tag:{tag:y,explicit:!1,str:G}};if(!y.match(/^a[0-9]$/)){var Z=new g.asn1.ASN1Object;return Z.hV=C,{asn1:{tlv:y+Z.getLengthHexFromValue()+C}}}try{if(!l(C))throw new Error("not encap");return{tag:{tag:y,explicit:!0,obj:u(C)}}}catch{return{tag:{tag:y,explicit:!0,hex:C}}}}},J.isContextTag=function(s,c){var u,l;s=s.toLowerCase();try{u=parseInt(s,16)}catch{return-1}if(void 0===c)return 128==(192&u);try{return!(null==c.match(/^\[[0-9]+\]$/)||(l=parseInt(c.substr(1,c.length-1),10),l>31))&&128==(192&u)&&(31&u)==l}catch{return!1}},J.isASN1HEX=function(s){var c=J;if(s.length%2==1)return!1;var u=c.getVblen(s,0),l=s.substr(0,2),p=c.getL(s,0);return s.length-l.length-p.length==2*u},J.checkStrictDER=function(s,c,u,l,p){var h=J;if(void 0===u){if("string"!=typeof s)throw new Error("not hex string");if(s=s.toLowerCase(),!g.lang.String.isHex(s))throw new Error("not hex string");u=s.length,p=(l=s.length/2)<128?1:Math.ceil(l.toString(16))+1}if(h.getL(s,c).length>2*p)throw new Error("L of TLV too long: idx="+c);var v=h.getVblen(s,c);if(v>l)throw new Error("value of L too long than hex: idx="+c);var S=h.getTLV(s,c),b=S.length-2-h.getL(s,c).length;if(b!==2*v)throw new Error("V string length and L's value not the same:"+b+"/"+2*v);if(0===c&&s.length!=S.length)throw new Error("total length and TLV length unmatch:"+s.length+"!="+S.length);var T=s.substr(c,2);if("02"===T){var F=h.getVidx(s,c);if("00"==s.substr(F,2)&&s.charCodeAt(F+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(T,16)){for(var E=h.getVblen(s,c),w=0,x=h.getChildIdx(s,c),y=0;y<x.length;y++)w+=h.getTLV(s,x[y]).length,h.checkStrictDER(s,x[y],u,l,p);if(2*E!=w)throw new Error("sum of children's TLV length and L unmatch: "+2*E+"!="+w)}},J.oidname=function(s){var c=g.asn1;g.lang.String.isHex(s)&&(s=c.ASN1Util.oidHexToInt(s));var u=c.x509.OID.oid2name(s);return""===u&&(u=s),u},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.x509>"u"||!g.asn1.x509)&&(g.asn1.x509={}),g.asn1.x509.Certificate=function(s){g.asn1.x509.Certificate.superclass.constructor.call(this);var u=g.asn1,l=u.DERBitString,p=u.DERSequence,h=u.x509,m=h.TBSCertificate,v=h.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(S){this.params=S},this.sign=function(){var S=this.params,b=S.sigalg;null!=S.sigalg.name&&(b=S.sigalg.name);var T=S.tbsobj.tohex(),F=new g.crypto.Signature({alg:b});F.init(S.cakey),F.updateHex(T),S.sighex=F.sign()},this.getPEM=function(){return Ft(this.tohex(),"CERTIFICATE")},this.tohex=function(){var S=this.params;if((null==S.tbsobj||null==S.tbsobj)&&(S.tbsobj=new m(S)),null==S.sighex&&null!=S.cakey&&this.sign(),null==S.sighex)throw new Error("sighex or cakey parameter not defined");var b=[];return b.push(S.tbsobj),b.push(new v({name:S.sigalg})),b.push(new l({hex:"00"+S.sighex})),new p({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&(this.params=s)},ee(g.asn1.x509.Certificate,g.asn1.ASN1Object),g.asn1.x509.TBSCertificate=function(s){g.asn1.x509.TBSCertificate.superclass.constructor.call(this);var u=g.asn1,l=u.x509,p=u.DERTaggedObject,h=u.DERInteger,m=u.DERSequence,v=l.AlgorithmIdentifier,S=l.Time,b=l.X500Name,T=l.Extensions,F=l.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(E){this.params=E},this.tohex=function(){var E=[],w=this.params;if(null!=w.version||1!=w.version){var x=2;null!=w.version&&(x=w.version-1);var y=new p({obj:new h({int:x})});E.push(y)}return E.push(new h(w.serial)),E.push(new v({name:w.sigalg})),E.push(new b(w.issuer)),E.push(new m({array:[new S(w.notbefore),new S(w.notafter)]})),E.push(new b(w.subject)),E.push(new F(Re.getKey(w.sbjpubkey))),void 0!==w.ext&&w.ext.length>0&&E.push(new p({tag:"a3",obj:new T(w.ext)})),new g.asn1.DERSequence({array:E}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.x509.TBSCertificate,g.asn1.ASN1Object),g.asn1.x509.Extensions=function(s){g.asn1.x509.Extensions.superclass.constructor.call(this);var u=g.asn1,l=u.DERSequence,p=u.x509;this.aParam=[],this.setByParam=function(h){this.aParam=h},this.tohex=function(){for(var h=[],m=0;m<this.aParam.length;m++){var v=this.aParam[m],S=v.extname,b=null;if(null!=v.extn)b=new p.PrivateExtension(v);else if("subjectKeyIdentifier"==S)b=new p.SubjectKeyIdentifier(v);else if("keyUsage"==S)b=new p.KeyUsage(v);else if("subjectAltName"==S)b=new p.SubjectAltName(v);else if("issuerAltName"==S)b=new p.IssuerAltName(v);else if("basicConstraints"==S)b=new p.BasicConstraints(v);else if("nameConstraints"==S)b=new p.NameConstraints(v);else if("cRLDistributionPoints"==S)b=new p.CRLDistributionPoints(v);else if("certificatePolicies"==S)b=new p.CertificatePolicies(v);else if("policyMappings"==S)b=new p.PolicyMappings(v);else if("policyConstraints"==S)b=new p.PolicyConstraints(v);else if("inhibitAnyPolicy"==S)b=new p.InhibitAnyPolicy(v);else if("authorityKeyIdentifier"==S)b=new p.AuthorityKeyIdentifier(v);else if("extKeyUsage"==S)b=new p.ExtKeyUsage(v);else if("authorityInfoAccess"==S)b=new p.AuthorityInfoAccess(v);else if("cRLNumber"==S)b=new p.CRLNumber(v);else if("cRLReason"==S)b=new p.CRLReason(v);else if("ocspNonce"==S)b=new p.OCSPNonce(v);else if("ocspNoCheck"==S)b=new p.OCSPNoCheck(v);else if("adobeTimeStamp"==S)b=new p.AdobeTimeStamp(v);else{if("subjectDirectoryAttributes"!=S)throw new Error("extension not supported:"+JSON.stringify(v));b=new p.SubjectDirectoryAttributes(v)}null!=b&&h.push(b)}return new l({array:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.x509.Extensions,g.asn1.ASN1Object),g.asn1.x509.Extension=function(s){g.asn1.x509.Extension.superclass.constructor.call(this);var l=g.asn1,p=l.DERObjectIdentifier,h=l.DEROctetString,v=l.DERBoolean,S=l.DERSequence;this.tohex=function(){var b=new p({oid:this.oid}),T=new h({hex:this.getExtnValueHex()}),F=new Array;return F.push(b),this.critical&&F.push(new v),F.push(T),new S({array:F}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==s&&void 0!==s.critical&&(this.critical=s.critical)},ee(g.asn1.x509.Extension,g.asn1.ASN1Object),g.asn1.x509.KeyUsage=function(s){g.asn1.x509.KeyUsage.superclass.constructor.call(this,s);var c=Error,u={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var l=this.getBinValue();return this.asn1ExtnValue=new g.asn1.DERBitString({bin:l}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var l=this.params;if("object"!=typeof l||"object"!=typeof l.names&&"string"!=typeof l.bin)throw new c("parameter not yet set");if(null!=l.names)return Yi(l.names,u);if(null!=l.bin)return l.bin;throw new c("parameter not set properly")},this.oid="2.5.29.15",void 0!==s&&(this.params=s)},ee(g.asn1.x509.KeyUsage,g.asn1.x509.Extension),g.asn1.x509.BasicConstraints=function(s){g.asn1.x509.BasicConstraints.superclass.constructor.call(this,s);var c=g.asn1,u=c.DERBoolean,l=c.DERInteger,p=c.DERSequence;this.getExtnValueHex=function(){var v=new Array;this.cA&&v.push(new u),this.pathLen>-1&&v.push(new l({int:this.pathLen}));var S=new p({array:v});return this.asn1ExtnValue=S,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==s&&(void 0!==s.cA&&(this.cA=s.cA),void 0!==s.pathLen&&(this.pathLen=s.pathLen))},ee(g.asn1.x509.BasicConstraints,g.asn1.x509.Extension),g.asn1.x509.CRLDistributionPoints=function(s){g.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,s);var u=g.asn1,l=u.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(p){for(var h=[],m=0;m<p.length;m++)if(p[m]instanceof g.asn1.ASN1Object)h.push(p[m]);else{var v=new l.DistributionPoint(p[m]);h.push(v)}this.asn1ExtnValue=new u.DERSequence({array:h})},this.setByOneURI=function(p){var h=new l.DistributionPoint({fulluri:p});this.setByDPArray([h])},this.oid="2.5.29.31",void 0!==s&&(void 0!==s.array?this.setByDPArray(s.array):void 0!==s.uri&&this.setByOneURI(s.uri))},ee(g.asn1.x509.CRLDistributionPoints,g.asn1.x509.Extension),g.asn1.x509.DistributionPoint=function(s){g.asn1.x509.DistributionPoint.superclass.constructor.call(this);var l=g.asn1,p=l.x509.DistributionPointName;this.tohex=function(){var h=new l.DERSequence;if(null!=this.asn1DP){var m=new l.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});h.appendASN1Object(m)}return this.hTLV=h.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(void 0!==s.dpobj?this.asn1DP=s.dpobj:void 0!==s.dpname?this.asn1DP=new p(s.dpname):void 0!==s.fulluri&&(this.asn1DP=new p({full:[{uri:s.fulluri}]})))},ee(g.asn1.x509.DistributionPoint,g.asn1.ASN1Object),g.asn1.x509.DistributionPointName=function(s){g.asn1.x509.DistributionPointName.superclass.constructor.call(this);var m=g.asn1,v=m.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new v({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s)if(m.x509.GeneralNames.prototype.isPrototypeOf(s))this.type="full",this.tag="a0",this.asn1V=s;else{if(void 0===s.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new m.x509.GeneralNames(s.full)}},ee(g.asn1.x509.DistributionPointName,g.asn1.ASN1Object),g.asn1.x509.CertificatePolicies=function(s){g.asn1.x509.CertificatePolicies.superclass.constructor.call(this,s);var u=g.asn1,p=u.DERSequence,h=u.x509.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var m=[],v=0;v<this.params.array.length;v++)m.push(new h(this.params.array[v]));var S=new p({array:m});return this.asn1ExtnValue=S,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==s&&(this.params=s)},ee(g.asn1.x509.CertificatePolicies,g.asn1.x509.Extension),g.asn1.x509.PolicyInformation=function(s){g.asn1.x509.PolicyInformation.superclass.constructor.call(this,s);var c=g.asn1,u=c.DERSequence,l=c.DERObjectIdentifier,p=c.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var h=[new l(this.params.policyoid)];if(void 0!==this.params.array){for(var m=[],v=0;v<this.params.array.length;v++)m.push(new p(this.params.array[v]));m.length>0&&h.push(new u({array:m}))}return new u({array:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(this.params=s)},ee(g.asn1.x509.PolicyInformation,g.asn1.ASN1Object),g.asn1.x509.PolicyQualifierInfo=function(s){g.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,s);var c=g.asn1,u=c.DERSequence,l=c.DERIA5String,p=c.DERObjectIdentifier,h=c.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new u({array:[new p({oid:"1.3.6.1.5.5.7.2.1"}),new l({str:this.params.cps})]}).tohex():null!=this.params.unotice?new u({array:[new p({oid:"1.3.6.1.5.5.7.2.2"}),new h(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(this.params=s)},ee(g.asn1.x509.PolicyQualifierInfo,g.asn1.ASN1Object),g.asn1.x509.UserNotice=function(s){g.asn1.x509.UserNotice.superclass.constructor.call(this,s);var c=g.asn1.DERSequence,l=g.asn1.x509.DisplayText,p=g.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var h=[];return void 0!==this.params.noticeref&&h.push(new p(this.params.noticeref)),void 0!==this.params.exptext&&h.push(new l(this.params.exptext)),new c({array:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(this.params=s)},ee(g.asn1.x509.UserNotice,g.asn1.ASN1Object),g.asn1.x509.NoticeReference=function(s){g.asn1.x509.NoticeReference.superclass.constructor.call(this,s);var c=g.asn1.DERSequence,u=g.asn1.DERInteger,l=g.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var p=[];if(void 0!==this.params.org&&p.push(new l(this.params.org)),void 0!==this.params.noticenum){for(var h=[],m=this.params.noticenum,v=0;v<m.length;v++)h.push(new u(m[v]));p.push(new c({array:h}))}if(0==p.length)throw new Error("parameter is empty");return new c({array:p}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(this.params=s)},ee(g.asn1.x509.NoticeReference,g.asn1.ASN1Object),g.asn1.x509.DisplayText=function(s){g.asn1.x509.DisplayText.superclass.constructor.call(this,s),this.hT="0c",void 0!==s&&("ia5"===s.type?this.hT="16":"vis"===s.type?this.hT="1a":"bmp"===s.type&&(this.hT="1e"))},ee(g.asn1.x509.DisplayText,g.asn1.DERAbstractString),g.asn1.x509.PolicyMappings=function(s){g.asn1.x509.PolicyMappings.superclass.constructor.call(this,s);var p=g.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){for(var h=this.params,m=[],v=0;v<h.array.length;v++){var S=h.array[v];m.push({seq:[{oid:S[0]},{oid:S[1]}]})}return this.asn1ExtnValue=p({seq:m}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==s&&(this.params=s)},ee(g.asn1.x509.PolicyMappings,g.asn1.x509.Extension),g.asn1.x509.PolicyConstraints=function(s){g.asn1.x509.PolicyConstraints.superclass.constructor.call(this,s);var p=g.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){var h=this.params,m=[];return null!=h.reqexp&&m.push({tag:{tagi:"80",obj:{int:h.reqexp}}}),null!=h.inhibit&&m.push({tag:{tagi:"81",obj:{int:h.inhibit}}}),this.asn1ExtnValue=p({seq:m}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==s&&(this.params=s)},ee(g.asn1.x509.PolicyConstraints,g.asn1.x509.Extension),g.asn1.x509.InhibitAnyPolicy=function(s){g.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,s);var p=g.asn1.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=p({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==s&&(this.params=s)},ee(g.asn1.x509.InhibitAnyPolicy,g.asn1.x509.Extension),g.asn1.x509.NameConstraints=function(s){g.asn1.x509.NameConstraints.superclass.constructor.call(this,s);var u=g.asn1,p=u.ASN1Util.newObject,h=u.x509.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var m=this.params,v=[];if(null!=m.permit&&null!=m.permit.length){for(var S=[],b=0;b<m.permit.length;b++)S.push(new h(m.permit[b]));v.push({tag:{tagi:"a0",obj:{seq:S}}})}if(null!=m.exclude&&null!=m.exclude.length){var T=[];for(b=0;b<m.exclude.length;b++)T.push(new h(m.exclude[b]));v.push({tag:{tagi:"a1",obj:{seq:T}}})}return this.asn1ExtnValue=p({seq:v}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==s&&(this.params=s)},ee(g.asn1.x509.NameConstraints,g.asn1.x509.Extension),g.asn1.x509.GeneralSubtree=function(s){g.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var c=g.asn1,l=c.x509.GeneralName,p=c.ASN1Util.newObject;this.params=null,this.setByParam=function(h){this.params=h},this.tohex=function(){var h=this.params,m=[new l(h)];return null!=h.min&&m.push({tag:{tagi:"80",obj:{int:h.min}}}),null!=h.max&&m.push({tag:{tagi:"81",obj:{int:h.max}}}),p({seq:m}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.x509.GeneralSubtree,g.asn1.ASN1Object),g.asn1.x509.ExtKeyUsage=function(s){g.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,s);var u=g.asn1;this.setPurposeArray=function(l){this.asn1ExtnValue=new u.DERSequence;for(var p=0;p<l.length;p++){var h=new u.DERObjectIdentifier(l[p]);this.asn1ExtnValue.appendASN1Object(h)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==s&&void 0!==s.array&&this.setPurposeArray(s.array)},ee(g.asn1.x509.ExtKeyUsage,g.asn1.x509.Extension),g.asn1.x509.AuthorityKeyIdentifier=function(s){g.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,s);var u=g.asn1,l=u.DERTaggedObject,p=u.x509.GeneralNames;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var m=new Array;this.asn1KID&&m.push(new l({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&m.push(new l({explicit:!1,tag:"a1",obj:new p([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&m.push(new l({explicit:!1,tag:"82",obj:this.asn1CertSN}));var v=new u.DERSequence({array:m});return this.asn1ExtnValue=v,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(m){if(void 0!==m.str||void 0!==m.hex)this.asn1KID=new g.asn1.DEROctetString(m);else if("object"==typeof m&&g.crypto.Util.isKey(m)||"string"==typeof m&&-1!=m.indexOf("BEGIN ")){var v=m;"string"==typeof m&&(v=Re.getKey(m));var S=Re.getKeyID(v);this.asn1KID=new g.asn1.DEROctetString({hex:S})}},this.setCertIssuerByParam=function(m){void 0!==m.str||void 0!==m.ldapstr||void 0!==m.hex||void 0!==m.certsubject||void 0!==m.certissuer?this.asn1CertIssuer=new g.asn1.x509.X500Name(m):"string"==typeof m&&-1!=m.indexOf("BEGIN ")&&-1!=m.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new g.asn1.x509.X500Name({certissuer:m}))},this.setCertSNByParam=function(m){if(void 0!==m.str||void 0!==m.bigint||void 0!==m.hex)this.asn1CertSN=new g.asn1.DERInteger(m);else if("string"==typeof m&&-1!=m.indexOf("BEGIN ")&&m.indexOf("CERTIFICATE")){var v=new ce;v.readCertPEM(m);var S=v.getSerialNumberHex();this.asn1CertSN=new g.asn1.DERInteger({hex:S})}},this.oid="2.5.29.35",void 0!==s&&(void 0!==s.kid&&this.setKIDByParam(s.kid),void 0!==s.issuer&&this.setCertIssuerByParam(s.issuer),void 0!==s.sn&&this.setCertSNByParam(s.sn),void 0!==s.issuersn&&"string"==typeof s.issuersn&&-1!=s.issuersn.indexOf("BEGIN ")&&s.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(s.issuersn),this.setCertIssuerByParam(s.issuersn)))},ee(g.asn1.x509.AuthorityKeyIdentifier,g.asn1.x509.Extension),g.asn1.x509.SubjectKeyIdentifier=function(s){g.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,s);var l=g.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(p){if(void 0!==p.str||void 0!==p.hex)this.asn1KID=new l(p);else if("object"==typeof p&&g.crypto.Util.isKey(p)||"string"==typeof p&&-1!=p.indexOf("BEGIN")){var h=p;"string"==typeof p&&(h=Re.getKey(p));var m=Re.getKeyID(h);this.asn1KID=new g.asn1.DEROctetString({hex:m})}},this.oid="2.5.29.14",void 0!==s&&void 0!==s.kid&&this.setKIDByParam(s.kid)},ee(g.asn1.x509.SubjectKeyIdentifier,g.asn1.x509.Extension),g.asn1.x509.AuthorityInfoAccess=function(s){g.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,s),this.setAccessDescriptionArray=function(c){for(var u=new Array,p=g.asn1,h=p.DERSequence,m=p.DERObjectIdentifier,v=p.x509.GeneralName,S=0;S<c.length;S++){var b,T=c[S];if(void 0!==T.ocsp)b=new h({array:[new m({oid:"1.3.6.1.5.5.7.48.1"}),new v({uri:T.ocsp})]});else{if(void 0===T.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(T));b=new h({array:[new m({oid:"1.3.6.1.5.5.7.48.2"}),new v({uri:T.caissuer})]})}u.push(b)}this.asn1ExtnValue=new h({array:u})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==s&&void 0!==s.array&&this.setAccessDescriptionArray(s.array)},ee(g.asn1.x509.AuthorityInfoAccess,g.asn1.x509.Extension),g.asn1.x509.SubjectAltName=function(s){g.asn1.x509.SubjectAltName.superclass.constructor.call(this,s),this.setNameArray=function(c){this.asn1ExtnValue=new g.asn1.x509.GeneralNames(c)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==s&&void 0!==s.array&&this.setNameArray(s.array)},ee(g.asn1.x509.SubjectAltName,g.asn1.x509.Extension),g.asn1.x509.IssuerAltName=function(s){g.asn1.x509.IssuerAltName.superclass.constructor.call(this,s),this.setNameArray=function(c){this.asn1ExtnValue=new g.asn1.x509.GeneralNames(c)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==s&&void 0!==s.array&&this.setNameArray(s.array)},ee(g.asn1.x509.IssuerAltName,g.asn1.x509.Extension),g.asn1.x509.SubjectDirectoryAttributes=function(s){g.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,s);var c=g.asn1,u=c.DERSequence,l=c.ASN1Util.newObject,p=c.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var h=[],m=0;m<this.params.array.length;m++){var v=this.params.array[m];if(null==v.attr||null==v.array){var b={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==v.attr)b.seq[0].oid=p(v.attr),b.seq[1].set[0]={gentime:v.str};else if("placeOfBirth"==v.attr)b.seq[0].oid=p(v.attr),b.seq[1].set[0]={utf8str:v.str};else if("gender"==v.attr)b.seq[0].oid=p(v.attr),b.seq[1].set[0]={prnstr:v.str};else if("countryOfCitizenship"==v.attr)b.seq[0].oid=p(v.attr),b.seq[1].set[0]={prnstr:v.str};else{if("countryOfResidence"!=v.attr)throw new Error("unsupported attribute: "+v.attr);b.seq[0].oid=p(v.attr),b.seq[1].set[0]={prnstr:v.str}}h.push(new l(b))}else h.push(l({seq:[{oid:v.attr},{set:v.array}]}))}var T=new u({array:h});return this.asn1ExtnValue=T,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==s&&(this.params=s)},ee(g.asn1.x509.SubjectDirectoryAttributes,g.asn1.x509.Extension),g.asn1.x509.PrivateExtension=function(s){g.asn1.x509.PrivateExtension.superclass.constructor.call(this,s);var u=g.lang.String.isHex,l=g.asn1,p=l.x509.OID.name2oid,h=l.ASN1Util.newObject;this.params=null,this.setByParam=function(m){this.oid=p(m.extname),this.params=m},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var m=this.params.extn;if("string"==typeof m&&u(m))return m;if("object"==typeof m)try{return h(m).tohex()}catch{}throw new Error("unsupported extn value")},null!=s&&this.setByParam(s)},ee(g.asn1.x509.PrivateExtension,g.asn1.x509.Extension),g.asn1.x509.CRL=function(s){g.asn1.x509.CRL.superclass.constructor.call(this);var u=g.asn1,l=u.DERSequence,p=u.DERBitString,h=u.x509,m=h.AlgorithmIdentifier,v=h.TBSCertList;this.params=void 0,this.setByParam=function(S){this.params=S},this.sign=function(){var S=new v(this.params).tohex(),b=new g.crypto.Signature({alg:this.params.sigalg});b.init(this.params.cakey),b.updateHex(S);var T=b.sign();this.params.sighex=T},this.getPEM=function(){return Ft(this.tohex(),"X509 CRL")},this.tohex=function(){var S=this.params;if(null==S.tbsobj&&(S.tbsobj=new v(S)),null==S.sighex&&null!=S.cakey&&this.sign(),null==S.sighex)throw new Error("sighex or cakey parameter not defined");var b=[];return b.push(S.tbsobj),b.push(new m({name:S.sigalg})),b.push(new p({hex:"00"+S.sighex})),new l({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&(this.params=s)},ee(g.asn1.x509.CRL,g.asn1.ASN1Object),g.asn1.x509.TBSCertList=function(s){g.asn1.x509.TBSCertList.superclass.constructor.call(this);var u=g.asn1,l=u.DERInteger,p=u.DERSequence,h=u.DERTaggedObject,v=u.x509,S=v.AlgorithmIdentifier,b=v.Time,T=v.Extensions,F=v.X500Name;this.params=null,this.setByParam=function(E){this.params=E},this.getRevCertSequence=function(){for(var E=[],w=this.params.revcert,x=0;x<w.length;x++){var y=[new l(w[x].sn),new b(w[x].date)];null!=w[x].ext&&y.push(new T(w[x].ext)),E.push(new p({array:y}))}return new p({array:E})},this.tohex=function(){var E=[],w=this.params;if(null!=w.version){var y=new l({int:w.version-1});E.push(y)}if(E.push(new S({name:w.sigalg})),E.push(new F(w.issuer)),E.push(new b(w.thisupdate)),null!=w.nextupdate&&E.push(new b(w.nextupdate)),null!=w.revcert&&E.push(this.getRevCertSequence()),null!=w.ext){var I=new T(w.ext);E.push(new h({tag:"a0",explicit:!0,obj:I}))}return new p({array:E}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.x509.TBSCertList,g.asn1.ASN1Object),g.asn1.x509.CRLEntry=function(s){g.asn1.x509.CRLEntry.superclass.constructor.call(this);var p=g.asn1;this.setCertSerial=function(h){this.sn=new p.DERInteger(h)},this.setRevocationDate=function(h){this.time=new p.x509.Time(h)},this.tohex=function(){var h=new p.DERSequence({array:[this.sn,this.time]});return this.TLV=h.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(void 0!==s.time&&this.setRevocationDate(s.time),void 0!==s.sn&&this.setCertSerial(s.sn))},ee(g.asn1.x509.CRLEntry,g.asn1.ASN1Object),g.asn1.x509.CRLNumber=function(s){g.asn1.x509.CRLNumber.superclass.constructor.call(this,s),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new g.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=s&&(this.params=s)},ee(g.asn1.x509.CRLNumber,g.asn1.x509.Extension),g.asn1.x509.CRLReason=function(s){g.asn1.x509.CRLReason.superclass.constructor.call(this,s),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new g.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=s&&(this.params=s)},ee(g.asn1.x509.CRLReason,g.asn1.x509.Extension),g.asn1.x509.OCSPNonce=function(s){g.asn1.x509.OCSPNonce.superclass.constructor.call(this,s),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new g.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=s&&(this.params=s)},ee(g.asn1.x509.OCSPNonce,g.asn1.x509.Extension),g.asn1.x509.OCSPNoCheck=function(s){g.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,s),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new g.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=s&&(this.params=s)},ee(g.asn1.x509.OCSPNoCheck,g.asn1.x509.Extension),g.asn1.x509.AdobeTimeStamp=function(s){g.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,s);var u=g.asn1,l=u.DERInteger,p=u.DERBoolean,h=u.DERSequence,m=u.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var v=this.params,S=[new l(1)];return S.push(new m({uri:v.uri})),null!=v.reqauth&&S.push(new p(v.reqauth)),this.asn1ExtnValue=new h({array:S}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==s&&this.setByParam(s)},ee(g.asn1.x509.AdobeTimeStamp,g.asn1.x509.Extension),g.asn1.x509.X500Name=function(s){g.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var u=g.asn1,l=u.x509,p=l.RDN;this.setByString=function(m,v){void 0!==v&&(this.sRule=v);var S=m.split("/");S.shift();for(var b=[],T=0;T<S.length;T++)if(S[T].match(/^[^=]+=.+$/))b.push(S[T]);else{var F=b.length-1;b[F]=b[F]+"/"+S[T]}for(T=0;T<b.length;T++)this.asn1Array.push(new p({str:b[T],rule:this.sRule}))},this.setByLdapString=function(m,v){void 0!==v&&(this.sRule=v);var S=l.X500Name.ldapToCompat(m);this.setByString(S,v)},this.setByObject=function(m,v){for(var S in void 0!==v&&(this.sRule=v),m)if(m.hasOwnProperty(S)){var b=new p({str:S+"="+m[S],rule:this.sRule});this.asn1Array?this.asn1Array.push(b):this.asn1Array=[b]}},this.setByParam=function(m){if(void 0!==m.rule&&(this.sRule=m.rule),void 0!==m.array)this.paramArray=m.array;else if(void 0!==m.str)this.setByString(m.str);else if(void 0!==m.ldapstr)this.setByLdapString(m.ldapstr);else if(void 0!==m.hex)this.hTLV=m.hex;else if(void 0!==m.certissuer)(v=new ce).readCertPEM(m.certissuer),this.hTLV=v.getIssuerHex();else if(void 0!==m.certsubject){var v;(v=new ce).readCertPEM(m.certsubject),this.hTLV=v.getSubjectHex()}else"object"==typeof m&&void 0===m.certsubject&&void 0===m.certissuer&&this.setByObject(m)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var m=0;m<this.paramArray.length;m++){var v={array:this.paramArray[m]};"utf8"!=this.sRule&&(v.rule=this.sRule);var S=new p(v);this.asn1Array.push(S)}var b=new u.DERSequence({array:this.asn1Array});return this.hTLV=b.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.x509.X500Name,g.asn1.ASN1Object),g.asn1.x509.X500Name.compatToLDAP=function(s){if("/"!==s.substr(0,1))throw"malformed input";var u=(s=s.substr(1)).split("/");return u.reverse(),u=u.map(function(l){return l.replace(/,/,"\\,")}),u.join(",")},g.asn1.x509.X500Name.onelineToLDAP=function(s){return g.asn1.x509.X500Name.compatToLDAP(s)},g.asn1.x509.X500Name.ldapToCompat=function(s){for(var c=s.split(","),u=!1,l=[],p=0;c.length>0;p++){var h=c.shift();if(!0===u){var v=(l.pop()+","+h).replace(/\\,/g,",");l.push(v),u=!1}else l.push(h);"\\"===h.substr(-1,1)&&(u=!0)}return l=l.map(function(S){return S.replace("/","\\/")}),l.reverse(),"/"+l.join("/")},g.asn1.x509.X500Name.ldapToOneline=function(s){return g.asn1.x509.X500Name.ldapToCompat(s)},g.asn1.x509.RDN=function(s){g.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var c=g.asn1.x509.AttributeTypeAndValue;this.setByParam=function(u){void 0!==u.rule&&(this.sRule=u.rule),void 0!==u.str&&this.addByMultiValuedString(u.str),void 0!==u.array&&(this.paramArray=u.array)},this.addByString=function(u){this.asn1Array.push(new g.asn1.x509.AttributeTypeAndValue({str:u,rule:this.sRule}))},this.addByMultiValuedString=function(u){for(var l=g.asn1.x509.RDN.parseString(u),p=0;p<l.length;p++)this.addByString(l[p])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var u=0;u<this.paramArray.length;u++){var l=this.paramArray[u];void 0!==l.rule&&"utf8"!=this.sRule&&(l.rule=this.sRule);var p=new c(l);this.asn1Array.push(p)}var h=new g.asn1.DERSet({array:this.asn1Array});return this.TLV=h.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.x509.RDN,g.asn1.ASN1Object),g.asn1.x509.RDN.parseString=function(s){for(var c=s.split(/\+/),u=!1,l=[],p=0;c.length>0;p++){var h=c.shift();if(!0===u){var v=(l.pop()+"+"+h).replace(/\\\+/g,"+");l.push(v),u=!1}else l.push(h);"\\"===h.substr(-1,1)&&(u=!0)}var S=!1,b=[];for(p=0;l.length>0;p++){if(h=l.shift(),!0===S){var T=b.pop();h.match(/"$/)?(v=(T+"+"+h).replace(/^([^=]+)="(.*)"$/,"$1=$2"),b.push(v),S=!1):b.push(T+"+"+h)}else b.push(h);h.match(/^[^=]+="/)&&(S=!0)}return b},g.asn1.x509.AttributeTypeAndValue=function(s){g.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var u=g.asn1,l=u.DERSequence,p=u.DERUTF8String,h=u.DERPrintableString,m=u.DERTeletexString,v=u.DERIA5String,S=u.DERVisibleString,b=u.DERBMPString,T=g.lang.String.isMail,F=g.lang.String.isPrintable;this.setByParam=function(E){if(void 0!==E.rule&&(this.sRule=E.rule),void 0!==E.ds&&(this.dsType=E.ds),void 0===E.value&&void 0!==E.str){var x=E.str.match(/^([^=]+)=(.+)$/);if(!x)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=x[1],this.sValue=x[2]}else this.sType=E.type,this.sValue=E.value},this.setByString=function(E,w){void 0!==w&&(this.sRule=w);var x=E.match(/^([^=]+)=(.+)$/);if(!x)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(x[1],x[2])},this._getDsType=function(){var E=this.sType,w=this.sValue,x=this.sRule;return"prn"===x?"CN"==E&&T(w)?"ia5":F(w)?"prn":"utf8":"utf8"===x?"CN"==E&&T(w)?"ia5":"C"==E?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(E,w,x){void 0!==x&&(this.sRule=x),this.sType=E,this.sValue=w},this.getValueObj=function(E,w){if("utf8"==E)return new p({str:w});if("prn"==E)return new h({str:w});if("tel"==E)return new m({str:w});if("ia5"==E)return new v({str:w});if("vis"==E)return new S({str:w});if("bmp"==E)return new b({str:w});throw new Error("unsupported directory string type: type="+E+" value="+w)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var E=g.asn1.x509.OID.atype2obj(this.sType),w=this.getValueObj(this.dsType,this.sValue),x=new l({array:[E,w]});return this.TLV=x.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.x509.AttributeTypeAndValue,g.asn1.ASN1Object),g.asn1.x509.SubjectPublicKeyInfo=function(s){g.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var p=g.asn1,h=p.DERInteger,m=p.DERBitString,v=p.DERObjectIdentifier,S=p.DERSequence,b=p.ASN1Util.newObject,F=p.x509.AlgorithmIdentifier;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new S({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var y=this.getASN1Object();return this.hTLV=y.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(y){try{if(y instanceof Se){var C=b({seq:[{int:{bigint:y.n}},{int:{int:y.e}}]}).tohex();this.asn1AlgId=new F({name:"rsaEncryption"}),this.asn1SubjPKey=new m({hex:"00"+C})}}catch{}try{if(y instanceof g.crypto.ECDSA){var R=new v({name:y.curveName});this.asn1AlgId=new F({name:"ecPublicKey",asn1params:R}),this.asn1SubjPKey=new m({hex:"00"+y.pubKeyHex})}}catch{}try{if(y instanceof g.crypto.DSA){R=new b({seq:[{int:{bigint:y.p}},{int:{bigint:y.q}},{int:{bigint:y.g}}]}),this.asn1AlgId=new F({name:"dsa",asn1params:R});var P=new h({bigint:y.y});this.asn1SubjPKey=new m({hex:"00"+P.tohex()})}}catch{}},void 0!==s&&this.setPubKey(s)},ee(g.asn1.x509.SubjectPublicKeyInfo,g.asn1.ASN1Object),g.asn1.x509.Time=function(s){g.asn1.x509.Time.superclass.constructor.call(this);var p=g.asn1,h=p.DERUTCTime,m=p.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(v){this.timeParams=v},this.setByParam=function(v){this.params=v},this.getType=function(v){return v.match(/^[0-9]{12}Z$/)?"utc":v.match(/^[0-9]{14}Z$/)?"gen":v.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":v.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var v=this.params,S=null;if("string"==typeof v&&(v={str:v}),null!=v&&v.str&&(null==v.type||null==v.type)&&(v.type=this.getType(v.str)),null!=v&&v.str?("utc"==v.type&&(S=new h(v.str)),"gen"==v.type&&(S=new m(v.str))):S="gen"==this.type?new m:new h,null==S)throw new Error("wrong setting for Time");return this.TLV=S.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},g.asn1.x509.Time_bak=function(s){g.asn1.x509.Time_bak.superclass.constructor.call(this);var p=g.asn1,h=p.DERUTCTime,m=p.DERGeneralizedTime;this.setTimeParams=function(v){this.timeParams=v},this.tohex=function(){var v=null;return v=null!=this.timeParams?"utc"==this.type?new h(this.timeParams):new m(this.timeParams):"utc"==this.type?new h:new m,this.TLV=v.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==s&&(void 0!==s.type?this.type=s.type:void 0!==s.str&&(s.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),s.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=s)},ee(g.asn1.x509.Time,g.asn1.ASN1Object),g.asn1.x509.AlgorithmIdentifier=function(s){g.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var u=g.asn1,l=u.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var h=null;for(var m in l)m===this.nameAlg&&(h=l[m]);if(null!==h)return this.hTLV=h,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=u.x509.OID.name2obj(this.nameAlg));var v=[this.asn1Alg];null!==this.asn1Params&&v.push(this.asn1Params);var S=new u.DERSequence({array:v});return this.hTLV=S.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&(void 0!==s.name&&(this.nameAlg=s.name),void 0!==s.asn1params&&(this.asn1Params=s.asn1params),void 0!==s.paramempty&&(this.paramEmpty=s.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var p=this.nameAlg.toLowerCase();"withdsa"!==p.substr(-7,7)&&"withecdsa"!==p.substr(-9,9)&&(this.asn1Params=new u.DERNull)}},ee(g.asn1.x509.AlgorithmIdentifier,g.asn1.ASN1Object),g.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},g.asn1.x509.GeneralName=function(s){g.asn1.x509.GeneralName.superclass.constructor.call(this);var l=g.asn1,p=l.x509,h=p.X500Name,m=p.OtherName,v=l.DERIA5String,b=l.DEROctetString,T=l.DERTaggedObject,F=l.ASN1Object,E=Error;this.params=null,this.setByParam=function(w){this.params=w},this.tohex=function(){var x,y,w=this.params,I=!1;if(void 0!==w.other)x="a0",y=new m(w.other);else if(void 0!==w.rfc822)x="81",y=new v({str:w.rfc822});else if(void 0!==w.dns)x="82",y=new v({str:w.dns});else if(void 0!==w.dn)x="a4",I=!0,y="string"==typeof w.dn?new h({str:w.dn}):w.dn instanceof g.asn1.x509.X500Name?w.dn:new h(w.dn);else if(void 0!==w.ldapdn)x="a4",I=!0,y=new h({ldapstr:w.ldapdn});else if(void 0!==w.certissuer||void 0!==w.certsubj){x="a4",I=!0;var C,R,P=null;if(void 0!==w.certsubj?(C=!1,R=w.certsubj):(C=!0,R=w.certissuer),R.match(/^[0-9A-Fa-f]+$/),-1!=R.indexOf("-----BEGIN ")&&(P=Ve(R)),null==P)throw new Error("certsubj/certissuer not cert");var O,L=new ce;L.hex=P,O=C?L.getIssuerHex():L.getSubjectHex(),(y=new F).hTLV=O}else if(void 0!==w.uri)x="86",y=new v({str:w.uri});else{if(void 0===w.ip)throw new E("improper params");x="87";var G,Z=w.ip;try{if(Z.match(/^[0-9a-f]+$/)){var _=Z.length;if(8!=_&&16!=_&&32!=_&&64!=_)throw"err";G=Z}else G=mr(Z)}catch(k){throw new E("malformed IP address: "+w.ip+":"+k.message)}y=new b({hex:G})}return new T({tag:x,explicit:I,obj:y}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.x509.GeneralName,g.asn1.ASN1Object),g.asn1.x509.GeneralNames=function(s){g.asn1.x509.GeneralNames.superclass.constructor.call(this);var l=g.asn1;this.setByParamArray=function(p){for(var h=0;h<p.length;h++){var m=new l.x509.GeneralName(p[h]);this.asn1Array.push(m)}},this.tohex=function(){return new l.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,typeof s<"u"&&this.setByParamArray(s)},ee(g.asn1.x509.GeneralNames,g.asn1.ASN1Object),g.asn1.x509.OtherName=function(s){g.asn1.x509.OtherName.superclass.constructor.call(this);var p=g.asn1,h=p.DERObjectIdentifier,m=p.DERSequence,v=p.ASN1Util.newObject;this.params=null,this.setByParam=function(S){this.params=S},this.tohex=function(){var S=this.params;if(null==S.oid||null==S.value)throw new Error("oid or value not specified");var b=new h({oid:S.oid}),T=v({tag:{tag:"a0",explicit:!0,obj:S.value}});return new m({array:[b,T]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.x509.OtherName,g.asn1.ASN1Object),g.asn1.x509.OID=new function(){var s=g.asn1.DERObjectIdentifier;this.name2oidList={"aes128-CBC":"2.16.840.1.101.3.4.1.2","aes256-CBC":"2.16.840.1.101.3.4.1.42",sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",hmacWithSHA1:"1.2.840.113549.2.7",hmacWithSHA224:"1.2.840.113549.2.8",hmacWithSHA256:"1.2.840.113549.2.9",hmacWithSHA384:"1.2.840.113549.2.10",hmacWithSHA512:"1.2.840.113549.2.11",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1",smimeMailboxLegacy:"2.23.140.1.5.1.1",smimeMailboxMulti:"2.23.140.1.5.1.2",smimeMailboxStrict:"2.23.140.1.5.1.3",smimeOrganizationLegacy:"2.23.140.1.5.2.1",smimeOrganizationMulti:"2.23.140.1.5.2.2",smimeOrganizationStrict:"2.23.140.1.5.2.3",smimeSponsorLegacy:"2.23.140.1.5.3.1",smimeSponsorMulti:"2.23.140.1.5.3.2",smimeSponsorStrict:"2.23.140.1.5.3.3",smimeIndividualLegacy:"2.23.140.1.5.4.1",smimeIndividualMulti:"2.23.140.1.5.4.2",smimeIndividualStrict:"2.23.140.1.5.4.3"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",GN:"2.5.4.42",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(c){if(typeof this.objCache[c]<"u")return this.objCache[c];if(typeof this.name2oidList[c]>"u")throw"Name of ObjectIdentifier not defined: "+c;var l=new s({oid:this.name2oidList[c]});return this.objCache[c]=l,l},this.atype2obj=function(c){if(void 0!==this.objCache[c])return this.objCache[c];var u;if(c.match(/^\d+\.\d+\.[0-9.]+$/))u=c;else if(void 0!==this.atype2oidList[c])u=this.atype2oidList[c];else{if(void 0===this.name2oidList[c])throw new Error("AttributeType name undefined: "+c);u=this.name2oidList[c]}var l=new s({oid:u});return this.objCache[c]=l,l},this.registerOIDs=function(c){if(this.checkOIDs(c))for(var u in c)this.name2oidList[u]=c[u]},this.checkOIDs=function(c){try{var u=Object.keys(c);return 0!=u.length&&(u.map(function(l,p,h){if(!this[l].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")},c),!0)}catch{return!1}}},g.asn1.x509.OID.oid2name=function(s){var c=g.asn1.x509.OID.name2oidList;for(var u in c)if(c[u]==s)return u;return""},g.asn1.x509.OID.oid2atype=function(s){var c=g.asn1.x509.OID.atype2oidList;for(var u in c)if(c[u]==s)return u;return s},g.asn1.x509.OID.name2oid=function(s){if(s.match(/^[0-9.]+$/))return s;var c=g.asn1.x509.OID.name2oidList;return void 0===c[s]?"":c[s]},g.asn1.x509.X509Util={},g.asn1.x509.X509Util.newCertPEM=function(s){return new(0,g.asn1.x509.Certificate)(s).getPEM()},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.cms>"u"||!g.asn1.cms)&&(g.asn1.cms={}),g.asn1.cms.Attribute=function(s){var c=Error,l=g.asn1,p=l.DERSequence,h=l.DERSet,m=l.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(v){this.params=v},this.getValueArray=function(){throw new c("not yet implemented abstract")},this.tohex=function(){var v=new m({oid:this.typeOid}),S=new h({array:this.getValueArray()});return new p({array:[v,S]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},ee(g.asn1.cms.Attribute,g.asn1.ASN1Object),g.asn1.cms.ContentType=function(s){var u=g.asn1;u.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new u.DERObjectIdentifier(this.params.type)]},null!=s&&this.setByParam(s)},ee(g.asn1.cms.ContentType,g.asn1.cms.Attribute),g.asn1.cms.MessageDigest=function(s){var u=g.asn1,l=u.DEROctetString;u.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new l(this.params)]},null!=s&&this.setByParam(s)},ee(g.asn1.cms.MessageDigest,g.asn1.cms.Attribute),g.asn1.cms.SigningTime=function(s){var u=g.asn1;u.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new u.x509.Time(this.params)]},null!=s&&this.setByParam(s)},ee(g.asn1.cms.SigningTime,g.asn1.cms.Attribute),g.asn1.cms.SigningCertificate=function(s){var c=Error,l=g.asn1,p=l.DERSequence,h=l.cms,m=h.ESSCertID;h.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new c("parameter 'array' not specified");for(var S=this.params.array,b=[],T=0;T<S.length;T++){var F=S[T];0==s.hasis&&"string"==typeof F&&(-1!=F.indexOf("-----BEGIN")||J.isASN1HEX(F))&&(F={cert:F}),0!=F.hasis&&0==s.hasis&&(F.hasis=!1),b.push(new m(F))}var E=new p({array:b});return[new p({array:[E]})]},null!=s&&this.setByParam(s)},ee(g.asn1.cms.SigningCertificate,g.asn1.cms.Attribute),g.asn1.cms.ESSCertID=function(s){g.asn1.cms.ESSCertID.superclass.constructor.call(this);var c=Error,u=g,l=u.asn1,p=l.DEROctetString,h=l.DERSequence,m=l.cms.IssuerSerial;this.params=null,this.getCertHash=function(v,S){if(null!=v.hash)return v.hash;if("string"==typeof v&&-1==v.indexOf("-----BEGIN")&&!J.isASN1HEX(v))return v;var b,T,F;if("string"==typeof v)b=v;else{if(null==v.cert)throw new c("hash nor cert unspecified");b=v.cert}if(T=-1!=b.indexOf("-----BEGIN")?Ve(b):b,"string"==typeof v&&(-1!=v.indexOf("-----BEGIN")?T=Ve(v):J.isASN1HEX(v)&&(T=v)),null!=v.alg)F=v.alg;else{if(null==S)throw new c("hash alg unspecified");F=S}return u.crypto.Util.hashHex(T,F)},this.tohex=function(){var v=this.params,S=this.getCertHash(v,"sha1"),b=[];return b.push(new p({hex:S})),("string"==typeof v&&-1!=v.indexOf("-----BEGIN")||null!=v.cert&&0!=v.hasis||null!=v.issuer&&null!=v.serial)&&b.push(new m(v)),new h({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cms.ESSCertID,g.asn1.ASN1Object),g.asn1.cms.SigningCertificateV2=function(s){var c=Error,l=g.asn1,p=l.DERSequence,m=l.cms,v=m.ESSCertIDv2;m.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new c("parameter 'array' not specified");for(var b=this.params.array,T=[],F=0;F<b.length;F++){var E=b[F];(null!=s.alg||0==s.hasis)&&"string"==typeof E&&(-1!=E.indexOf("-----BEGIN")||J.isASN1HEX(E))&&(E={cert:E}),null==E.alg&&null!=s.alg&&(E.alg=s.alg),0!=E.hasis&&0==s.hasis&&(E.hasis=!1),T.push(new v(E))}var w=new p({array:T});return[new p({array:[w]})]},null!=s&&this.setByParam(s)},ee(g.asn1.cms.SigningCertificateV2,g.asn1.cms.Attribute),g.asn1.cms.ESSCertIDv2=function(s){g.asn1.cms.ESSCertIDv2.superclass.constructor.call(this),Error;var l=g.asn1,p=l.DEROctetString,h=l.DERSequence,m=l.cms.IssuerSerial,v=l.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var S=this.params,b=this.getCertHash(S,"sha256"),T=[];return null!=S.alg&&"sha256"!=S.alg&&T.push(new v({name:S.alg})),T.push(new p({hex:b})),("string"==typeof S&&-1!=S.indexOf("-----BEGIN")||null!=S.cert&&0!=S.hasis||null!=S.issuer&&null!=S.serial)&&T.push(new m(S)),new h({array:T}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cms.ESSCertIDv2,g.asn1.cms.ESSCertID),g.asn1.cms.IssuerSerial=function(s){var c=Error,l=g.asn1,p=l.DERInteger,h=l.DERSequence,S=l.x509.GeneralNames,b=ce;l.cms.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(T){this.params=T},this.tohex=function(){var F,E,T=this.params;if("string"==typeof T&&-1!=T.indexOf("-----BEGIN")||null!=T.cert){var w;w=null!=T.cert?T.cert:T;var x=new b;x.readCertPEM(w),F=x.getIssuer(),E={hex:x.getSerialNumberHex()}}else{if(null==T.issuer||!T.serial)throw new c("cert or issuer and serial parameter not specified");F=T.issuer,E=T.serial}var y=new S([{dn:F}]),I=new p(E);return new h({array:[y,I]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cms.IssuerSerial,g.asn1.ASN1Object),g.asn1.cms.SignerIdentifier=function(s){var h=g.asn1.cms,m=h.IssuerAndSerialNumber,v=h.SubjectKeyIdentifier;Error,h.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var E=this.params;if("isssn"==E.type)return new m(E).tohex();if("skid"==E.type)return new v(E).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cms.SignerIdentifier,g.asn1.ASN1Object),g.asn1.cms.IssuerAndSerialNumber=function(s){var u=g.asn1,l=u.DERInteger,p=u.DERSequence,v=u.x509.X500Name,S=ce,b=Error;u.cms.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var F,E,T=this.params;if("string"==typeof T&&-1!=T.indexOf("-----BEGIN")||null!=T.cert){var w;w=null!=T.cert?T.cert:T;var x=new S;x.readCertPEM(w),F=x.getIssuer(),E={hex:x.getSerialNumberHex()}}else{if(null==T.issuer||!T.serial)throw new b("cert or issuer and serial parameter not specified");F=T.issuer,E=T.serial}var y=new v(F),I=new l(E);return new p({array:[y,I]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(T){this.params=T},null!=s&&this.setByParam(s)},ee(g.asn1.cms.IssuerAndSerialNumber,g.asn1.ASN1Object),g.asn1.cms.SubjectKeyIdentifier=function(s){var u=g.asn1,h=u.ASN1Util.newObject,F=ce,E=Error;u.cms.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var x,w=this.params;if(null==w.cert&&null==w.skid)throw new E("property cert nor skid undefined");return null!=w.cert?x=new F(w.cert).getExtSubjectKeyIdentifier().kid.hex:null!=w.skid&&(x=w.skid),h({tag:{tage:"a0",obj:{octstr:{hex:x}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cms.SubjectKeyIdentifier,g.asn1.ASN1Object),g.asn1.cms.AttributeList=function(s){var c=Error,l=g.asn1,p=l.DERSet,h=l.cms;h.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(m){this.params=m},this.tohex=function(){var m=this.params;if(null!=this.hTLV)return this.hTLV;var v=!0;null!=m.sortflag&&(v=m.sortflag);for(var S=m.array,b=[],T=0;T<S.length;T++){var F=S[T],E=F.attr;if("contentType"==E)b.push(new h.ContentType(F));else if("messageDigest"==E)b.push(new h.MessageDigest(F));else if("signingTime"==E)b.push(new h.SigningTime(F));else if("signingCertificate"==E)b.push(new h.SigningCertificate(F));else if("signingCertificateV2"==E)b.push(new h.SigningCertificateV2(F));else if("signaturePolicyIdentifier"==E)b.push(new g.asn1.cades.SignaturePolicyIdentifier(F));else{if("signatureTimeStamp"!=E&&"timeStampToken"!=E)throw new c("unknown attr: "+E);b.push(new g.asn1.cades.SignatureTimeStamp(F))}}var w=new p({array:b,sortflag:v});return this.hTLV=w.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cms.AttributeList,g.asn1.ASN1Object),g.asn1.cms.SignerInfo=function(s){var c=Error,l=g.asn1,p=l.DERInteger,h=l.DEROctetString,m=l.DERSequence,v=l.DERTaggedObject,S=l.cms,b=S.SignerIdentifier,T=S.AttributeList,I=l.x509.AlgorithmIdentifier,C=g.crypto,R=Re;S.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var P=this.params,L=P.sigalg,O=new T(P.sattrs).tohex(),G=R.getKey(P.signkey),Z=new C.Signature({alg:L});Z.init(G),Z.updateHex(O);var _=Z.sign();P.sighex=_},this.tohex=function(){var P=this.params,L=[];if(L.push(new p({int:P.version})),L.push(new b(P.id)),L.push(new I({name:P.hashalg})),null!=P.sattrs){var O=new T(P.sattrs);try{L.push(new v({tag:"a0",explicit:!1,obj:O}))}catch(Z){throw new c("si sattr error: "+Z)}}if(L.push(new I(null!=P.sigalgfield?{name:P.sigalgfield}:{name:P.sigalg})),null==P.sighex&&null!=P.signkey&&this.sign(),L.push(new h({hex:P.sighex})),null!=P.uattrs){O=new T(P.uattrs);try{L.push(new v({tag:"a1",explicit:!1,obj:O}))}catch(_){throw new c("si uattr error: "+_)}}return new m({array:L}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cms.SignerInfo,g.asn1.ASN1Object),g.asn1.cms.EncapsulatedContentInfo=function(s){var u=g.asn1,l=u.DERTaggedObject,p=u.DERSequence,h=u.DERObjectIdentifier,m=u.DEROctetString;u.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var S=this.params,b=[];if(b.push(new h(S.type)),null!=S.content&&(null!=S.content.hex||null!=S.content.str)&&1!=S.isDetached){var T=new m(S.content),F=new l({tag:"a0",explicit:!0,obj:T});b.push(F)}return new p({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(S){this.params=S},null!=s&&this.setByParam(s)},ee(g.asn1.cms.EncapsulatedContentInfo,g.asn1.ASN1Object),g.asn1.cms.ContentInfo=function(s){var u=g.asn1,l=u.DERTaggedObject,p=u.DERSequence,h=u.DERObjectIdentifier;g.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var S=this.params,b=[];b.push(new h(S.type));var T=new l({tag:"a0",explicit:!0,obj:S.obj});return b.push(T),new p({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(S){this.params=S},null!=s&&this.setByParam(s)},ee(g.asn1.cms.ContentInfo,g.asn1.ASN1Object),g.asn1.cms.SignedData=function(s){Error;var l=g.asn1,h=l.DERInteger,m=l.DERSet,v=l.DERSequence,b=l.cms,T=b.EncapsulatedContentInfo,F=b.SignerInfo,E=b.ContentInfo,w=b.CertificateSet,x=b.RevocationInfoChoices,I=l.x509.AlgorithmIdentifier;g.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var C=this.params;this._setDigestAlgs(C),this._setContentTypeByEContent(C),this._setMessageDigestByEContent(C),this._setSignerInfoVersion(C),this._setSignedDataVersion(C)},this._setDigestAlgs=function(C){for(var R={},P=C.sinfos,L=0;L<P.length;L++)R[P[L].hashalg]=1;C.hashalgs=Object.keys(R).sort()},this._setContentTypeByEContent=function(C){for(var R=C.econtent.type,P=C.sinfos,L=0;L<P.length;L++)this._getAttrParamByName(P[L],"contentType").type=R},this._setMessageDigestByEContent=function(C){var R=C.econtent,L=R.content.hex;null==L&&"data"==R.type&&null!=R.content.str&&(L=ae(R.content.str));for(var O=C.sinfos,G=0;G<O.length;G++){var Z=O[G],_=Z.hashalg,M=this._getAttrParamByName(Z,"messageDigest"),k=g.crypto.Util.hashHex(L,_);M.hex=k}},this._getAttrParamByName=function(C,R){for(var P=C.sattrs.array,L=0;L<P.length;L++)if(P[L].attr==R)return P[L]},this._setSignerInfoVersion=function(C){for(var R=C.sinfos,P=0;P<R.length;P++){var L=R[P],O=1;"skid"==L.id.type&&(O=3),L.version=O}},this._setSignedDataVersion=function(C){var R=this._getSignedDataVersion(C);C.version=R},this._getSignedDataVersion=function(C){if(null!=C.revinfos)for(var R=C.revinfos,P=0;P<R.length;P++)if(null!=R[P].ocsp)return 5;var O=C.sinfos;for(P=0;P<O.length;P++)if(3==C.sinfos[P].version)return 3;return"data"!=C.econtent.type?3:1},this.tohex=function(){var C=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=C.fixed&&this.checkAndFixParam();var R=[];R.push(new h({int:C.version}));for(var P=[],L=0;L<C.hashalgs.length;L++)P.push(new I({name:C.hashalgs[L]}));R.push(new m({array:P})),R.push(new T(C.econtent)),null!=C.certs&&R.push(new w(C.certs)),null!=C.revinfos&&R.push(new x(C.revinfos));var G=[];for(L=0;L<C.sinfos.length;L++)G.push(new F(C.sinfos[L]));return R.push(new m({array:G})),new v({array:R}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new E({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cms.SignedData,g.asn1.ASN1Object),g.asn1.cms.CertificateSet=function(s){g.asn1.cms.CertificateSet.superclass.constructor.call(this);var c=Error,u=g.asn1,l=u.DERTaggedObject,p=u.DERSet,h=u.ASN1Object;this.params=null,this.tohex=function(){var S,m=this.params,v=[];if(m instanceof Array)S=m;else{if(null==m.array)throw new c("cert array not specified");S=m.array}for(var b=0;b<S.length;b++){var F=Ve(S[b]),E=new h;E.hTLV=F,v.push(E)}var w={array:v};0==m.sortflag&&(w.sortflag=!1);var x=new p(w);return new l({tag:"a0",explicit:!1,obj:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cms.CertificateSet,g.asn1.ASN1Object),g.asn1.cms.RevocationInfoChoices=function(s){g.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var c=this.params;if(!c instanceof Array)throw new Error("params is not array");for(var u=[],l=0;l<c.length;l++)u.push(new g.asn1.cms.RevocationInfoChoice(c[l]));return g.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:u}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cms.RevocationInfoChoices,g.asn1.ASN1Object),g.asn1.cms.RevocationInfoChoice=function(s){g.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var c=this.params;if(null!=c.crl&&"string"==typeof c.crl){var u=c.crl;return-1!=c.crl.indexOf("-----BEGIN")&&(u=Ve(c.crl)),u}if(null!=c.ocsp)return g.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new g.asn1.cms.OtherRevocationFormat(c)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cms.RevocationInfoChoice,g.asn1.ASN1Object),g.asn1.cms.OtherRevocationFormat=function(s){g.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var c=Error,p=g.asn1.ASN1Util.newObject,h=g.lang.String.isHex;this.params=null,this.tohex=function(){var m=this.params;if(null==m.ocsp)throw new c("property ocsp not specified");if(!h(m.ocsp)||!J.isASN1HEX(m.ocsp))throw new c("ocsp value not ASN.1 hex string");return p({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:m.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cms.OtherRevocationFormat,g.asn1.ASN1Object),g.asn1.cms.CMSUtil=new function(){},g.asn1.cms.CMSUtil.newSignedData=function(s){return new g.asn1.cms.SignedData(s)},g.asn1.cms.CMSUtil.verifySignedData=function(s){var w=J.getVbyList,x=J.getTLVbyList,y=J.getIdxbyList,I=J.getChildIdx,C=J.getTLV,R=J.oidname,P=g.crypto.Util.hashHex;void 0===s.cms&&(0,g.lang.String.isHex)(s.cms);var L=s.cms,Z=function($,K){var Y=K.idx;K.signerid_issuer1=x($,Y,[1,0],"30"),K.signerid_serial1=w($,Y,[1,1],"02"),K.hashalg=R(w($,Y,[2,0],"06"));var le=y($,Y,[3],"a0");K.idxSignedAttrs=le,_($,K,le);var fe=I($,Y).length;if(fe<6)throw"malformed SignerInfo";K.sigalg=R(w($,Y,[fe-2,0],"06")),K.sigval=w($,Y,[fe-1],"04")},_=function($,K,Y){var le=I($,Y);K.signedAttrIdxList=le;for(var he=0;he<le.length;he++){var Me,fe=le[he],me=w($,fe,[0],"06");"2a864886f70d010905"===me?(Me=Oe(w($,fe,[1,0])),K.saSigningTime=Me):"2a864886f70d010904"===me&&(Me=w($,fe,[1,0],"04"),K.saMessageDigest=Me)}},U=function($,K,Y,le){Y.verifyDetail={};var he=Y.verifyDetail,fe=K.parse.econtent,me=Y.hashalg,Me=Y.saMessageDigest;he.validMessageDigest=!1,P(fe,me)===Me&&(he.validMessageDigest=!0),function($,K,Y,le){var fe,he=K.parse.certsIdx;if(void 0===K.certs){fe=[],K.certkeys=[];for(var me=I($,he),Me=0;Me<me.length;Me++){var _e=C($,me[Me]),Ie=new ce;Ie.readCertHex(_e),fe[Me]=Ie,K.certkeys[Me]=Ie.getPublicKey()}K.certs=fe}else fe=K.certs;for(K.cccc=fe.length,K.cccci=me.length,Me=0;Me<fe.length;Me++){var mn=Ie.getIssuerHex(),vt=Ie.getSerialNumberHex();Y.signerid_issuer1===mn&&Y.signerid_serial1===vt&&(Y.certkey_idx=Me)}}($,K,Y),he.validSignatureValue=!1;var _e=Y.sigalg,Ie="31"+C($,Y.idxSignedAttrs).substr(2);Y.signedattrshex=Ie;var mn=K.certs[Y.certkey_idx].getPublicKey(),vt=new g.crypto.Signature({alg:_e});vt.init(mn),vt.updateHex(Ie);var yt=vt.verify(Y.sigval);he.validSignatureValue_isValid=yt,!0===yt&&(he.validSignatureValue=!0),Y.isValid=!1,he.validMessageDigest&&he.validSignatureValue&&(Y.isValid=!0)},V={isValid:!1,parse:{}};return function($,K){if("2a864886f70d010702"!==w($,0,[0],"06"))return K;K.cmsType="signedData",K.econtent=w($,0,[1,0,2,1,0]),function($,K){for(var Y,le=3;le<6;le++)if(void 0!==(Y=y($,0,[1,0,le]))){var he=$.substr(Y,2);"a0"===he&&(K.certsIdx=Y),"a1"===he&&(K.revinfosIdx=Y),"31"===he&&(K.signerinfosIdx=Y)}}($,K),K.signerInfos=[],function($,K){var Y=K.signerinfosIdx;if(void 0!==Y){var le=I($,Y);K.signerInfoIdxList=le;for(var he=0;he<le.length;he++){var me={idx:le[he]};Z($,me),K.signerInfos.push(me)}}}($,K)}(L,V.parse),function($,K){for(var Y=K.parse.signerInfos,le=Y.length,he=!0,fe=0;fe<le;fe++){var me=Y[fe];U($,K,me),me.isValid||(he=!1)}K.isValid=he}(L,V),V},g.asn1.cms.CMSParser=function(){var s=Error,c=ce,u=new c,l=J,p=l.getV,h=l.getTLV,v=l.getTLVbyList,S=l.getTLVbyListEx,b=l.getVbyList,T=l.getVbyListEx,F=l.getChildIdx;this.getCMSSignedData=function(E){var w=v(E,0,[1,0]);return this.getSignedData(w)},this.getSignedData=function(E){var w=F(E,0),x={},y=p(E,w[0]),I=parseInt(y,16);x.version=I;var C=h(E,w[1]);x.hashalgs=this.getHashAlgArray(C);var R=h(E,w[2]);x.econtent=this.getEContent(R);var P=S(E,0,["[0]"]);null!=P&&(x.certs=this.getCertificateSet(P)),S(E,0,["[1]"]);var O=S(E,0,[3]);return x.sinfos=this.getSignerInfos(O),x},this.getHashAlgArray=function(E){for(var w=F(E,0),x=new c,y=[],I=0;I<w.length;I++){var C=h(E,w[I]),R=x.getAlgorithmIdentifierName(C);y.push(R)}return y},this.getEContent=function(E){var w={},x=b(E,0,[0]),y=b(E,0,[1,0]);return w.type=g.asn1.x509.OID.oid2name(J.hextooidstr(x)),w.content={hex:y},w},this.getSignerInfos=function(E){for(var w=[],x=F(E,0),y=0;y<x.length;y++){var I=h(E,x[y]),C=this.getSignerInfo(I);w.push(C)}return w},this.getSignerInfo=function(E){var w={},x=F(E,0),y=l.getInt(E,x[0],-1);-1!=y&&(w.version=y);var I=h(E,x[1]),C=this.getIssuerAndSerialNumber(I);w.id=C;var R=h(E,x[2]),P=u.getAlgorithmIdentifierName(R);w.hashalg=P;var L=S(E,0,["[0]"]);if(null!=L){var O=this.getAttributeList(L);w.sattrs=O}var G=S(E,0,[3]),Z=u.getAlgorithmIdentifierName(G);w.sigalg=Z;var _=T(E,0,[4]);w.sighex=_;var M=S(E,0,["[1]"]);if(null!=M){var k=this.getAttributeList(M);w.uattrs=k}return w},this.getSignerIdentifier=function(E){if("30"==E.substr(0,2))return this.getIssuerAndSerialNumber(E);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(E){var w={type:"isssn"},x=F(E,0),y=h(E,x[0]);w.issuer=u.getX500Name(y);var I=p(E,x[1]);return w.serial={hex:I},w},this.getAttributeList=function(E){for(var w=[],x=F(E,0),y=0;y<x.length;y++){var I=h(E,x[y]),C=this.getAttribute(I);w.push(C)}return{array:w}},this.getAttribute=function(E){var w={},x=F(E,0),y=l.getOID(E,x[0]),I=g.asn1.x509.OID.oid2name(y);w.attr=I;var C=h(E,x[1]),R=F(C,0);if(1==R.length)w.valhex=h(C,R[0]);else{for(var P=[],L=0;L<R.length;L++)P.push(h(C,R[L]));w.valhex=P}return"contentType"==I?this.setContentType(w):"messageDigest"==I?this.setMessageDigest(w):"signingTime"==I?this.setSigningTime(w):"signingCertificate"==I?this.setSigningCertificate(w):"signingCertificateV2"==I?this.setSigningCertificateV2(w):"signaturePolicyIdentifier"==I&&this.setSignaturePolicyIdentifier(w),w},this.setContentType=function(E){var w=l.getOIDName(E.valhex,0,null);null!=w&&(E.type=w,delete E.valhex)},this.setSigningTime=function(E){var x=Oe(p(E.valhex,0));E.str=x,delete E.valhex},this.setMessageDigest=function(E){var w=p(E.valhex,0);E.hex=w,delete E.valhex},this.setSigningCertificate=function(E){var w=F(E.valhex,0);if(w.length>0){for(var x=h(E.valhex,w[0]),y=F(x,0),I=[],C=0;C<y.length;C++){var R=h(x,y[C]),P=this.getESSCertID(R);I.push(P)}E.array=I}if(w.length>1){var L=h(E.valhex,w[1]);E.polhex=L}delete E.valhex},this.setSignaturePolicyIdentifier=function(E){var w=F(E.valhex,0);if(w.length>0){var x=l.getOID(E.valhex,w[0]);E.oid=x}if(w.length>1){var y=new c,I=F(E.valhex,w[1]),C=h(E.valhex,I[0]),R=y.getAlgorithmIdentifierName(C);E.alg=R;var P=p(E.valhex,I[1]);E.hash=P}delete E.valhex},this.setSigningCertificateV2=function(E){var w=F(E.valhex,0);if(w.length>0){for(var x=h(E.valhex,w[0]),y=F(x,0),I=[],C=0;C<y.length;C++){var R=h(x,y[C]),P=this.getESSCertIDv2(R);I.push(P)}E.array=I}if(w.length>1){var L=h(E.valhex,w[1]);E.polhex=L}delete E.valhex},this.getESSCertID=function(E){var w={},x=F(E,0);if(x.length>0){var y=p(E,x[0]);w.hash=y}if(x.length>1){var I=h(E,x[1]),C=this.getIssuerSerial(I);null!=C.serial&&(w.serial=C.serial),null!=C.issuer&&(w.issuer=C.issuer)}return w},this.getESSCertIDv2=function(E){var w={},x=F(E,0);if(x.length<1||3<x.length)throw new s("wrong number of elements");var y=0;if("30"==E.substr(x[0],2)){var I=h(E,x[0]);w.alg=u.getAlgorithmIdentifierName(I),y++}else w.alg="sha256";var C=p(E,x[y]);if(w.hash=C,x.length>y+1){var R=h(E,x[y+1]),P=this.getIssuerSerial(R);w.issuer=P.issuer,w.serial=P.serial}return w},this.getIssuerSerial=function(E){var w={},x=F(E,0),y=h(E,x[0]),I=u.getGeneralNames(y);w.issuer=I[0].dn;var R=p(E,x[1]);return w.serial={hex:R},w},this.getCertificateSet=function(E){for(var w=F(E,0),x=[],y=0;y<w.length;y++){var I=h(E,w[y]);if("30"==I.substr(0,2)){var C=Ft(I,"CERTIFICATE");x.push(C)}}return{array:x,sortflag:!1}}},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.tsp>"u"||!g.asn1.tsp)&&(g.asn1.tsp={}),g.asn1.tsp.TimeStampToken=function(s){var l=g.asn1.tsp;l.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var p=new l.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=p.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.tsp.TimeStampToken,g.asn1.cms.SignedData),g.asn1.tsp.TSTInfo=function(s){Error;var l=g.asn1,p=l.DERSequence,h=l.DERInteger,m=l.DERBoolean,v=l.DERGeneralizedTime,S=l.DERObjectIdentifier,b=l.DERTaggedObject,T=l.tsp,F=T.MessageImprint,E=T.Accuracy,x=l.x509.GeneralName;if(T.TSTInfo.superclass.constructor.call(this),this.dVersion=new h({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var y=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(y.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(y.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(y.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");y.push(this.dGenTime),null!=this.dAccuracy&&y.push(this.dAccuracy),null!=this.dOrdering&&y.push(this.dOrdering),null!=this.dNonce&&y.push(this.dNonce),null!=this.dTsa&&y.push(this.dTsa);var I=new p({array:y});return this.hTLV=I.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s){if("string"==typeof s.policy){if(!s.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new S({oid:s.policy})}void 0!==s.messageImprint&&(this.dMessageImprint=new F(s.messageImprint)),void 0!==s.serial&&(this.dSerial=new h(s.serial)),void 0!==s.genTime&&(this.dGenTime=new v(s.genTime)),void 0!==s.accuracy&&(this.dAccuracy=new E(s.accuracy)),void 0!==s.ordering&&1==s.ordering&&(this.dOrdering=new m),void 0!==s.nonce&&(this.dNonce=new h(s.nonce)),void 0!==s.tsa&&(this.dTsa=new b({tag:"a0",explicit:!0,obj:new x({dn:s.tsa})}))}},ee(g.asn1.tsp.TSTInfo,g.asn1.ASN1Object),g.asn1.tsp.Accuracy=function(s){var u=g.asn1,l=u.ASN1Util.newObject;u.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var p=this.params,h=[];return null!=p.seconds&&"number"==typeof p.seconds&&h.push({int:p.seconds}),null!=p.millis&&"number"==typeof p.millis&&h.push({tag:{tagi:"80",obj:{int:p.millis}}}),null!=p.micros&&"number"==typeof p.micros&&h.push({tag:{tagi:"81",obj:{int:p.micros}}}),l({seq:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.tsp.Accuracy,g.asn1.ASN1Object),g.asn1.tsp.MessageImprint=function(s){var u=g.asn1,l=u.DERSequence,p=u.DEROctetString,m=u.x509.AlgorithmIdentifier;u.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,S=new m({name:v.alg}),b=new p({hex:v.hash});return new l({array:[S,b]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.tsp.MessageImprint,g.asn1.ASN1Object),g.asn1.tsp.TimeStampReq=function(s){var u=g.asn1,l=u.DERSequence,p=u.DERInteger,h=u.DERBoolean,v=u.DERObjectIdentifier,S=u.tsp,b=S.MessageImprint;S.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var T=this.params,F=[];return F.push(new p({int:1})),F.push(T.messageImprint instanceof g.asn1.ASN1Object?T.messageImprint:new b(T.messageImprint)),null!=T.policy&&F.push(new v(T.policy)),null!=T.nonce&&F.push(new p(T.nonce)),1==T.certreq&&F.push(new h),new l({array:F}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.tsp.TimeStampReq,g.asn1.ASN1Object),g.asn1.tsp.TimeStampResp=function(s){var u=g.asn1,l=u.DERSequence,h=u.tsp,m=h.PKIStatusInfo;h.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,S=[];if(null!=v.econtent||null!=v.tst)if(S.push(new m(null!=v.statusinfo?v.statusinfo:"granted")),null!=v.econtent)S.push(new h.TimeStampToken(v).getContentInfo());else{if(!(v.tst instanceof u.ASN1Object))throw new Error("improper member tst value");S.push(v.tst)}else{if(null==v.statusinfo)throw new Error("parameter for token nor statusinfo not specified");S.push(new m(v.statusinfo))}return new l({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.tsp.TimeStampResp,g.asn1.ASN1Object),g.asn1.tsp.PKIStatusInfo=function(s){var c=Error,l=g.asn1,p=l.DERSequence,h=l.tsp,m=h.PKIStatus,v=h.PKIFreeText,S=h.PKIFailureInfo;h.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var b=this.params,T=[];if("string"==typeof b)T.push(new m(b));else{if(null==b.status)throw new c("property 'status' unspecified");T.push(new m(b.status)),null!=b.statusstr&&T.push(new v(b.statusstr)),null!=b.failinfo&&T.push(new S(b.failinfo))}return new p({array:T}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.tsp.PKIStatusInfo,g.asn1.ASN1Object),g.asn1.tsp.PKIStatus=function(s){var c=Error,l=g.asn1,p=l.DERInteger;l.tsp.PKIStatus.superclass.constructor.call(this);var m={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var b,v=this.params;if("string"==typeof v)try{b=m[v]}catch{throw new c("undefined name: "+v)}else{if("number"!=typeof v)throw new c("unsupported params");b=v}return new p({int:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.tsp.PKIStatus,g.asn1.ASN1Object),g.asn1.tsp.PKIFreeText=function(s){var c=Error,l=g.asn1,p=l.DERSequence,h=l.DERUTF8String;l.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params;if(!v instanceof Array)throw new c("wrong params: not array");for(var S=[],b=0;b<v.length;b++)S.push(new h({str:v[b]}));return new p({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.tsp.PKIFreeText,g.asn1.ASN1Object),g.asn1.tsp.PKIFailureInfo=function(s){var c=Error,l=g.asn1,p=l.DERBitString,v={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};l.tsp.PKIFailureInfo.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var S=this.params,b=0;if("number"==typeof S&&0<=S&&S<=25){for(var T=(b|=1<<S).toString(2),F="",E=T.length-1;E>=0;E--)F+=T[E];return F}if("string"==typeof S&&null!=v[S])return Yi([S],v);if("object"==typeof S&&null!=S.length)return Yi(S,v);throw new c("wrong params")},this.tohex=function(){var b=this.getBinValue();return new p({bin:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.tsp.PKIFailureInfo,g.asn1.ASN1Object),g.asn1.tsp.AbstractTSAAdapter=function(s){this.getTSTHex=function(c,u){throw"not implemented yet"}},g.asn1.tsp.SimpleTSAAdapter=function(s){var l=g.asn1.tsp,p=g.crypto.Util.hashHex;l.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(h,m){var v=p(h,m);this.params.econtent.content.messageImprint={alg:m,hash:v},this.params.econtent.content.serial={int:this.serial++};var S=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:S},new l.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==s&&(this.params=s)},ee(g.asn1.tsp.SimpleTSAAdapter,g.asn1.tsp.AbstractTSAAdapter),g.asn1.tsp.FixedTSAAdapter=function(s){var l=g.asn1.tsp,p=g.crypto.Util.hashHex;l.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(h,m){var v=p(h,m);return this.params.econtent.content.messageImprint={alg:m,hash:v},new l.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==s&&(this.params=s)},ee(g.asn1.tsp.FixedTSAAdapter,g.asn1.tsp.AbstractTSAAdapter),g.asn1.tsp.TSPUtil=new function(){},g.asn1.tsp.TSPUtil.newTimeStampToken=function(s){return new g.asn1.tsp.TimeStampToken(s)},g.asn1.tsp.TSPUtil.parseTimeStampReq=function(s){return(new g.asn1.tsp.TSPParser).getTimeStampReq(s)},g.asn1.tsp.TSPUtil.parseMessageImprint=function(s){return(new g.asn1.tsp.TSPParser).getMessageImprint(s)},g.asn1.tsp.TSPParser=function(){Error;var u=new ce,l=J,p=l.getV,h=l.getTLV,m=l.getIdxbyList,S=l.getChildIdx,b=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],T={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(F){var E=S(F,0);if(1==E.length)return this.getPKIStatusInfo(h(F,E[0]));if(E.length>1){var w=this.getPKIStatusInfo(h(F,E[0])),x=h(F,E[1]),y=this.getToken(x);return y.statusinfo=w,y}},this.getToken=function(F){var w=(new g.asn1.cms.CMSParser).getCMSSignedData(F);return this.setTSTInfo(w),w},this.setTSTInfo=function(F){var E=F.econtent;if("tstinfo"==E.type){var x=this.getTSTInfo(E.content.hex);E.content=x}},this.getTSTInfo=function(F){var E={},w=S(F,0),x=p(F,w[1]);E.policy=Xi(x);var y=h(F,w[2]);E.messageImprint=this.getMessageImprint(y);var I=p(F,w[3]);E.serial={hex:I};var C=p(F,w[4]);E.genTime={str:Oe(C)};var R=0;if(w.length>5&&"30"==F.substr(w[5],2)){var P=h(F,w[5]);E.accuracy=this.getAccuracy(P),R++}if(w.length>5+R&&"01"==F.substr(w[5+R],2)&&("ff"==p(F,w[5+R])&&(E.ordering=!0),R++),w.length>5+R&&"02"==F.substr(w[5+R],2)){var O=p(F,w[5+R]);E.nonce={hex:O},R++}if(w.length>5+R&&"a0"==F.substr(w[5+R],2)){var G=h(F,w[5+R]);G="30"+G.substr(2),pGeneralNames=u.getGeneralNames(G);var Z=pGeneralNames[0].dn;E.tsa=Z,R++}if(w.length>5+R&&"a1"==F.substr(w[5+R],2)){var _=h(F,w[5+R]);_="30"+_.substr(2);var M=u.getExtParamArray(_);E.ext=M,R++}return E},this.getAccuracy=function(F){for(var E={},w=S(F,0),x=0;x<w.length;x++){var y=F.substr(w[x],2),I=p(F,w[x]),C=parseInt(I,16);"02"==y?E.seconds=C:"80"==y?E.millis=C:"81"==y&&(E.micros=C)}return E},this.getMessageImprint=function(F){if("30"!=F.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var E={},x=(S(F,0),m(F,0,[0,0])),y=p(F,x),I=l.hextooidstr(y),C=g.asn1.x509.OID.oid2name(I);if(""==C)throw new Error("hashAlg name undefined: "+I);var R=C,P=m(F,0,[1]);return E.alg=R,E.hash=p(F,P),E},this.getPKIStatusInfo=function(F){var E={},w=S(F,0),x=0;try{var y=p(F,w[0]),I=parseInt(y,16);E.status=b[I]}catch{}if(w.length>1&&"30"==F.substr(w[1],2)){var C=h(F,w[1]);E.statusstr=this.getPKIFreeText(C),x++}if(w.length>x&&"03"==F.substr(w[1+x],2)){var R=h(F,w[1+x]);E.failinfo=this.getPKIFailureInfo(R)}return E},this.getPKIFreeText=function(F){for(var E=[],w=S(F,0),x=0;x<w.length;x++)E.push(l.getString(F,w[x]));return E},this.getPKIFailureInfo=function(F){var E=l.getInt(F,0);return null!=T[E]?T[E]:E},this.getTimeStampReq=function(F){var E={certreq:!1},w=S(F,0);if(w.length<2)throw new Error("TimeStampReq must have at least 2 items");var x=h(F,w[1]);E.messageImprint=g.asn1.tsp.TSPUtil.parseMessageImprint(x);for(var y=2;y<w.length;y++){var I=w[y],C=F.substr(I,2);if("06"==C){var R=p(F,I);E.policy=l.hextooidstr(R)}"02"==C&&(E.nonce=p(F,I)),"01"==C&&(E.certreq=!0)}return E}},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.cades>"u"||!g.asn1.cades)&&(g.asn1.cades={}),g.asn1.cades.SignaturePolicyIdentifier=function(s){var l=g.asn1.cades,p=l.SignaturePolicyId;l.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new p(this.params)]},this.setByParam=function(h){this.params=h},null!=s&&this.setByParam(s)},ee(g.asn1.cades.SignaturePolicyIdentifier,g.asn1.cms.Attribute),g.asn1.cades.SignaturePolicyId=function(s){var u=g.asn1,l=u.DERSequence,p=u.DERObjectIdentifier,v=u.cades,b=v.OtherHashAlgAndValue;v.SignaturePolicyId.superclass.constructor.call(this),this.params=null,this.tohex=function(){var T=this.params,F=[];return F.push(new p(T.oid)),F.push(new b(T)),new l({array:F}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(T){this.params=T},null!=s&&this.setByParam(s)},ee(g.asn1.cades.SignaturePolicyId,g.asn1.ASN1Object),g.asn1.cades.OtherHashAlgAndValue=function(s){var c=Error,l=g.asn1,p=l.DERSequence,h=l.DEROctetString,v=l.x509.AlgorithmIdentifier;l.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var T=this.params;if(null==T.alg)throw new c("property 'alg' not specified");if(null==T.hash&&null==T.cert)throw new c("property 'hash' nor 'cert' not specified");var F=null;if(null!=T.hash)F=T.hash;else if(null!=T.cert){if("string"!=typeof T.cert)throw new c("cert not string");var E=T.cert;-1!=T.cert.indexOf("-----BEGIN")&&(E=Ve(T.cert)),F=g.crypto.Util.hashHex(E,T.alg)}var w=[];return w.push(new v({name:T.alg})),w.push(new h({hex:F})),new p({array:w}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cades.OtherHashAlgAndValue,g.asn1.ASN1Object),g.asn1.cades.OtherHashValue=function(s){g.asn1.cades.OtherHashValue.superclass.constructor.call(this);var c=Error,h=g.asn1.DEROctetString;this.params=null,this.tohex=function(){var v=this.params;if(null==v.hash&&null==v.cert)throw new c("hash or cert not specified");var S=null;if(null!=v.hash)S=v.hash;else if(null!=v.cert){if("string"!=typeof v.cert)throw new c("cert not string");var b=v.cert;-1!=v.cert.indexOf("-----BEGIN")&&(b=Ve(v.cert)),S=g.crypto.Util.hashHex(b,"sha1")}return new h({hex:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cades.OtherHashValue,g.asn1.ASN1Object),g.asn1.cades.SignatureTimeStamp=function(s){var c=Error,l=g.lang.String.isHex,p=g.asn1,h=p.ASN1Object;p.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var S=this.params;if(null!=S.tst){if(l(S.tst))return(b=new h).hTLV=S.tst,[b];if(S.tst instanceof h)return[S.tst];throw new c("params.tst has wrong value")}if(null!=S.res){var b,T=S.res;if(T instanceof h&&(T=T.tohex()),"string"!=typeof T||!l(T))throw new c("params.res has wrong value");return J.getTLVbyList(T,0,[1]),(b=new h).hTLV=S.tst,[b]}},null!=s&&this.setByParam(s)},ee(g.asn1.cades.SignatureTimeStamp,g.asn1.cms.Attribute),g.asn1.cades.CompleteCertificateRefs=function(s){var c=Error,l=g.asn1,p=l.DERSequence,h=l.cades,m=h.OtherCertID,v=g.lang.String.isHex;h.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var S=this.params,b=[],T=0;T<S.array.length;T++){var F=S.array[T];if("string"==typeof F)if(-1!=F.indexOf("-----BEGIN"))F={cert:F};else{if(!v(F))throw new c("unsupported value: "+F);F={hash:F}}null!=S.alg&&null==F.alg&&(F.alg=S.alg),null!=S.hasis&&null==F.hasis&&(F.hasis=S.hasis);var E=new m(F);b.push(E)}return[new p({array:b})]},null!=s&&this.setByParam(s)},ee(g.asn1.cades.CompleteCertificateRefs,g.asn1.cms.Attribute),g.asn1.cades.OtherCertID=function(s){var u=g.asn1,l=u.DERSequence,h=u.cms.IssuerSerial,m=u.cades,v=m.OtherHashValue,S=m.OtherHashAlgAndValue;m.OtherCertID.superclass.constructor.call(this),this.params=s,this.tohex=function(){var b=this.params;"string"==typeof b&&(-1!=b.indexOf("-----BEGIN")?b={cert:b}:_isHex(b)&&(b={hash:b}));var F,T=[];if(F=null!=b.alg?new S(b):new v(b),T.push(F),null!=b.cert&&1==b.hasis||null!=b.issuer&&null!=b.serial){var E=new h(b);T.push(E)}return new l({array:T}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cades.OtherCertID,g.asn1.ASN1Object),g.asn1.cades.OtherHash=function(s){Error;var h=g.asn1.cades,m=h.OtherHashAlgAndValue,v=h.OtherHashValue,b=g.lang.String.isHex;h.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var T=this.params;return"string"==typeof T&&(-1!=T.indexOf("-----BEGIN")?T={cert:T}:b(T)&&(T={hash:T})),(null!=T.alg?new m(T):new v(T)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.cades.OtherHash,g.asn1.ASN1Object),g.asn1.cades.CAdESUtil=new function(){},g.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(s){return(new g.asn1.cms.CMSParser).getCMSSignedData(s)},g.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(s,c,u){var h=J.getTLV,m=J.getV,S=g.asn1,b=S.ASN1Object,T=S.cms,F=T.AttributeList,E=T.SignerInfo,w={},x=(0,J.getChildIdx)(s,c);if(6!=x.length)throw"not supported items for SignerInfo (!=6)";var y=x.shift();w.version=h(s,y);var I=x.shift();w.si=h(s,I);var C=x.shift();w.digalg=h(s,C);var R=x.shift();w.sattrs=h(s,R);var P=x.shift();w.sigalg=h(s,P);var L=x.shift();w.sig=h(s,L),w.sigval=m(s,L);var O=null;return w.obj=new E,(O=new b).hTLV=w.version,w.obj.dCMSVersion=O,(O=new b).hTLV=w.si,w.obj.dSignerIdentifier=O,(O=new b).hTLV=w.digalg,w.obj.dDigestAlgorithm=O,(O=new b).hTLV=w.sattrs,w.obj.dSignedAttrs=O,(O=new b).hTLV=w.sigalg,w.obj.dSigAlg=O,(O=new b).hTLV=w.sig,w.obj.dSig=O,w.obj.dUnsignedAttrs=new F,w},(typeof g.asn1.csr>"u"||!g.asn1.csr)&&(g.asn1.csr={}),g.asn1.csr.CertificationRequest=function(s){var u=g.asn1,l=u.DERBitString,p=u.DERSequence,h=u.csr,v=h.CertificationRequestInfo;h.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(S){this.params=S},this.sign=function(){var S=new v(this.params).tohex(),b=new g.crypto.Signature({alg:this.params.sigalg});b.init(this.params.sbjprvkey),b.updateHex(S);var T=b.sign();this.params.sighex=T},this.getPEM=function(){return Ft(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var S=this.params,b=new g.asn1.csr.CertificationRequestInfo(this.params),T=new g.asn1.x509.AlgorithmIdentifier({name:S.sigalg});if(null==S.sighex&&null!=S.sbjprvkey&&this.sign(),null==S.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var F=new l({hex:"00"+S.sighex});return new p({array:[b,T,F]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.csr.CertificationRequest,g.asn1.ASN1Object),g.asn1.csr.CertificationRequestInfo=function(s){var u=g.asn1,p=u.DERSequence,h=u.DERInteger,m=u.DERUTF8String,v=u.DERTaggedObject,S=u.ASN1Util.newObject,T=u.x509,F=T.X500Name,E=T.Extensions,w=T.SubjectPublicKeyInfo;u.csr.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(I){null!=I&&(this.params=I)},this.tohex=function(){var I=this.params,C=[];if(C.push(new h({int:0})),C.push(new F(I.subject)),C.push(new w(Re.getKey(I.sbjpubkey))),null!=I.attrs){var R=function y(I){for(var C=Error,R=g.asn1.x509.Extensions,P=[],L=0;L<I.length;L++){var O=I[L],G=O.attr;if("extensionRequest"==G){var Z=new R(O.ext);P.push({seq:[{oid:"1.2.840.113549.1.9.14"},{set:[Z]}]})}else if("unstructuredName"==G)P.push({seq:[{oid:"1.2.840.113549.1.9.2"},{set:O.names}]});else{if("challengePassword"!=G)throw new C("unknown CSR attribute");P.push({seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:O.password}]}]})}}return{set:P}}(I.attrs),P=S({tag:{tage:"a0",obj:R}});C.push(P)}else if(null!=I.extreq){var L=new E(I.extreq);P=S({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[L]}]}}}),C.push(P)}else C.push(new v({tag:"a0",explicit:!1,obj:new m({str:""})}));return new p({array:C}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=s&&this.setByParam(s)},ee(g.asn1.csr.CertificationRequestInfo,g.asn1.ASN1Object),g.asn1.csr.AttributeList=function(s){},ee(g.asn1.csr.AttributeList,g.asn1.ASN1Object),g.asn1.csr.CSRUtil=new function(){},g.asn1.csr.CSRUtil.newCSRPEM=function(s){return new g.asn1.csr.CertificationRequest(s).getPEM()},g.asn1.csr.CSRUtil.getParam=function(s,c){var l=J.getV,p=J.getIdxbyList,h=J.getTLVbyList,m=J.getTLVbyListEx,v=J.getVbyListEx,b={};if(-1==s.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var T=Ve(s,"CERTIFICATE REQUEST");c&&(b.tbs=h(T,0,[0]));try{var F=m(T,0,[0,1]);if("3000"==F)b.subject={};else{var y=new ce;b.subject=y.getX500Name(F)}}catch{}var E=m(T,0,[0,2]),w=Re.getKey(E,null,"pkcs8pub");b.sbjpubkey=Re.getPEM(w,"PKCS8PUB");var R,P,x=(P=p(R=T,0,[0,3,0,0],"06"),"2a864886f70d01090e"!=l(R,P)?null:h(R,0,[0,3,0,1,0],"30"));y=new ce,null!=x&&(b.extreq=y.getExtParamArray(x));try{var I=m(T,0,[1],"30");y=new ce,b.sigalg=y.getAlgorithmIdentifierName(I)}catch{}try{var C=v(T,0,[2]);b.sighex=C}catch{}return b},g.asn1.csr.CSRUtil.verifySignature=function(s){try{var c=null;if("string"==typeof s&&-1!=s.indexOf("-----BEGIN CERTIFICATE REQUEST")?c=g.asn1.csr.CSRUtil.getParam(s,!0):"object"==typeof s&&null!=s.sbjpubkey&&null!=s.sigalg&&null!=s.sighex&&null!=s.tbs&&(c=s),null==c)return!1;var u=new g.crypto.Signature({alg:c.sigalg});return u.init(c.sbjpubkey),u.updateHex(c.tbs),u.verify(c.sighex)}catch(l){return alert(l),!1}},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.ocsp>"u"||!g.asn1.ocsp)&&(g.asn1.ocsp={}),g.asn1.ocsp.DEFAULT_HASH="sha1",g.asn1.ocsp.OCSPResponse=function(s){g.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);var u=g.asn1.ASN1Util.newObject,l=g.asn1.ocsp.ResponseBytes,p=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var h=this.params.resstatus;return"number"==typeof h?h:"string"!=typeof h?-1:p.indexOf(h)},this.setByParam=function(h){this.params=h},this.tohex=function(){var h=this.params,m=this._getStatusCode();if(-1==m)throw new Error("responseStatus not supported: "+h.resstatus);if(0!=m)return u({seq:[{enum:{int:m}}]}).tohex();var v=new l(h);return u({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:v}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.ocsp.OCSPResponse,g.asn1.ASN1Object),g.asn1.ocsp.ResponseBytes=function(s){g.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var c=g.asn1,u=c.DERSequence,l=c.DERObjectIdentifier,p=c.DEROctetString,h=c.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(m){this.params=m},this.tohex=function(){var m=this.params;if("ocspBasic"!=m.restype)throw new Error("not supported responseType: "+m.restype);var v=new h(m),S=[];return S.push(new l({name:"ocspBasic"})),S.push(new p({hex:v.tohex()})),new u({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.ocsp.ResponseBytes,g.asn1.ASN1Object),g.asn1.ocsp.BasicOCSPResponse=function(s){g.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var c=Error,u=g.asn1,l=u.ASN1Object,p=u.DERSequence,m=u.DERTaggedObject,v=u.DERBitString,b=u.x509.AlgorithmIdentifier,T=u.ocsp;_SingleResponseList=T.SingleResponseList,_ResponseData=T.ResponseData,this.params=null,this.setByParam=function(E){this.params=E},this.sign=function(){var E=this.params,w=E.tbsresp.tohex(),x=new g.crypto.Signature({alg:E.sigalg});x.init(E.reskey),x.updateHex(w),E.sighex=x.sign()},this.tohex=function(){var E=this.params;null==E.tbsresp&&(E.tbsresp=new _ResponseData(E)),null==E.sighex&&null!=E.reskey&&this.sign();var w=[];if(w.push(E.tbsresp),w.push(new b({name:E.sigalg})),w.push(new v({hex:"00"+E.sighex})),null!=E.certs&&null!=E.certs.length){for(var x=[],y=0;y<E.certs.length;y++){var I=E.certs[y],C=null;if(J.isASN1HEX(I))C=I;else{if(!I.match(/-----BEGIN/))throw new c("certs["+y+"] not hex or PEM");C=Ve(I)}x.push(new l({tlv:C}))}var R=new p({array:x});w.push(new m({tag:"a0",explicit:!0,obj:R}))}return new p({array:w}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.ocsp.BasicOCSPResponse,g.asn1.ASN1Object),g.asn1.ocsp.ResponseData=function(s){g.asn1.ocsp.ResponseData.superclass.constructor.call(this);var c=Error,u=g.asn1,l=u.DERSequence,p=u.DERGeneralizedTime,h=u.DERTaggedObject,m=u.x509.Extensions,v=u.ocsp,S=v.ResponderID;_SingleResponseList=v.SingleResponseList,this.params=null,this.tohex=function(){var b=this.params;null!=b.respid&&new c("respid not specified"),null!=b.prodat&&new c("prodat not specified"),null!=b.array&&new c("array not specified");var T=[];if(T.push(new S(b.respid)),T.push(new p(b.prodat)),T.push(new _SingleResponseList(b.array)),null!=b.ext){var F=new m(b.ext);T.push(new h({tag:"a1",explicit:!0,obj:F}))}return new l({array:T}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(b){this.params=b},void 0!==s&&this.setByParam(s)},ee(g.asn1.ocsp.ResponseData,g.asn1.ASN1Object),g.asn1.ocsp.ResponderID=function(s){g.asn1.ocsp.ResponderID.superclass.constructor.call(this);var u=g.asn1,l=u.ASN1Util.newObject,p=u.x509.X500Name,h=g.lang.String.isHex,m=Error;this.params=null,this.tohex=function(){var v=this.params;if(null!=v.key){var S=null;if("string"==typeof v.key)h(v.key)&&(S=v.key),v.key.match(/-----BEGIN CERTIFICATE/)&&null!=(T=new ce(v.key).getExtSubjectKeyIdentifier())&&(S=T.kid.hex);else if(v.key instanceof ce){var T;null!=(T=v.key.getExtSubjectKeyIdentifier())&&(S=T.kid.hex)}if(null==S)throw new m("wrong key member value");return l({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:S}}}}).tohex()}if(null!=v.name){var E=null;if("string"==typeof v.name&&v.name.match(/-----BEGIN CERTIFICATE/)?E=new ce(v.name).getSubject():v.name instanceof ce?E=v.name.getSubject():"object"==typeof v.name&&(null!=v.name.array||null!=v.name.str)&&(E=v.name),null==E)throw new m("wrong name member value");return l({tag:{tag:"a1",explicit:!0,obj:new p(E)}}).tohex()}throw new m("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},void 0!==s&&this.setByParam(s)},ee(g.asn1.ocsp.ResponderID,g.asn1.ASN1Object),g.asn1.ocsp.SingleResponseList=function(s){g.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var c=g.asn1,u=c.DERSequence,l=c.ocsp.SingleResponse;this.params=null,this.tohex=function(){var p=this.params;if("object"!=typeof p||null==p.length)throw new Error("params not specified properly");for(var h=[],m=0;m<p.length;m++)h.push(new l(p[m]));return new u({array:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(p){this.params=p},void 0!==s&&this.setByParam(s)},ee(g.asn1.ocsp.SingleResponseList,g.asn1.ASN1Object),g.asn1.ocsp.SingleResponse=function(s){var c=Error,l=g.asn1,p=l.DERSequence,h=l.DERGeneralizedTime,m=l.DERTaggedObject,v=l.ocsp,S=v.CertID,b=v.CertStatus,F=l.x509.Extensions;v.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var E=this.params,w=[];if(null==E.certid)throw new c("certid unspecified");if(null==E.status)throw new c("status unspecified");if(null==E.thisupdate)throw new c("thisupdate unspecified");if(w.push(new S(E.certid)),w.push(new b(E.status)),w.push(new h(E.thisupdate)),null!=E.nextupdate){var x=new h(E.nextupdate);w.push(new m({tag:"a0",explicit:!0,obj:x}))}if(null!=E.ext){var y=new F(E.ext);w.push(new m({tag:"a1",explicit:!0,obj:y}))}return new p({array:w}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(E){this.params=E},void 0!==s&&this.setByParam(s)},ee(g.asn1.ocsp.SingleResponse,g.asn1.ASN1Object),g.asn1.ocsp.CertID=function(s){var u=g.asn1,l=u.DEROctetString,p=u.DERInteger,h=u.DERSequence,v=u.x509.AlgorithmIdentifier,F=g.crypto.Util.hashHex,E=ce,x=J.getVbyList;u.ocsp.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(y,I,C,R){null==R&&(R=this.DEFAULT_HASH),this.params={alg:R,issname:y,isskey:I,sbjsn:C}},this.setByCert=function(y,I,C){null==C&&(C=this.DEFAULT_HASH),this.params={alg:C,issuerCert:y,subjectCert:I}},this.getParamByCerts=function(y,I,C){null==C&&(C=this.DEFAULT_HASH);var R=new E(y),P=new E(I),L=F(R.getSubjectHex(),C),O=R.getPublicKeyHex();return{alg:C,issname:L,isskey:F(x(O,0,[1],"03",!0),C),sbjsn:P.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var I,C,R,P,y=this.params;if(P=null==y.alg?this.DEFAULT_HASH:y.alg,null!=y.issuerCert&&null!=y.subjectCert){var L=this.getParamByCerts(y.issuerCert,y.subjectCert,P);I=L.issname,C=L.isskey,R=L.sbjsn}else{if(null==y.issname||null==y.isskey||null==y.sbjsn)throw new Error("required param members not defined");I=y.issname,C=y.isskey,R=y.sbjsn}var O=new v({name:P}),G=new l({hex:I}),Z=new l({hex:C}),_=new p({hex:R}),M=new h({array:[O,G,Z,_]});return this.hTLV=M.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&this.setByParam(s)},ee(g.asn1.ocsp.CertID,g.asn1.ASN1Object),g.asn1.ocsp.CertStatus=function(s){g.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var c=this.params;if("good"==c.status)return"8000";if("unknown"==c.status)return"8200";if("revoked"==c.status){var u=[{gentime:{str:c.time}}];return null!=c.reason&&u.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:c.reason}}}}),g.asn1.ASN1Util.newObject({tag:{tag:"a1",explicit:!1,obj:{seq:u}}}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(c){this.params=c},void 0!==s&&this.setByParam(s)},ee(g.asn1.ocsp.CertStatus,g.asn1.ASN1Object),g.asn1.ocsp.Request=function(s){var u=g.asn1,l=u.DERSequence,p=u.ocsp;if(p.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var m=[];if(null===this.dReqCert)throw"reqCert not set";m.push(this.dReqCert);var v=new l({array:m});return this.hTLV=v.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},typeof s<"u"){var h=new p.CertID(s);this.dReqCert=h}},ee(g.asn1.ocsp.Request,g.asn1.ASN1Object),g.asn1.ocsp.TBSRequest=function(s){var u=g.asn1,l=u.DERSequence,p=u.ocsp;p.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(h){for(var m=[],v=0;v<h.length;v++){var S=new p.Request(h[0]);m.push(S)}this.dRequestList=m},this.tohex=function(){var h=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var m=new l({array:this.dRequestList});if(h.push(m),null!==this.dRequestExt)throw"requestExtensions not supported";var v=new l({array:h});return this.hTLV=v.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&void 0!==s.reqList&&this.setRequestListByParam(s.reqList)},ee(g.asn1.ocsp.TBSRequest,g.asn1.ASN1Object),g.asn1.ocsp.OCSPRequest=function(s){var u=g.asn1,l=u.DERSequence,p=u.ocsp;if(p.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var m=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(m.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var v=new l({array:m});return this.hTLV=v.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==s&&void 0!==s.reqList){var h=new p.TBSRequest(s);this.dTbsRequest=h}},ee(g.asn1.ocsp.OCSPRequest,g.asn1.ASN1Object),g.asn1.ocsp.OCSPUtil={},g.asn1.ocsp.OCSPUtil.getRequestHex=function(s,c,u){var h=g.asn1.ocsp;return void 0===u&&(u=h.DEFAULT_HASH),new h.OCSPRequest({reqList:[{alg:u,issuerCert:s,subjectCert:c}]}).tohex()},g.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(s){var u=J.getVbyList,l=J.getVbyListEx,p=J.getIdxbyList,m=J.getV,v={};try{var S=l(s,0,[0],"0a");v.responseStatus=parseInt(S,16)}catch{}if(0!==v.responseStatus)return v;try{var b=p(s,0,[1,0,1,0,0,2,0,1]);"80"===s.substr(b,2)?v.certStatus="good":"a1"===s.substr(b,2)?(v.certStatus="revoked",v.revocationTime=Oe(u(s,b,[0]))):"82"===s.substr(b,2)&&(v.certStatus="unknown")}catch{}try{var T=p(s,0,[1,0,1,0,0,2,0,2]);v.thisUpdate=Oe(m(s,T))}catch{}try{var F=p(s,0,[1,0,1,0,0,2,0,3]);"a0"===s.substr(F,2)&&(v.nextUpdate=Oe(u(s,F,[0])))}catch{}return v},g.asn1.ocsp.OCSPParser=function(){var s=Error,c=ce,u=new c,p=J.getV,h=J.getTLV,m=J.getIdxbyList,v=J.getVbyList,S=J.getTLVbyList,b=J.getVbyListEx,T=J.getTLVbyListEx,F=J.getChildIdx;this.getOCSPRequest=function(E){var w=F(E,0);if(1!=w.length&&2!=w.length)throw new s("wrong number elements: "+w.length);return this.getTBSRequest(h(E,w[0]))},this.getTBSRequest=function(E){var w={},x=T(E,0,[0],"30");w.array=this.getRequestList(x);var y=T(E,0,["[2]",0],"30");return null!=y&&(w.ext=u.getExtParamArray(y)),w},this.getRequestList=function(E){for(var w=[],x=F(E,0),y=0;y<x.length;y++)E=h(E,x[y]),w.push(this.getRequest(E));return w},this.getRequest=function(E){var w=F(E,0);if(1!=w.length&&2!=w.length)throw new s("wrong number elements: "+w.length);var x=this.getCertID(h(E,w[0]));if(2==w.length){var y=m(E,0,[1,0]);x.ext=u.getExtParamArray(h(E,y))}return x},this.getCertID=function(E){var w=F(E,0);if(4!=w.length)throw new s("wrong number elements: "+w.length);var x=new c,y={};return y.alg=x.getAlgorithmIdentifierName(h(E,w[0])),y.issname=p(E,w[1]),y.isskey=p(E,w[2]),y.sbjsn=p(E,w[3]),y},this.getOCSPResponse=function(E){var x,w=F(E,0),y=p(E,w[0]),I=parseInt(y);if(1==w.length)return{resstatus:I};var C=S(E,0,[1,0]);return(x=this.getResponseBytes(C)).resstatus=I,x},this.getResponseBytes=function(E){var x,w=F(E,0),y=S(E,0,[1,0]);x=this.getBasicOCSPResponse(y);var I=p(E,w[0]);return x.restype=g.asn1.x509.OID.oid2name(Xi(I)),x},this.getBasicOCSPResponse=function(E){var x,w=F(E,0);x=this.getResponseData(h(E,w[0]));var y=new ce;x.alg=y.getAlgorithmIdentifierName(h(E,w[1]));var I=p(E,w[2]);x.sighex=I.substr(2);var C=b(E,0,["[0]"]);if(null!=C){for(var R=F(C,0),P=[],L=0;L<R.length;L++){var O=h(C,R[L]);P.push(O)}x.certs=P}return x},this.getResponseData=function(E){var w=F(E,0),x=w.length,y={},I=0;"a0"==E.substr(w[0],2)&&I++,y.respid=this.getResponderID(h(E,w[I++]));var C=p(E,w[I++]);if(y.prodat=Oe(C),y.array=this.getSingleResponseList(h(E,w[I++])),"a1"==E.substr(w[x-1],2)){var R=S(E,w[x-1],[0]),P=new ce;y.ext=P.getExtParamArray(R)}return y},this.getResponderID=function(E){var w={};if("a2"==E.substr(0,2)){var x=v(E,0,[0]);w.key=x}if("a1"==E.substr(0,2)){var y=S(E,0,[0]),I=new ce;w.name=I.getX500Name(y)}return w},this.getSingleResponseList=function(E){for(var w=F(E,0),x=[],y=0;y<w.length;y++){var I=this.getSingleResponse(h(E,w[y]));x.push(I)}return x},this.getSingleResponse=function(E){var w=F(E,0),x={},y=this.getCertID(h(E,w[0]));x.certid=y;var I=this.getCertStatus(h(E,w[1]));if(x.status=I,"18"==E.substr(w[2],2)){var C=p(E,w[2]);x.thisupdate=Oe(C)}for(var R=3;R<w.length;R++){if("a0"==E.substr(w[R],2)){var P=v(E,w[R],[0],"18");x.nextupdate=Oe(P)}if("a1"==E.substr(w[R],2)){var L=new ce,O=S(E,0,[R,0]);x.ext=L.getExtParamArray(O)}}return x},this.getCertStatus=function(E){var w={};if("8000"==E)return{status:"good"};if("8200"==E)return{status:"unknown"};if("a1"==E.substr(0,2)){w.status="revoked";var y=Oe(v(E,0,[0]));w.time=y}return w}},(typeof g>"u"||!g)&&(g={}),(typeof g.lang>"u"||!g.lang)&&(g.lang={}),g.lang.String=function(){},"function"==typeof Buffer?(Jn=function(s){return si(Buffer.from(s,"utf8").toString("base64"))},pn=function(s){return Buffer.from($i(s),"base64").toString("utf8")}):(Jn=function(s){return ot(Qn(Zi(s)))},pn=function(s){return decodeURIComponent(oi(We(s)))}),g.lang.String.isInteger=function(s){return!!s.match(/^[0-9]+$/)||!!s.match(/^-[0-9]+$/)},g.lang.String.isHex=function(s){return wu(s)},g.lang.String.isBase64=function(s){return!(!(s=s.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||s.length%4!=0)},g.lang.String.isBase64URL=function(s){return!s.match(/[+/=]/)&&(s=$i(s),g.lang.String.isBase64(s))},g.lang.String.isIntegerArray=function(s){return!!(s=s.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},g.lang.String.isPrintable=function(s){return null!==s.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},g.lang.String.isIA5=function(s){return null!==s.match(/^[\x20-\x21\x23-\x7f]*$/)},g.lang.String.isMail=function(s){return null!==s.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Ji=function(s,c,u){return null==u&&(u="0"),s.length>=c?s:new Array(c-s.length+1).join(u)+s};function Yi(s,c){for(var u=0,l=0;l<s.length;l++)u|=1<<c[s[l]];var p=u.toString(2),h="";for(l=p.length-1;l>=0;l--)h+=p[l];return h}function Ge(s,l,u){if("object"==typeof s){l=String(l).split(".");for(var p=0;p<l.length&&s;p++){var h=l[p];h.match(/^[0-9]+$/)&&(h=parseInt(h)),s=s[h]}return s||!1===s?s:u}}function ee(s,c){var u=function(){};u.prototype=c.prototype,s.prototype=new u,s.prototype.constructor=s,s.superclass=c.prototype,c.prototype.constructor==Object.prototype.constructor&&(c.prototype.constructor=c)}(typeof g>"u"||!g)&&(g={}),(typeof g.crypto>"u"||!g.crypto)&&(g.crypto={}),g.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:ie.algo.MD5,sha1:ie.algo.SHA1,sha224:ie.algo.SHA224,sha256:ie.algo.SHA256,sha384:ie.algo.SHA384,sha512:ie.algo.SHA512,ripemd160:ie.algo.RIPEMD160},this.getDigestInfoHex=function(s,c){if(typeof this.DIGESTINFOHEAD[c]>"u")throw"alg not supported in Util.DIGESTINFOHEAD: "+c;return this.DIGESTINFOHEAD[c]+s},this.getPaddedDigestInfoHex=function(s,c,u){var l=this.getDigestInfoHex(s,c),p=u/4;if(l.length+22>p)throw"key is too short for SigAlg: keylen="+u+","+c;for(var m="00"+l,v="",S=p-4-m.length,b=0;b<S;b+=2)v+="ff";return"0001"+v+m},this.hashString=function(s,c){return new g.crypto.MessageDigest({alg:c}).digestString(s)},this.hashHex=function(s,c){return new g.crypto.MessageDigest({alg:c}).digestHex(s)},this.sha1=function(s){return this.hashString(s,"sha1")},this.sha256=function(s){return this.hashString(s,"sha256")},this.sha256Hex=function(s){return this.hashHex(s,"sha256")},this.sha512=function(s){return this.hashString(s,"sha512")},this.sha512Hex=function(s){return this.hashHex(s,"sha512")},this.isKey=function(s){return s instanceof Se||s instanceof g.crypto.DSA||s instanceof g.crypto.ECDSA}},g.crypto.Util.md5=function(s){return new g.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(s)},g.crypto.Util.ripemd160=function(s){return new g.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(s)},g.crypto.Util.SECURERANDOMGEN=new ge,g.crypto.Util.getRandomHexOfNbytes=function(s){var c=new Array(s);return g.crypto.Util.SECURERANDOMGEN.nextBytes(c),Ui(c)},g.crypto.Util.getRandomBigIntegerOfNbytes=function(s){return new z(g.crypto.Util.getRandomHexOfNbytes(s),16)},g.crypto.Util.getRandomHexOfNbits=function(s){var c=s%8,l=new Array((s-c)/8+1);return g.crypto.Util.SECURERANDOMGEN.nextBytes(l),l[0]=(255<<c&255^255)&l[0],Ui(l)},g.crypto.Util.getRandomBigIntegerOfNbits=function(s){return new z(g.crypto.Util.getRandomHexOfNbits(s),16)},g.crypto.Util.getRandomBigIntegerZeroToMax=function(s){for(var c=s.bitLength();;){var u=g.crypto.Util.getRandomBigIntegerOfNbits(c);if(-1!=s.compareTo(u))return u}},g.crypto.Util.getRandomBigIntegerMinToMax=function(s,c){var u=s.compareTo(c);if(1==u)throw"biMin is greater than biMax";if(0==u)return s;var l=c.subtract(s);return g.crypto.Util.getRandomBigIntegerZeroToMax(l).add(s)},g.crypto.MessageDigest=function(s){this.setAlgAndProvider=function(p,h){if(null!==(p=g.crypto.MessageDigest.getCanonicalAlgName(p))&&void 0===h&&(h=g.crypto.Util.DEFAULTPROVIDER[p]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(p)&&"cryptojs"==h){try{this.md=g.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[p].create()}catch(m){throw"setAlgAndProvider hash alg set fail alg="+p+"/"+m}this.updateString=function(m){this.md.update(m)},this.updateHex=function(m){var v=ie.enc.Hex.parse(m);this.md.update(v)},this.digest=function(){return this.md.finalize().toString(ie.enc.Hex)},this.digestString=function(m){return this.updateString(m),this.digest()},this.digestHex=function(m){return this.updateHex(m),this.digest()}}if(-1!=":sha256:".indexOf(p)&&"sjcl"==h){try{this.md=new sjcl.hash.sha256}catch(m){throw"setAlgAndProvider hash alg set fail alg="+p+"/"+m}this.updateString=function(m){this.md.update(m)},this.updateHex=function(m){var v=sjcl.codec.hex.toBits(m);this.md.update(v)},this.digest=function(){var m=this.md.finalize();return sjcl.codec.hex.fromBits(m)},this.digestString=function(m){return this.updateString(m),this.digest()},this.digestHex=function(m){return this.updateHex(m),this.digest()}}},this.updateString=function(p){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(p){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(p){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(p){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==s&&void 0!==s.alg&&(this.algName=s.alg,void 0===s.prov&&(this.provName=g.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},g.crypto.MessageDigest.getCanonicalAlgName=function(s){return"string"==typeof s&&(s=(s=s.toLowerCase()).replace(/-/,"")),s},g.crypto.MessageDigest.getHashLength=function(s){var c=g.crypto.MessageDigest,u=c.getCanonicalAlgName(s);if(void 0===c.HASHLENGTH[u])throw"not supported algorithm: "+s;return c.HASHLENGTH[u]},g.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},g.crypto.Mac=function(s){this.setAlgAndProvider=function(m,v){if(null==(m=m.toLowerCase())&&(m="hmacsha1"),"hmac"!=(m=m.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+m;void 0===v&&(v=g.crypto.Util.DEFAULTPROVIDER[m]),this.algProv=m+"/"+v;var S=m.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(S)&&"cryptojs"==v){try{this.mac=ie.algo.HMAC.create(g.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[S],this.pass)}catch(T){throw"setAlgAndProvider hash alg set fail hashAlg="+S+"/"+T}this.updateString=function(T){this.mac.update(T)},this.updateHex=function(T){var F=ie.enc.Hex.parse(T);this.mac.update(F)},this.doFinal=function(){return this.mac.finalize().toString(ie.enc.Hex)},this.doFinalString=function(T){return this.updateString(T),this.doFinal()},this.doFinalHex=function(T){return this.updateHex(T),this.doFinal()}}},this.updateString=function(m){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(m){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(m){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(m){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(m){if("string"==typeof m){var v=m;return(m.length%2==1||!m.match(/^[0-9A-Fa-f]+$/))&&(v=ae(m)),void(this.pass=ie.enc.Hex.parse(v))}if("object"!=typeof m)throw"KJUR.crypto.Mac unsupported password type: "+m;if(v=null,void 0!==m.hex){if(m.hex.length%2!=0||!m.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+m.hex;v=m.hex}if(void 0!==m.utf8&&(v=Lr(m.utf8)),void 0!==m.rstr&&(v=ae(m.rstr)),void 0!==m.b64&&(v=nn(m.b64)),void 0!==m.b64u&&(v=We(m.b64u)),null==v)throw"KJUR.crypto.Mac unsupported password type: "+m;this.pass=ie.enc.Hex.parse(v)},void 0!==s&&(void 0!==s.pass&&this.setPassword(s.pass),void 0!==s.alg&&(this.algName=s.alg,void 0===s.prov&&(this.provName=g.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},g.crypto.Signature=function(s){var c=null;if(this._setAlgNames=function(){var C=this.algName.match(/^(.+)with(.+)$/);C&&(this.mdAlgName=C[1].toLowerCase(),this.pubkeyAlgName=C[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(C,R){for(var P="",L=R/4-C.length,O=0;O<L;O++)P+="0";return P+C},this.setAlgAndProvider=function(C,R){if(this._setAlgNames(),"cryptojs/jsrsa"!=R)throw new Error("provider not supported: "+R);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new g.crypto.MessageDigest({alg:this.mdAlgName})}catch(P){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+P)}this.init=function(P,L){var O=null;try{O=void 0===L?Re.getKey(P):Re.getKey(P,L)}catch(G){throw"init failed:"+G}if(!0===O.isPrivate)this.prvKey=O,this.state="SIGN";else{if(!0!==O.isPublic)throw"init failed.:"+O;this.pubKey=O,this.state="VERIFY"}},this.updateString=function(P){this.md.updateString(P)},this.updateHex=function(P){this.md.updateHex(P)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==g.crypto.ECDSA&&(this.prvKey=new g.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Se&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Se&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof g.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof g.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(P){return this.updateString(P),this.sign()},this.signHex=function(P){return this.updateHex(P),this.sign()},this.verify=function(P){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==g.crypto.ECDSA&&(this.pubKey=new g.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Se&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,P,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Se&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,P);if(void 0!==g.crypto.ECDSA&&this.pubKey instanceof g.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,P);if(void 0!==g.crypto.DSA&&this.pubKey instanceof g.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,P);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(C,R){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(C){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(C){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(C){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(C){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=s,void 0!==s&&(void 0!==s.alg&&(this.algName=s.alg,this.provName=void 0===s.prov?g.crypto.Util.DEFAULTPROVIDER[this.algName]:s.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==s.psssaltlen&&(this.pssSaltLen=s.psssaltlen),void 0!==s.prvkeypem)){if(void 0!==s.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{c=Re.getKey(s.prvkeypem),this.init(c)}catch(C){throw"fatal error to load pem private key: "+C}}},g.crypto.Cipher=function(s){},g.crypto.Cipher.encrypt=function(s,c,u,l){if(null!=Ge(l,"enclag")&&(u=l.encalg),"string"==typeof u&&"-CBC"==u.substr(-4)){var p=c,h=s;null!=Ge(l,"key")&&(p=l.key),null!=Ge(l,"enc")&&(hEnc=l.enc);var b,m=ie.enc.Hex.parse(p),v=ie.enc.Hex.parse(h),S=ie.enc.Hex.parse(l.iv);if("des-EDE3-CBC"==u)b=ie.TripleDES.encrypt(v,m,{iv:S});else{if("aes128-CBC"!=u&&"aes256-CBC"!=u)throw new Error("unsupported algorithm: "+u);b=ie.AES.encrypt(v,m,{iv:S})}return b+""}throw new Error("Cipher.encrypt: unsupported key or algorithm")},g.crypto.Cipher.decrypt=function(s,c,u,l){if(null!=Ge(l,"enclag")&&(u=l.encalg),"string"==typeof u&&"-CBC"==u.substr(-4)){var p=c,h=s;null!=Ge(l,"key")&&(p=l.key),null!=Ge(l,"enc")&&(h=l.enc);var b,m=ie.enc.Hex.parse(p),v=ie.enc.Hex.parse(h),S=ie.enc.Hex.parse(l.iv);if("des-EDE3-CBC"==u)b=ie.TripleDES.decrypt({ciphertext:v},m,{iv:S});else{if("aes128-CBC"!=u&&"aes256-CBC"!=u)throw new Error("unsupported algorithm: "+u);b=ie.AES.decrypt({ciphertext:v},m,{iv:S})}return ie.enc.Hex.stringify(b)}throw new Error("Cipher.decrypt: unsupported key or algorithm")},g.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},(typeof g>"u"||!g)&&(g={}),(typeof g.crypto>"u"||!g.crypto)&&(g.crypto={}),g.crypto.ECDSA=function(s){var h=Error,m=z,v=Fe,S=g.crypto.ECDSA,b=g.crypto.ECParameterDB,T=S.getName,E=J.getVbyListEx,w=J.isASN1HEX,x=new ge;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(C){return new m(C.bitLength(),x).mod(C.subtract(m.ONE)).add(m.ONE)},this.setNamedCurve=function(C){this.ecparams=b.getByName(C),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=C},this.setPrivateKeyHex=function(C){this.isPrivate=!0,this.prvKeyHex=C},this.setPublicKeyHex=function(C){this.isPublic=!0,this.pubKeyHex=C},this.getPublicKeyXYHex=function(){var C=this.pubKeyHex;if("04"!==C.substr(0,2))throw"this method supports uncompressed format(04) only";var R=this.ecparams.keycharlen;if(C.length!==2+2*R)throw"malformed public key hex length";var P={};return P.x=C.substr(2,R),P.y=C.substr(2+R),P},this.getShortNISTPCurveName=function(){var C=this.curveName;return"secp256r1"===C||"NIST P-256"===C||"P-256"===C||"prime256v1"===C?"P-256":"secp384r1"===C||"NIST P-384"===C||"P-384"===C?"P-384":"secp521r1"===C||"NIST P-521"===C||"P-521"===C?"P-521":null},this.generateKeyPairHex=function(){var R=this.getBigRandom(this.ecparams.n),P=this.ecparams.keycharlen,L=("0000000000"+R.toString(16)).slice(-P);return this.setPrivateKeyHex(L),{ecprvhex:L,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var C=new m(this.prvKeyHex,16),R=this.ecparams.G.multiply(C),P=R.getX().toBigInteger(),L=R.getY().toBigInteger(),O=this.ecparams.keycharlen,_="04"+("0000000000"+P.toString(16)).slice(-O)+("0000000000"+L.toString(16)).slice(-O);return this.setPublicKeyHex(_),_},this.signWithMessageHash=function(C){return this.signHex(C,this.prvKeyHex)},this.signHex=function(C,R){var P=new m(R,16),L=this.ecparams.n,O=new m(C.substring(0,this.ecparams.keycharlen),16);do{var G=this.getBigRandom(L),M=this.ecparams.G.multiply(G).getX().toBigInteger().mod(L)}while(M.compareTo(m.ZERO)<=0);var k=G.modInverse(L).multiply(O.add(P.multiply(M))).mod(L);return S.biRSSigToASN1Sig(M,k)},this.sign=function(C,R){var P=R,L=this.ecparams.n,O=m.fromByteArrayUnsigned(C);do{var G=this.getBigRandom(L),M=this.ecparams.G.multiply(G).getX().toBigInteger().mod(L)}while(M.compareTo(z.ZERO)<=0);var k=G.modInverse(L).multiply(O.add(P.multiply(M))).mod(L);return this.serializeSig(M,k)},this.verifyWithMessageHash=function(C,R){return this.verifyHex(C,R,this.pubKeyHex)},this.verifyHex=function(C,R,P){try{var L,O,G=S.parseSigHex(R);L=G.r,O=G.s;var Z=v.decodeFromHex(this.ecparams.curve,P),_=new m(C.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(_,L,O,Z)}catch{return!1}},this.verify=function(C,R,P){var L,O,Z;if(Bitcoin.Util.isArray(R)){var G=this.parseSig(R);L=G.r,O=G.s}else{if("object"!=typeof R||!R.r||!R.s)throw"Invalid value for signature";L=R.r,O=R.s}if(P instanceof Fe)Z=P;else{if(!Bitcoin.Util.isArray(P))throw"Invalid format for pubkey value, must be byte array or ECPointFp";Z=v.decodeFrom(this.ecparams.curve,P)}var _=m.fromByteArrayUnsigned(C);return this.verifyRaw(_,L,O,Z)},this.verifyRaw=function(C,R,P,L){var O=this.ecparams.n,G=this.ecparams.G;if(R.compareTo(m.ONE)<0||R.compareTo(O)>=0||P.compareTo(m.ONE)<0||P.compareTo(O)>=0)return!1;var Z=P.modInverse(O),_=C.multiply(Z).mod(O),M=R.multiply(Z).mod(O);return G.multiply(_).add(L.multiply(M)).getX().toBigInteger().mod(O).equals(R)},this.serializeSig=function(C,R){var P=C.toByteArraySigned(),L=R.toByteArraySigned(),O=[];return O.push(2),O.push(P.length),(O=O.concat(P)).push(2),O.push(L.length),(O=O.concat(L)).unshift(O.length),O.unshift(48),O},this.parseSig=function(C){var R;if(48!=C[0])throw new Error("Signature not a valid DERSequence");if(2!=C[R=2])throw new Error("First element in signature must be a DERInteger");var P=C.slice(R+2,R+2+C[R+1]);if(2!=C[R+=2+C[R+1]])throw new Error("Second element in signature must be a DERInteger");var L=C.slice(R+2,R+2+C[R+1]);return R+=2+C[R+1],{r:m.fromByteArrayUnsigned(P),s:m.fromByteArrayUnsigned(L)}},this.parseSigCompact=function(C){if(65!==C.length)throw"Signature has the wrong length";var R=C[0]-27;if(R<0||R>7)throw"Invalid signature type";var P=this.ecparams.n;return{r:m.fromByteArrayUnsigned(C.slice(1,33)).mod(P),s:m.fromByteArrayUnsigned(C.slice(33,65)).mod(P),i:R}},this.readPKCS5PrvKeyHex=function(C){if(!1===w(C))throw new Error("not ASN.1 hex string");var R,P,L;try{R=E(C,0,["[0]",0],"06"),P=E(C,0,[1],"04");try{L=E(C,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=T(R),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(L),this.setPrivateKeyHex(P),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(C){if(!1===w(C))throw new h("not ASN.1 hex string");var P,L,O;try{E(C,0,[1,0],"06"),P=E(C,0,[1,1],"06"),L=E(C,0,[2,0,1],"04");try{O=E(C,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new h("malformed PKCS#8 plain ECC private key")}if(this.curveName=T(P),void 0===this.curveName)throw new h("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(O),this.setPrivateKeyHex(L),this.isPublic=!1},this.readPKCS8PubKeyHex=function(C){if(!1===w(C))throw new h("not ASN.1 hex string");var P,L;try{E(C,0,[0,0],"06"),P=E(C,0,[0,1],"06"),L=E(C,0,[1],"03")}catch{throw new h("malformed PKCS#8 ECC public key")}if(this.curveName=T(P),null===this.curveName)throw new h("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(L)},this.readCertPubKeyHex=function(C,R){if(!1===w(C))throw new h("not ASN.1 hex string");var P,L;try{P=E(C,0,[0,5,0,1],"06"),L=E(C,0,[0,5,1],"03")}catch{throw new h("malformed X.509 certificate ECC public key")}if(this.curveName=T(P),null===this.curveName)throw new h("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(L)},void 0!==s&&void 0!==s.curve&&(this.curveName=s.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==s&&(void 0!==s.prv&&this.setPrivateKeyHex(s.prv),void 0!==s.pub&&this.setPublicKeyHex(s.pub))},g.crypto.ECDSA.parseSigHex=function(s){var c=g.crypto.ECDSA.parseSigHexInHexRS(s);return{r:new z(c.r,16),s:new z(c.s,16)}},g.crypto.ECDSA.parseSigHexInHexRS=function(s){var u=J.getChildIdx,l=J.getV;if(J.checkStrictDER(s,0),"30"!=s.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var p=u(s,0);if(2!=p.length)throw new Error("signature shall have two elements");var h=p[0],m=p[1];if("02"!=s.substr(h,2))throw new Error("1st item not ASN.1 integer");if("02"!=s.substr(m,2))throw new Error("2nd item not ASN.1 integer");return{r:l(s,h),s:l(s,m)}},g.crypto.ECDSA.asn1SigToConcatSig=function(s){var c=g.crypto.ECDSA.parseSigHexInHexRS(s),u=c.r,l=c.s;if(u.length>=130&&u.length<=134){if(u.length%2!=0)throw Error("unknown ECDSA sig r length error");if(l.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==u.substr(0,2)&&(u=u.substr(2)),"00"==l.substr(0,2)&&(l=l.substr(2));var p=Math.max(u.length,l.length);return(u=("000000"+u).slice(-p))+("000000"+l).slice(-p)}if("00"==u.substr(0,2)&&u.length%32==2&&(u=u.substr(2)),"00"==l.substr(0,2)&&l.length%32==2&&(l=l.substr(2)),u.length%32==30&&(u="00"+u),l.length%32==30&&(l="00"+l),u.length%32!=0)throw Error("unknown ECDSA sig r length error");if(l.length%32!=0)throw Error("unknown ECDSA sig s length error");return u+l},g.crypto.ECDSA.concatSigToASN1Sig=function(s){if(s.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var c=s.substr(0,s.length/2),u=s.substr(s.length/2);return g.crypto.ECDSA.hexRSSigToASN1Sig(c,u)},g.crypto.ECDSA.hexRSSigToASN1Sig=function(s,c){var u=new z(s,16),l=new z(c,16);return g.crypto.ECDSA.biRSSigToASN1Sig(u,l)},g.crypto.ECDSA.biRSSigToASN1Sig=function(s,c){var u=g.asn1,l=new u.DERInteger({bigint:s}),p=new u.DERInteger({bigint:c});return new u.DERSequence({array:[l,p]}).tohex()},g.crypto.ECDSA.getName=function(s){return"2b8104001f"===s?"secp192k1":"2a8648ce3d030107"===s?"secp256r1":"2b8104000a"===s?"secp256k1":"2b81040021"===s?"secp224r1":"2b81040022"===s?"secp384r1":"2b81040023"===s?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(s)?"secp256r1":-1!=="|secp256k1|".indexOf(s)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(s)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(s)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(s)?"secp521r1":null},(typeof g>"u"||!g)&&(g={}),(typeof g.crypto>"u"||!g.crypto)&&(g.crypto={}),g.crypto.ECParameterDB=new function(){var s={},c={};function u(l){return new z(l,16)}this.getByName=function(l){var p=l;if(typeof c[p]<"u"&&(p=c[l]),typeof s[p]<"u")return s[p];throw"unregistered EC curve name: "+p},this.regist=function(l,p,h,m,v,S,b,T,F,E,w,x){s[l]={};var y=u(h),I=u(m),C=u(v),R=u(S),P=u(b),L=new Ce(y,I,C),O=L.decodePointHex("04"+T+F);s[l].name=l,s[l].keylen=p,s[l].keycharlen=2*Math.ceil(p/8),s[l].curve=L,s[l].G=O,s[l].n=R,s[l].h=P,s[l].oid=w,s[l].info=x;for(var G=0;G<E.length;G++)c[E[G]]=l}},g.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),g.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),g.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),g.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),g.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),g.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),g.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),g.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),g.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),g.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),(typeof g>"u"||!g)&&(g={}),(typeof g.crypto>"u"||!g.crypto)&&(g.crypto={}),g.crypto.DSA=function(){var u=J.getVbyListEx,l=J.isASN1HEX,p=z;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(h,m,v,S,b){this.isPrivate=!0,this.p=h,this.q=m,this.g=v,this.y=S,this.x=b},this.setPrivateHex=function(h,m,v,S,b){var T,F,E,w,x;T=new z(h,16),F=new z(m,16),E=new z(v,16),w="string"==typeof S&&S.length>1?new z(S,16):null,x=new z(b,16),this.setPrivate(T,F,E,w,x)},this.setPublic=function(h,m,v,S){this.isPublic=!0,this.p=h,this.q=m,this.g=v,this.y=S,this.x=null},this.setPublicHex=function(h,m,v,S){var b,T,F,E;b=new z(h,16),T=new z(m,16),F=new z(v,16),E=new z(S,16),this.setPublic(b,T,F,E)},this.signWithMessageHash=function(h){var m=this.p,v=this.q,S=this.g,T=this.x,F=g.crypto.Util.getRandomBigIntegerMinToMax(z.ONE.add(z.ONE),v.subtract(z.ONE)),w=new z(h.substr(0,v.bitLength()/4),16),x=S.modPow(F,m).mod(v),y=F.modInverse(v).multiply(w.add(T.multiply(x))).mod(v);return g.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:x}},{int:{bigint:y}}]})},this.verifyWithMessageHash=function(h,m){var v=this.p,S=this.q,b=this.g,T=this.y,F=this.parseASN1Signature(m),E=F[0],w=F[1],y=new z(h.substr(0,S.bitLength()/4),16);if(z.ZERO.compareTo(E)>0||E.compareTo(S)>0||z.ZERO.compareTo(w)>=0||w.compareTo(S)>0)throw"invalid DSA signature";var I=w.modInverse(S),C=y.multiply(I).mod(S),R=E.multiply(I).mod(S);return 0==b.modPow(C,v).multiply(T.modPow(R,v)).mod(v).mod(S).compareTo(E)},this.parseASN1Signature=function(h){try{return[new p(u(h,0,[0],"02"),16),new p(u(h,0,[1],"02"),16)]}catch{throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(h){var m,v,S,b,T;if(!1===l(h))throw new Error("not ASN.1 hex string");try{m=u(h,0,[1],"02"),v=u(h,0,[2],"02"),S=u(h,0,[3],"02"),b=u(h,0,[4],"02"),T=u(h,0,[5],"02")}catch{throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(m,v,S,b,T)},this.readPKCS8PrvKeyHex=function(h){var m,v,S,b;if(!1===l(h))throw new Error("not ASN.1 hex string");try{m=u(h,0,[1,1,0],"02"),v=u(h,0,[1,1,1],"02"),S=u(h,0,[1,1,2],"02"),b=u(h,0,[2,0],"02")}catch{throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(m,v,S,null,b)},this.readPKCS8PubKeyHex=function(h){var m,v,S,b;if(!1===l(h))throw new Error("not ASN.1 hex string");try{m=u(h,0,[0,1,0],"02"),v=u(h,0,[0,1,1],"02"),S=u(h,0,[0,1,2],"02"),b=u(h,0,[1,0],"02")}catch{throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(m,v,S,b)},this.readCertPubKeyHex=function(h,m){var v,S,b,T;if(!1===l(h))throw new Error("not ASN.1 hex string");try{v=u(h,0,[0,5,0,1,0],"02"),S=u(h,0,[0,5,0,1,1],"02"),b=u(h,0,[0,5,0,1,2],"02"),T=u(h,0,[0,5,1,0],"02")}catch{throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(v,S,b,T)}};var Re=function(){var s=function(y,I,C){return l(ie.AES,y,I,C)},l=function(y,I,C,R){var P=ie.enc.Hex.parse(I),L=ie.enc.Hex.parse(C),O=ie.enc.Hex.parse(R),G={};G.key=L,G.iv=O,G.ciphertext=P;var Z=y.decrypt(G,L,{iv:O});return ie.enc.Hex.stringify(Z)},p=function(y,I,C){return v(ie.AES,y,I,C)},v=function(y,I,C,R){var P=ie.enc.Hex.parse(I),L=ie.enc.Hex.parse(C),O=ie.enc.Hex.parse(R),G=y.encrypt(P,L,{iv:O}),Z=ie.enc.Hex.parse(G.toString());return ie.enc.Base64.stringify(Z)},S={"AES-256-CBC":{proc:s,eproc:p,keylen:32,ivlen:16},"AES-192-CBC":{proc:s,eproc:p,keylen:24,ivlen:16},"AES-128-CBC":{proc:s,eproc:p,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(y,I,C){return l(ie.TripleDES,y,I,C)},eproc:function(y,I,C){return v(ie.TripleDES,y,I,C)},keylen:24,ivlen:8},"DES-CBC":{proc:function(y,I,C){return l(ie.DES,y,I,C)},eproc:function(y,I,C){return v(ie.DES,y,I,C)},keylen:8,ivlen:8}},F=function(y){var I={},C=y.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));C&&(I.cipher=C[1],I.ivsalt=C[2]);var R=y.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));R&&(I.type=R[1]);var P=-1,L=0;-1!=y.indexOf("\r\n\r\n")&&(P=y.indexOf("\r\n\r\n"),L=2),-1!=y.indexOf("\n\n")&&(P=y.indexOf("\n\n"),L=1);var O=y.indexOf("-----END");if(-1!=P&&-1!=O){var G=y.substring(P+2*L,O-L);G=G.replace(/\s+/g,""),I.data=G}return I},E=function(y,I,C){for(var R=C.substring(0,16),P=ie.enc.Hex.parse(R),L=ie.enc.Utf8.parse(I),O=S[y].keylen+S[y].ivlen,G="",Z=null;;){var _=ie.algo.MD5.create();if(null!=Z&&_.update(Z),_.update(L),_.update(P),Z=_.finalize(),(G+=ie.enc.Hex.stringify(Z)).length>=2*O)break}var M={};return M.keyhex=G.substr(0,2*S[y].keylen),M.ivhex=G.substr(2*S[y].keylen,2*S[y].ivlen),M},w=function(y,I,C,R){var P=ie.enc.Base64.parse(y),L=ie.enc.Hex.stringify(P);return(0,S[I].proc)(L,C,R)};return{version:"1.0.0",parsePKCS5PEM:function(y){return F(y)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(y,I,C){return E(y,I,C)},decryptKeyB64:function(y,I,C,R){return w(y,I,C,R)},getDecryptedKeyHex:function(y,I){var C=F(y),P=C.cipher,L=C.ivsalt,O=C.data,G=E(P,I,L);return w(O,P,G.keyhex,L)},getEncryptedPKCS5PEMFromPrvKeyHex:function(y,I,C,R,P){var k="";if((typeof R>"u"||null==R)&&(R="AES-256-CBC"),typeof S[R]>"u")throw new Error("KEYUTIL unsupported algorithm: "+R);if(typeof P>"u"||null==P){var O=function(y){var I=ie.lib.WordArray.random(y);return ie.enc.Hex.stringify(I)}(S[R].ivlen);P=O.toUpperCase()}var _=function(y,I,C,R){return(0,S[I].eproc)(y,C,R)}(I,R,E(R,C,P).keyhex,P);return k="-----BEGIN "+y+" PRIVATE KEY-----\r\n",k+="Proc-Type: 4,ENCRYPTED\r\n",k+="DEK-Info: "+R+","+P+"\r\n",k+="\r\n",(k+=_.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+y+" PRIVATE KEY-----\r\n"},getEncryptedPKCS8PEM:function(y,I,C){return Ft(this.getEncryptedPKCS8Hex(y,I,C),"ENCRYPTED PRIVATE KEY")},getEncryptedPKCS8Hex:function(y,I,C){var R;(R=null==C||null==C?{}:JSON.parse(JSON.stringify(C))).plain=y,this.initPBES2Param(R),this.encryptPBES2Param(R,I);var P=this.generatePBES2ASN1Param(R);return g.asn1.ASN1Util.newObject(P).tohex()},initPBES2Param:function(y){var I;null==Ge(y,"encalg")&&(y.encalg="aes256-CBC"),null==Ge(y,"iter")&&(y.iter=2048),null==Ge(y,"prf")&&(y.prf="hmacWithSHA256"),null==Ge(y,"salt")&&(y.salt=ie.enc.Hex.stringify(ie.lib.WordArray.random(8))),null==Ge(y,"enciv")&&("des-EDE3-CBC"==y.encalg&&(I=8),"aes128-CBC"==y.encalg&&(I=16),"aes256-CBC"==y.encalg&&(I=16),y.enciv=ie.enc.Hex.stringify(ie.lib.WordArray.random(I)))},encryptPBES2Param:function(y,I){var C=Re.getDKFromPBES2Param(y,I);try{var R=g.crypto.Cipher.encrypt(y.plain,C,y.encalg,{iv:y.enciv})}catch{throw new Error("encrypt error: "+y.plain+" "+C+" "+y.encalg+" "+y.enciv)}y.enc=R},generatePBES2ASN1Param:function(y){var I={seq:[{seq:[{oid:"pkcs5PBES2"},{seq:[{seq:[{oid:"pkcs5PBKDF2"},{seq:[{octstr:{hex:y.salt}},{int:{hex:Su(y.iter)}}]}]},{seq:[{oid:y.encalg},{octstr:{hex:y.enciv}}]}]}]},{octstr:{hex:y.enc}}]};return"hmacWithSHA1"!=y.prf&&I.seq[0].seq[1].seq[0].seq[1].seq.push({seq:[{oid:y.prf},{null:""}]}),I},parseHexOfEncryptedPKCS8:function(y){var C=J.getChildIdx,R=J.getV,P={},L=C(y,0);if(2!=L.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+L.length);P.ciphertext=R(y,L[1]);var O=C(y,L[0]);if(2!=O.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+O.length);if("2a864886f70d01050d"!=R(y,O[0]))throw new Error("this only supports pkcs5PBES2");var G=C(y,O[1]);if(2!=O.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+G.length);var Z=C(y,G[1]);if(2!=Z.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+Z.length);if("2a864886f70d0307"!=R(y,Z[0]))throw"this only supports TripleDES";P.encryptionSchemeAlg="TripleDES",P.encryptionSchemeIV=R(y,Z[1]);var _=C(y,G[0]);if(2!=_.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+_.length);if("2a864886f70d01050c"!=R(y,_[0]))throw new Error("this only supports pkcs5PBKDF2");var M=C(y,_[1]);if(M.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+M.length);P.pbkdf2Salt=R(y,M[0]);var k=R(y,M[1]);try{P.pbkdf2Iter=parseInt(k,16)}catch{throw new Error("malformed format pbkdf2Iter: "+k)}return P},getPBKDF2KeyHexFromParam:function(y,I){var C=ie.enc.Hex.parse(y.pbkdf2Salt),P=ie.PBKDF2(I,C,{keySize:6,iterations:y.pbkdf2Iter});return ie.enc.Hex.stringify(P)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(y,I){var C=Ve(y,"ENCRYPTED PRIVATE KEY"),R=this.parseHexOfEncryptedPKCS8(C),P=Re.getPBKDF2KeyHexFromParam(R,I),L={};L.ciphertext=ie.enc.Hex.parse(R.ciphertext);var O=ie.enc.Hex.parse(P),G=ie.enc.Hex.parse(R.encryptionSchemeIV),Z=ie.TripleDES.decrypt(L,O,{iv:G});return ie.enc.Hex.stringify(Z)},parsePBES2:function(y){var I=J.parse(y);if("pkcs5PBES2"!=Ge(I,"seq.0.seq.0.oid")||"pkcs5PBKDF2"!=Ge(I,"seq.0.seq.1.seq.0.seq.0.oid"))throw new Error("not pkcs5PBES2 and pkcs5PBKDF2 used");var C=Ge(I,"seq.0.seq.1.seq.0.seq.1.seq");if(null==C)throw new Error("PBKDF2 parameter not found");var R=Ge(C,"0.octstr.hex"),P=Ge(C,"1.int.hex"),L=Ge(C,"2.seq.0.oid","hmacWithSHA1"),O=-1;try{O=parseInt(P,16)}catch{throw new Error("iter not proper value")}var G=Ge(I,"seq.0.seq.1.seq.1.seq.0.oid"),Z=Ge(I,"seq.0.seq.1.seq.1.seq.1.octstr.hex"),_=Ge(I,"seq.1.octstr.hex");if(null==G||null==Z||null==_)throw new Error("encalg, enciv or enc is undefined");return{salt:R,iter:O,prf:L,encalg:G,enciv:Z,enc:_}},getDKFromPBES2Param:function(y,I){var P={hmacWithSHA1:ie.algo.SHA1,hmacWithSHA224:ie.algo.SHA224,hmacWithSHA256:ie.algo.SHA256,hmacWithSHA384:ie.algo.SHA384,hmacWithSHA512:ie.algo.SHA512}[y.prf];if(null==P)throw new Error("unsupported prf");var L={"des-EDE3-CBC":6,"aes128-CBC":4,"aes256-CBC":8}[y.encalg];if(null==L)throw new Error("unsupported encalg");var O=ie.enc.Hex.parse(y.salt),G=y.iter;try{var Z=ie.PBKDF2(I,O,{keySize:L,iterations:G,hasher:P});return ie.enc.Hex.stringify(Z)}catch(_){throw new Error("PBKDF2 error: "+_+" "+JSON.stringify(y)+" "+I)}},getPlainHexFromEncryptedPKCS8PEM:function(y,I){if(-1==y.indexOf("BEGIN ENCRYPTED PRIVATE KEY"))throw new Error("not Encrypted PKCS#8 PEM string");var R,C=Ve(y);try{R=Re.parsePBES2(C)}catch(L){throw new Error("malformed PBES2 format: "+L.message)}var P=Re.getDKFromPBES2Param(R,I);return g.crypto.Cipher.decrypt(R.enc,P,R.encalg,{iv:R.enciv})},getKeyFromEncryptedPKCS8PEM:function(y,I){var C=this.getPlainHexFromEncryptedPKCS8PEM(y,I);return this.getKeyFromPlainPrivatePKCS8Hex(C)},parsePlainPrivatePKCS8Hex:function(y){var I=J,C=I.getChildIdx,R=I.getV,P={algparam:null};if("30"!=y.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var L=C(y,0);if(L.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=y.substr(L[1],2))throw new Error("malformed PKCS8 private key(code:003)");var O=C(y,L[1]);if(2!=O.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=y.substr(O[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(P.algoid=R(y,O[0]),"06"==y.substr(O[1],2)&&(P.algparam=R(y,O[1])),"04"!=y.substr(L[2],2))throw new Error("malformed PKCS8 private key(code:006)");return P.keyidx=I.getVidx(y,L[2]),P},getKeyFromPlainPrivatePKCS8PEM:function(y){var I=Ve(y,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(I)},getKeyFromPlainPrivatePKCS8Hex:function(y){var C,I=this.parsePlainPrivatePKCS8Hex(y);if("2a864886f70d010101"==I.algoid)C=new Se;else if("2a8648ce380401"==I.algoid)C=new g.crypto.DSA;else{if("2a8648ce3d0201"!=I.algoid)throw new Error("unsupported private key algorithm");C=new g.crypto.ECDSA}return C.readPKCS8PrvKeyHex(y),C},_getKeyFromPublicPKCS8Hex:function(y){var I,C=J.getVbyList(y,0,[0,0],"06");if("2a864886f70d010101"===C)I=new Se;else if("2a8648ce380401"===C)I=new g.crypto.DSA;else{if("2a8648ce3d0201"!==C)throw new Error("unsupported PKCS#8 public key hex");I=new g.crypto.ECDSA}return I.readPKCS8PubKeyHex(y),I},parsePublicRawRSAKeyHex:function(y){var C=J.getChildIdx,R=J.getV,P={};if("30"!=y.substr(0,2))throw new Error("malformed RSA key(code:001)");var L=C(y,0);if(2!=L.length)throw new Error("malformed RSA key(code:002)");if("02"!=y.substr(L[0],2))throw new Error("malformed RSA key(code:003)");if(P.n=R(y,L[0]),"02"!=y.substr(L[1],2))throw new Error("malformed RSA key(code:004)");return P.e=R(y,L[1]),P},parsePublicPKCS8Hex:function(y){var I=J,C=I.getChildIdx,R=I.getV,P={algparam:null},L=C(y,0);if(2!=L.length)throw new Error("outer DERSequence shall have 2 elements: "+L.length);var O=L[0];if("30"!=y.substr(O,2))throw new Error("malformed PKCS8 public key(code:001)");var G=C(y,O);if(2!=G.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=y.substr(G[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(P.algoid=R(y,G[0]),"06"==y.substr(G[1],2)?P.algparam=R(y,G[1]):"30"==y.substr(G[1],2)&&(P.algparam={},P.algparam.p=I.getVbyList(y,G[1],[0],"02"),P.algparam.q=I.getVbyList(y,G[1],[1],"02"),P.algparam.g=I.getVbyList(y,G[1],[2],"02")),"03"!=y.substr(L[1],2))throw new Error("malformed PKCS8 public key(code:004)");return P.key=R(y,L[1]).substr(2),P}}}();function Nt(s,c){for(var u="",l=c/4-s.length,p=0;p<l;p++)u+="0";return u+s}function ke(s,c,u){for(var l="",p=0;l.length<c;)l+=Ct(u(ae(s+String.fromCharCode.apply(String,[(4278190080&p)>>24,(16711680&p)>>16,(65280&p)>>8,255&p])))),p+=1;return l}function vr(s){for(var c in g.crypto.Util.DIGESTINFOHEAD){var u=g.crypto.Util.DIGESTINFOHEAD[c],l=u.length;if(s.substring(0,l)==u)return[c,s.substring(l)]}return[]}function ce(s){var P,c=J,u=c.getChildIdx,l=c.getV,h=c.parse,m=c.getTLV,v=c.getVbyList,S=c.getVbyListEx,b=c.getTLVbyList,T=c.getTLVbyListEx,F=c.getIdxbyList,E=c.getIdxbyListEx,w=c.getVidx,x=c.getInt,y=c.oidname,I=c.hextooidstr,R=Ve,L=Error;try{P=g.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var _=b(this.hex,0,[0,0]);if("a0"==_.substr(0,2)){var M=b(_,0,[0]),k=x(M,0);if(k<0||2<k)throw new Error("malformed version field");return this.version=k+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return S(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var _=T(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(_)},this.getAlgorithmIdentifierName=function(_){for(var M in P)if(_===P[M])return M;return y(S(_,0,[0],"06"))},this.getIssuer=function(_,M){return this.getX500Name(this.getIssuerHex(),_,M)},this.getIssuerHex=function(){return b(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(_,M){return this.getX500Name(this.getSubjectHex(),_,M)},this.getSubjectHex=function(){return b(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var _=v(this.hex,0,[0,4+this.foffset,0]);return _=_.replace(/(..)/g,"%$1"),decodeURIComponent(_)},this.getNotAfter=function(){var _=v(this.hex,0,[0,4+this.foffset,1]);return _=_.replace(/(..)/g,"%$1"),decodeURIComponent(_)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return b(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var _=this.getSPKI();return null==_?null:v(_,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return F(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var _=this.getPublicKeyIdx();return F(this.hex,_,[1,0],"30")},this.getPublicKey=function(){return Re.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var _=b(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(_)},this.getSignatureValueHex=function(){return v(this.hex,0,[2],"03",!0)},this.verifySignature=function(_){var M=this.getSignatureAlgorithmField(),k=this.getSignatureValueHex(),j=b(this.hex,0,[0],"30"),U=new g.crypto.Signature({alg:M});return U.init(_),U.updateHex(j),U.verify(k)},this.parseExt=function(_){var M,k,j;if(void 0===_){if(3!==this.version)return-1;M=F(j=this.hex,0,[0,7,0],"30"),k=u(j,M)}else{j=Ve(_);var U=F(j,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=l(j,U))return void(this.aExtInfo=new Array);M=F(j,0,[0,3,0,1,0],"30"),k=u(j,M),this.hex=j}this.aExtInfo=new Array;for(var q=0;q<k.length;q++){var V={critical:!1},K=0;3===u(j,k[q]).length&&(V.critical=!0,K=1),V.oid=c.hextooidstr(v(j,k[q],[0],"06"));var Y=F(j,k[q],[1+K]);V.vidx=w(j,Y),this.aExtInfo.push(V)}},this.getExtInfo=function(_){var M=this.aExtInfo,k=_;if(_.match(/^[0-9.]+$/)||(k=g.asn1.x509.OID.name2oid(_)),""!==k)for(var j=0;j<M.length;j++)if(M[j].oid===k)return M[j]},this.getCriticalExtV=function(_,M,k){if(null!=M)return[M,k];var j=this.getExtInfo(_);return null==j?[null,null]:[m(this.hex,j.vidx),j.critical]},this.getExtBasicConstraints=function(_,M){if(void 0===_&&void 0===M){var k=this.getExtInfo("basicConstraints");if(void 0===k)return;_=m(this.hex,k.vidx),M=k.critical}var j={extname:"basicConstraints"};if(M&&(j.critical=!0),"3000"===_)return j;if("30030101ff"===_)return j.cA=!0,j;if("30060101ff02"===_.substr(0,12)){var U=l(_,10),q=parseInt(U,16);return j.cA=!0,j.pathLen=q,j}throw new Error("hExtV parse error: "+_)},this.getExtNameConstraints=function(_,M){var k=this.getCriticalExtV("nameConstraints",_,M);if(M=k[1],null!=(_=k[0])){var j={extname:"nameConstraints"};M&&(j.critical=!0);for(var U=u(_,0),q=0;q<U.length;q++){for(var V=[],$=u(_,U[q]),K=0;K<$.length;K++){var Y=m(_,$[K]),le=this.getGeneralSubtree(Y);V.push(le)}var he=_.substr(U[q],2);"a0"==he?j.permit=V:"a1"==he&&(j.exclude=V)}return j}},this.getGeneralSubtree=function(_){var M=u(_,0),k=M.length;if(k<1||2<k)throw new Error("wrong num elements");for(var j=this.getGeneralName(m(_,M[0])),U=1;U<k;U++){var q=_.substr(M[U],2),V=l(_,M[U]),$=parseInt(V,16);"80"==q&&(j.min=$),"81"==q&&(j.max=$)}return j},this.getExtKeyUsage=function(_,M){var k=this.getCriticalExtV("keyUsage",_,M);if(M=k[1],null!=(_=k[0])){var j={extname:"keyUsage"};return M&&(j.critical=!0),j.names=this.getExtKeyUsageString(_).split(","),j}},this.getExtKeyUsageBin=function(_){if(void 0===_){var M=this.getExtInfo("keyUsage");if(void 0===M)return"";_=m(this.hex,M.vidx)}if(8!=_.length&&10!=_.length)throw new Error("malformed key usage value: "+_);var k="000000000000000"+parseInt(_.substr(6),16).toString(2);return 8==_.length&&(k=k.slice(-8)),10==_.length&&(k=k.slice(-16)),""==(k=k.replace(/0+$/,""))&&(k="0"),k},this.getExtKeyUsageString=function(_){for(var M=this.getExtKeyUsageBin(_),k=new Array,j=0;j<M.length;j++)"1"==M.substr(j,1)&&k.push(ce.KEYUSAGE_NAME[j]);return k.join(",")},this.getExtSubjectKeyIdentifier=function(_,M){if(void 0===_&&void 0===M){var k=this.getExtInfo("subjectKeyIdentifier");if(void 0===k)return;_=m(this.hex,k.vidx),M=k.critical}var j={extname:"subjectKeyIdentifier"};M&&(j.critical=!0);var U=l(_,0);return j.kid={hex:U},j},this.getExtAuthorityKeyIdentifier=function(_,M){if(void 0===_&&void 0===M){var k=this.getExtInfo("authorityKeyIdentifier");if(void 0===k)return;_=m(this.hex,k.vidx),M=k.critical}var j={extname:"authorityKeyIdentifier"};M&&(j.critical=!0);for(var U=u(_,0),q=0;q<U.length;q++){var V=_.substr(U[q],2);if("80"===V&&(j.kid={hex:l(_,U[q])}),"a1"===V){var $=m(_,U[q]),K=this.getGeneralNames($);j.issuer=K[0].dn}"82"===V&&(j.sn={hex:l(_,U[q])})}return j},this.getExtExtKeyUsage=function(_,M){if(void 0===_&&void 0===M){var k=this.getExtInfo("extKeyUsage");if(void 0===k)return;_=m(this.hex,k.vidx),M=k.critical}var j={extname:"extKeyUsage",array:[]};M&&(j.critical=!0);for(var U=u(_,0),q=0;q<U.length;q++)j.array.push(y(l(_,U[q])));return j},this.getExtExtKeyUsageName=function(){var _=this.getExtInfo("extKeyUsage");if(void 0===_)return _;var M=new Array,k=m(this.hex,_.vidx);if(""===k)return M;for(var j=u(k,0),U=0;U<j.length;U++)M.push(y(l(k,j[U])));return M},this.getExtSubjectAltName=function(_,M){if(void 0===_&&void 0===M){var k=this.getExtInfo("subjectAltName");if(void 0===k)return;_=m(this.hex,k.vidx),M=k.critical}var j={extname:"subjectAltName",array:[]};return M&&(j.critical=!0),j.array=this.getGeneralNames(_),j},this.getExtIssuerAltName=function(_,M){if(void 0===_&&void 0===M){var k=this.getExtInfo("issuerAltName");if(void 0===k)return;_=m(this.hex,k.vidx),M=k.critical}var j={extname:"issuerAltName",array:[]};return M&&(j.critical=!0),j.array=this.getGeneralNames(_),j},this.getGeneralNames=function(_){for(var M=u(_,0),k=[],j=0;j<M.length;j++){var U=this.getGeneralName(m(_,M[j]));void 0!==U&&k.push(U)}return k},this.getGeneralName=function(_){var M=_.substr(0,2),k=l(_,0),j=Ct(k);return"81"==M?{rfc822:j}:"82"==M?{dns:j}:"86"==M?{uri:j}:"87"==M?{ip:ui(k)}:"a4"==M?{dn:this.getX500Name(k)}:"a0"==M?{other:this.getOtherName(_)}:void 0},this.getExtSubjectAltName2=function(){var _,M,k,j=this.getExtInfo("subjectAltName");if(void 0===j)return j;for(var U=new Array,q=m(this.hex,j.vidx),V=u(q,0),$=0;$<V.length;$++)k=q.substr(V[$],2),_=l(q,V[$]),"81"===k&&(M=Oe(_),U.push(["MAIL",M])),"82"===k&&(M=Oe(_),U.push(["DNS",M])),"84"===k&&(M=ce.hex2dn(_,0),U.push(["DN",M])),"86"===k&&(M=Oe(_),U.push(["URI",M])),"87"===k&&(M=ui(_),U.push(["IP",M]));return U},this.getExtCRLDistributionPoints=function(_,M){if(void 0===_&&void 0===M){var k=this.getExtInfo("cRLDistributionPoints");if(void 0===k)return;_=m(this.hex,k.vidx),M=k.critical}var j={extname:"cRLDistributionPoints",array:[]};M&&(j.critical=!0);for(var U=u(_,0),q=0;q<U.length;q++){var V=m(_,U[q]);j.array.push(this.getDistributionPoint(V))}return j},this.getDistributionPoint=function(_){for(var M={},k=u(_,0),j=0;j<k.length;j++){var U=_.substr(k[j],2),q=m(_,k[j]);"a0"==U&&(M.dpname=this.getDistributionPointName(q))}return M},this.getDistributionPointName=function(_){for(var M={},k=u(_,0),j=0;j<k.length;j++){var U=_.substr(k[j],2),q=m(_,k[j]);"a0"==U&&(M.full=this.getGeneralNames(q))}return M},this.getExtCRLDistributionPointsURI=function(){var _=this.getExtCRLDistributionPoints();if(null==_)return _;for(var M=_.array,k=[],j=0;j<M.length;j++)try{null!=M[j].dpname.full[0].uri&&k.push(M[j].dpname.full[0].uri)}catch{}return k},this.getExtAIAInfo=function(){var _=this.getExtInfo("authorityInfoAccess");if(void 0===_)return _;for(var M={ocsp:[],caissuer:[]},k=u(this.hex,_.vidx),j=0;j<k.length;j++){var U=v(this.hex,k[j],[0],"06"),q=v(this.hex,k[j],[1],"86");"2b06010505073001"===U&&M.ocsp.push(Oe(q)),"2b06010505073002"===U&&M.caissuer.push(Oe(q))}return M},this.getExtAuthorityInfoAccess=function(_,M){if(void 0===_&&void 0===M){var k=this.getExtInfo("authorityInfoAccess");if(void 0===k)return;_=m(this.hex,k.vidx),M=k.critical}var j={extname:"authorityInfoAccess",array:[]};M&&(j.critical=!0);for(var U=u(_,0),q=0;q<U.length;q++){var V=S(_,U[q],[0],"06"),K=Oe(v(_,U[q],[1],"86"));if("2b06010505073001"==V)j.array.push({ocsp:K});else{if("2b06010505073002"!=V)throw new Error("unknown method: "+V);j.array.push({caissuer:K})}}return j},this.getExtCertificatePolicies=function(_,M){if(void 0===_&&void 0===M){var k=this.getExtInfo("certificatePolicies");if(void 0===k)return;_=m(this.hex,k.vidx),M=k.critical}var j={extname:"certificatePolicies",array:[]};M&&(j.critical=!0);for(var U=u(_,0),q=0;q<U.length;q++){var V=m(_,U[q]),$=this.getPolicyInformation(V);j.array.push($)}return j},this.getPolicyInformation=function(_){var M={},k=v(_,0,[0],"06");M.policyoid=y(k);var j=E(_,0,[1],"30");if(-1!=j){M.array=[];for(var U=u(_,j),q=0;q<U.length;q++){var V=m(_,U[q]),$=this.getPolicyQualifierInfo(V);M.array.push($)}}return M},this.getOtherName=function(_){var M={},k=u(_,0),j=v(_,k[0],[],"06"),U=v(_,k[1],[]);return M.oid=y(j),M.value=h(U),M},this.getPolicyQualifierInfo=function(_){var M={},k=v(_,0,[0],"06");if("2b06010505070201"===k){var j=S(_,0,[1],"16");M.cps=Ct(j)}else if("2b06010505070202"===k){var U=b(_,0,[1],"30");M.unotice=this.getUserNotice(U)}return M},this.getUserNotice=function(_){var M=null;try{return M=c.parse(_),this._asn1ToUnotice(M)}catch{return}},this._asn1ToUnotice=function(_){try{for(var M={},k=Ge(_,"seq"),j=0;j<k.length;j++){var U=this._asn1ToNoticeRef(k[j]);null!=U&&(M.noticeref=U);var q=this.asn1ToDisplayText(k[j]);null!=q&&(M.exptext=q)}return Object.keys(M).length>0?M:void 0}catch{return}},this._asn1ToNoticeRef=function(_){try{for(var M={},k=Ge(_,"seq"),j=0;j<k.length;j++){var U=this._asn1ToNoticeNum(k[j]);null!=U&&(M.noticenum=U);var q=this.asn1ToDisplayText(k[j]);null!=q&&(M.org=q)}return Object.keys(M).length>0?M:void 0}catch{return}},this._asn1ToNoticeNum=function(_){try{for(var M=Ge(_,"seq"),k=[],j=0;j<M.length;j++)k.push(parseInt(Ge(M[j],"int.hex"),16));return k}catch{return}},this.getDisplayText=function(_){var k={};return k.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[_.substr(0,2)],k.str=Ct(l(_,0)),k},this.asn1ToDisplayText=function(_){return null!=_.utf8str?{type:"utf8",str:_.utf8str.str}:null!=_.ia5str?{type:"ia5",str:_.ia5str.str}:null!=_.visstr?{type:"vis",str:_.visstr.str}:null!=_.bmpstr?{type:"bmp",str:_.bmpstr.str}:null!=_.prnstr?{type:"prn",str:_.prnstr.str}:void 0},this.getExtPolicyMappings=function(_,M){var k=this.getCriticalExtV("policyMappings",_,M);if(M=k[1],null!=(_=k[0])){var j={extname:"policyMappings"};M&&(j.critical=!0);try{for(var q=h(_).seq,V=[],$=0;$<q.length;$++){var K=q[$].seq;V.push([K[0].oid,K[1].oid])}j.array=V}catch{throw new L("malformed policyMappings")}return j}},this.getExtPolicyConstraints=function(_,M){var k=this.getCriticalExtV("policyConstraints",_,M);if(M=k[1],null!=(_=k[0])){var j={extname:"policyConstraints"};M&&(j.critical=!0);var U=h(_);try{for(var q=U.seq,V=0;V<q.length;V++){var $=q[V].tag;0==$.explicit&&("80"==$.tag&&(j.reqexp=parseInt($.hex,16)),"81"==$.tag&&(j.inhibit=parseInt($.hex,16)))}}catch{return new L("malformed policyConstraints value")}return j}},this.getExtInhibitAnyPolicy=function(_,M){var k=this.getCriticalExtV("inhibitAnyPolicy",_,M);if(M=k[1],null!=(_=k[0])){var j={extname:"inhibitAnyPolicy"};M&&(j.critical=!0);var U=x(_,0);return-1==U?new L("wrong value"):(j.skip=U,j)}},this.getExtCRLNumber=function(_,M){var k={extname:"cRLNumber"};if(M&&(k.critical=!0),"02"==_.substr(0,2))return k.num={hex:l(_,0)},k;throw new L("hExtV parse error: "+_)},this.getExtCRLReason=function(_,M){var k={extname:"cRLReason"};if(M&&(k.critical=!0),"0a"==_.substr(0,2))return k.code=parseInt(l(_,0),16),k;throw new Error("hExtV parse error: "+_)},this.getExtOcspNonce=function(_,M){var k={extname:"ocspNonce"};M&&(k.critical=!0);var j=l(_,0);return k.hex=j,k},this.getExtOcspNoCheck=function(_,M){var k={extname:"ocspNoCheck"};return M&&(k.critical=!0),k},this.getExtAdobeTimeStamp=function(_,M){if(void 0===_&&void 0===M){var k=this.getExtInfo("adobeTimeStamp");if(void 0===k)return;_=m(this.hex,k.vidx),M=k.critical}var j={extname:"adobeTimeStamp"};M&&(j.critical=!0);var U=u(_,0);if(U.length>1){var q=m(_,U[1]),V=this.getGeneralName(q);null!=V.uri&&(j.uri=V.uri)}if(U.length>2){var $=m(_,U[2]);"0101ff"==$&&(j.reqauth=!0),"010100"==$&&(j.reqauth=!1)}return j},this.getExtSubjectDirectoryAttributes=function(_,M){if(void 0===_&&void 0===M){var k=this.getExtInfo("subjectDirectoryAttributes");if(void 0===k)return;_=m(this.hex,k.vidx),M=k.critical}var j={extname:"subjectDirectoryAttributes"};M&&(j.critical=!0);try{for(var U=h(_),q=[],V=0;V<U.seq.length;V++){var $=U.seq[V],K=Ge($,"seq.0.oid"),Y=Ge($,"seq.1.set");if(null==K||null==Y)throw"error";q.push({attr:K,array:Y})}return j.array=q,j}catch{throw new Error("malformed subjectDirectoryAttributes extension value")}};var O=function(_){var M={};try{var j=g.asn1.x509.OID.name2oid(_.seq[0].oid);M.type=g.asn1.x509.OID.oid2atype(j);var U=_.seq[1];if(null!=U.utf8str)M.ds="utf8",M.value=U.utf8str.str;else if(null!=U.numstr)M.ds="num",M.value=U.numstr.str;else if(null!=U.telstr)M.ds="tel",M.value=U.telstr.str;else if(null!=U.prnstr)M.ds="prn",M.value=U.prnstr.str;else if(null!=U.ia5str)M.ds="ia5",M.value=U.ia5str.str;else if(null!=U.visstr)M.ds="vis",M.value=U.visstr.str;else{if(null==U.bmpstr)throw"error";M.ds="bmp",M.value=U.bmpstr.str}return M}catch{throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},G=function(_){try{return _.set.map(function(M){return O(M)})}catch(M){throw new Error("improper ASN.1 parsed RDN: "+M)}};this.getX500NameRule=function(_){for(var V=null,$=[],K=0;K<_.length;K++)for(var Y=_[K],le=0;le<Y.length;le++)$.push(Y[le]);for(K=0;K<$.length;K++){var he=$[K],fe=he.ds,Me=he.type;if("prn"!=fe&&"utf8"!=fe&&"ia5"!=fe)return"mixed";if("ia5"==fe){if("CN"!=Me)return"mixed";if(g.lang.String.isMail(he.value))continue;return"mixed"}if("C"==Me){if("prn"==fe)continue;return"mixed"}if(null==V)V=fe;else if(V!==fe)return"mixed"}return V??"prn"},this.getAttrTypeAndValue=function(_){var M=h(_);return O(M)},this.getRDN=function(_){var M=h(_);return G(M)},this.getX500NameArray=function(_){return function(_){try{return _.seq.map(function(M){return G(M)})}catch(M){throw new Error("improper ASN.1 parsed X500Name: "+M)}}(h(_))},this.getX500Name=function(_,M,k){var j=this.getX500NameArray(_),q={str:this.dnarraytostr(j)};return q.array=j,1==k&&(q.hex=_),1==M&&(q.canon=this.c14nRDNArray(j)),q},this.readCertPEM=function(_){this.readCertHex(R(_))},this.readCertHex=function(_){this.hex=_,this.getVersion();try{F(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(_){var M={};return null==_&&(_={}),M.version=this.getVersion(),M.serial={hex:this.getSerialNumberHex()},M.sigalg=this.getSignatureAlgorithmField(),M.issuer=this.getIssuer(_.dncanon,_.dnhex),M.notbefore=this.getNotBefore(),M.notafter=this.getNotAfter(),M.subject=this.getSubject(_.dncanon,_.dnhex),M.sbjpubkey=Ft(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(M.ext=this.getExtParamArray()),M.sighex=this.getSignatureValueHex(),1==_.tbshex&&(M.tbshex=b(this.hex,0,[0])),1==_.nodnarray&&(delete M.issuer.array,delete M.subject.array),M},this.getExtParamArray=function(_){null==_&&-1!=E(this.hex,0,[0,"[3]"])&&(_=T(this.hex,0,[0,"[3]",0],"30"));for(var k=[],j=u(_,0),U=0;U<j.length;U++){var q=m(_,j[U]),V=this.getExtParam(q);null!=V&&k.push(V)}return k},this.getExtParam=function(_){var j=u(_,0).length;if(2!=j&&3!=j)throw new Error("wrong number elements in Extension: "+j+" "+_);var U=I(v(_,0,[0],"06")),q=!1;3==j&&"0101ff"==b(_,0,[1])&&(q=!0);var V=b(_,0,[j-1,0]),$=void 0;if("2.5.29.14"==U?$=this.getExtSubjectKeyIdentifier(V,q):"2.5.29.15"==U?$=this.getExtKeyUsage(V,q):"2.5.29.17"==U?$=this.getExtSubjectAltName(V,q):"2.5.29.18"==U?$=this.getExtIssuerAltName(V,q):"2.5.29.19"==U?$=this.getExtBasicConstraints(V,q):"2.5.29.30"==U?$=this.getExtNameConstraints(V,q):"2.5.29.31"==U?$=this.getExtCRLDistributionPoints(V,q):"2.5.29.32"==U?$=this.getExtCertificatePolicies(V,q):"2.5.29.33"==U?$=this.getExtPolicyMappings(V,q):"2.5.29.35"==U?$=this.getExtAuthorityKeyIdentifier(V,q):"2.5.29.36"==U?$=this.getExtPolicyConstraints(V,q):"2.5.29.37"==U?$=this.getExtExtKeyUsage(V,q):"2.5.29.54"==U?$=this.getExtInhibitAnyPolicy(V,q):"1.3.6.1.5.5.7.1.1"==U?$=this.getExtAuthorityInfoAccess(V,q):"2.5.29.20"==U?$=this.getExtCRLNumber(V,q):"2.5.29.21"==U?$=this.getExtCRLReason(V,q):"2.5.29.9"==U?$=this.getExtSubjectDirectoryAttributes(V,q):"1.3.6.1.5.5.7.48.1.2"==U?$=this.getExtOcspNonce(V,q):"1.3.6.1.5.5.7.48.1.5"==U?$=this.getExtOcspNoCheck(V,q):"1.2.840.113583.1.1.9.1"==U?$=this.getExtAdobeTimeStamp(V,q):null!=ce.EXT_PARSER[U]&&($=ce.EXT_PARSER[U](U,q,V)),null!=$)return $;var K={extname:U,extn:V};try{K.extn=h(V)}catch{}return q&&(K.critical=!0),K},this.findExt=function(_,M){for(var k=0;k<_.length;k++)if(_[k].extname==M)return _[k];return null},this.updateExtCDPFullURI=function(_,M){var k=this.findExt(_,"cRLDistributionPoints");if(null!=k&&null!=k.array)for(var j=k.array,U=0;U<j.length;U++)if(null!=j[U].dpname&&null!=j[U].dpname.full)for(var q=j[U].dpname.full,V=0;V<q.length;V++){var $=q[U];null!=$.uri&&($.uri=M)}},this.updateExtAIAOCSP=function(_,M){var k=this.findExt(_,"authorityInfoAccess");if(null!=k&&null!=k.array)for(var j=k.array,U=0;U<j.length;U++)null!=j[U].ocsp&&(j[U].ocsp=M)},this.updateExtAIACAIssuer=function(_,M){var k=this.findExt(_,"authorityInfoAccess");if(null!=k&&null!=k.array)for(var j=k.array,U=0;U<j.length;U++)null!=j[U].caissuer&&(j[U].caissuer=M)},this.dnarraytostr=function(_){return"/"+_.map(function(j){return function M(j){return j.map(function(U){return function k(j){return j.type+"="+j.value}(U).replace(/\+/,"\\+")}).join("+")}(j).replace(/\//,"\\/")}).join("/")},this.setCanonicalizedDN=function(_){var M;if(null!=_.str&&null==_.array){var j=new g.asn1.x509.X500Name({str:_.str}).tohex();M=this.getX500NameArray(j)}else M=_.array;null==_.canon&&(_.canon=this.c14nRDNArray(M))},this.c14nRDNArray=function(_){for(var M=[],k=0;k<_.length;k++){for(var j=_[k],U=[],q=0;q<j.length;q++){var V=j[q],$=V.value;$=($=($=($=$.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),U.push(V.type.toLowerCase()+"="+$)}M.push(U.join("+"))}return"/"+M.join("/")},this.getInfo=function(){var q,V,$,_=function(_t){for(var Ue="",dt="    ",ct=_t.array,Pt=0;Pt<ct.length;Pt++){var Ze=ct[Pt];null!=Ze.dn&&(Ue+=dt+"dn: "+Ze.dn.str+"\n"),null!=Ze.ip&&(Ue+=dt+"ip: "+Ze.ip+"\n"),null!=Ze.rfc822&&(Ue+=dt+"rfc822: "+Ze.rfc822+"\n"),null!=Ze.dns&&(Ue+=dt+"dns: "+Ze.dns+"\n"),null!=Ze.uri&&(Ue+=dt+"uri: "+Ze.uri+"\n"),null!=Ze.other&&(Ue+=dt+"other: "+Ze.other.oid+"="+JSON.stringify(Ze.other.value).replace(/\"/g,"")+"\n")}return Ue.replace(/\n$/,"")},M=function(_t){for(var Ue="",dt=_t.array,at=0;at<dt.length;at++){var ct=dt[at];if(Ue+="    policy oid: "+ct.policyoid+"\n",void 0!==ct.array)for(var Pt=0;Pt<ct.array.length;Pt++){var Ze=ct.array[Pt];void 0!==Ze.cps&&(Ue+="    cps: "+Ze.cps+"\n")}}return Ue},k=function(_t){for(var Ue="",dt=_t.array,at=0;at<dt.length;at++){var ct=dt[at];try{void 0!==ct.dpname.full[0].uri&&(Ue+="    "+ct.dpname.full[0].uri+"\n")}catch{}try{void 0!==ct.dname.full[0].dn.hex&&(Ue+="    "+ce.hex2dn(ct.dpname.full[0].dn.hex)+"\n")}catch{}}return Ue},j=function(_t){for(var Ue="",dt=_t.array,at=0;at<dt.length;at++){var ct=dt[at];void 0!==ct.caissuer&&(Ue+="    caissuer: "+ct.caissuer+"\n"),void 0!==ct.ocsp&&(Ue+="    ocsp: "+ct.ocsp+"\n")}return Ue};if(q="Basic Fields\n",q+="  serial number: "+this.getSerialNumberHex()+"\n",q+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",q+="  issuer: "+this.getIssuerString()+"\n",q+="  notBefore: "+this.getNotBefore()+"\n",q+="  notAfter: "+this.getNotAfter()+"\n",q+="  subject: "+this.getSubjectString()+"\n",q+="  subject public key info: \n",q+="    key algorithm: "+(V=this.getPublicKey()).type+"\n","RSA"===V.type&&(q+="    n="+Fo(V.n.toString(16)).substr(0,16)+"...\n",q+="    e="+Fo(V.e.toString(16))+"\n"),null!=($=this.aExtInfo)){q+="X509v3 Extensions:\n";for(var K=0;K<$.length;K++){var Y=$[K],le=g.asn1.x509.OID.oid2name(Y.oid);""===le&&(le=Y.oid);var he="";if(!0===Y.critical&&(he="CRITICAL"),q+="  "+le+" "+he+":\n","basicConstraints"===le){var fe=this.getExtBasicConstraints();void 0===fe.cA?q+="    {}\n":(q+="    cA=true",void 0!==fe.pathLen&&(q+=", pathLen="+fe.pathLen),q+="\n")}else if("policyMappings"==le)q+="    "+this.getExtPolicyMappings().array.map(function(_t){return _t[0]+":"+_t[1]}).join(", ")+"\n";else if("policyConstraints"==le)q+="    ",null!=(_e=this.getExtPolicyConstraints()).reqexp&&(q+=" reqexp="+_e.reqexp),null!=_e.inhibit&&(q+=" inhibit="+_e.inhibit),q+="\n";else if("inhibitAnyPolicy"==le){var _e;q+="    skip="+(_e=this.getExtInhibitAnyPolicy()).skip+"\n"}else if("keyUsage"==le)q+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==le)q+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==le){var Ie=this.getExtAuthorityKeyIdentifier();void 0!==Ie.kid&&(q+="    kid="+Ie.kid.hex+"\n")}else"extKeyUsage"==le?q+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"==le?q+=_(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"==le?q+=k(this.getExtCRLDistributionPoints()):"authorityInfoAccess"==le?q+=j(this.getExtAuthorityInfoAccess()):"certificatePolicies"==le&&(q+=M(this.getExtCertificatePolicies()))}}return(q+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof s&&(-1!=s.indexOf("-----BEGIN")?this.readCertPEM(s):g.lang.String.isHex(s)&&this.readCertHex(s))}Re.getKey=function(s,c,u){var _,p=(l=J).getChildIdx,m=l.getVbyList,v=g.crypto,S=v.ECDSA,b=v.DSA,T=Se,F=Ve,E=Re;if(typeof T<"u"&&s instanceof T||typeof S<"u"&&s instanceof S||typeof b<"u"&&s instanceof b)return s;if(void 0!==s.curve&&void 0!==s.xy&&void 0===s.d)return new S({pub:s.xy,curve:s.curve});if(void 0!==s.curve&&void 0!==s.d)return new S({prv:s.d,curve:s.curve});if(void 0===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0===s.d)return(w=new T).setPublic(s.n,s.e),w;if(void 0===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0!==s.d&&void 0!==s.p&&void 0!==s.q&&void 0!==s.dp&&void 0!==s.dq&&void 0!==s.co&&void 0===s.qi)return(w=new T).setPrivateEx(s.n,s.e,s.d,s.p,s.q,s.dp,s.dq,s.co),w;if(void 0===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0!==s.d&&void 0===s.p)return(w=new T).setPrivate(s.n,s.e,s.d),w;if(void 0!==s.p&&void 0!==s.q&&void 0!==s.g&&void 0!==s.y&&void 0===s.x)return(w=new b).setPublic(s.p,s.q,s.g,s.y),w;if(void 0!==s.p&&void 0!==s.q&&void 0!==s.g&&void 0!==s.y&&void 0!==s.x)return(w=new b).setPrivate(s.p,s.q,s.g,s.y,s.x),w;if("RSA"===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0===s.d)return(w=new T).setPublic(We(s.n),We(s.e)),w;if("RSA"===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0!==s.d&&void 0!==s.p&&void 0!==s.q&&void 0!==s.dp&&void 0!==s.dq&&void 0!==s.qi)return(w=new T).setPrivateEx(We(s.n),We(s.e),We(s.d),We(s.p),We(s.q),We(s.dp),We(s.dq),We(s.qi)),w;if("RSA"===s.kty&&void 0!==s.n&&void 0!==s.e&&void 0!==s.d)return(w=new T).setPrivate(We(s.n),We(s.e),We(s.d)),w;if("EC"===s.kty&&void 0!==s.crv&&void 0!==s.x&&void 0!==s.y&&void 0===s.d){var y=(x=new S({curve:s.crv})).ecparams.keycharlen,I=("0000000000"+We(s.x)).slice(-y),C=("0000000000"+We(s.y)).slice(-y);return x.setPublicKeyHex(R="04"+I+C),x}if("EC"===s.kty&&void 0!==s.crv&&void 0!==s.x&&void 0!==s.y&&void 0!==s.d){y=(x=new S({curve:s.crv})).ecparams.keycharlen;var R="04"+(I=("0000000000"+We(s.x)).slice(-y))+(C=("0000000000"+We(s.y)).slice(-y)),P=("0000000000"+We(s.d)).slice(-y);return x.setPublicKeyHex(R),x.setPrivateKeyHex(P),x}if("pkcs5prv"===u){var O,L=s,l=J;if(9===(O=p(L,0)).length)(w=new T).readPKCS5PrvKeyHex(L);else if(6===O.length)(w=new b).readPKCS5PrvKeyHex(L);else{if(!(O.length>2&&"04"===L.substr(O[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(w=new S).readPKCS5PrvKeyHex(L)}return w}if("pkcs8prv"===u)return E.getKeyFromPlainPrivatePKCS8Hex(s);if("pkcs8pub"===u)return E._getKeyFromPublicPKCS8Hex(s);if("x509pub"===u)return ce.getPublicKeyFromCertHex(s);if(-1!=s.indexOf("-END CERTIFICATE-",0)||-1!=s.indexOf("-END X509 CERTIFICATE-",0)||-1!=s.indexOf("-END TRUSTED CERTIFICATE-",0))return ce.getPublicKeyFromCertPEM(s);if(-1!=s.indexOf("-END PUBLIC KEY-")){var G=Ve(s,"PUBLIC KEY");return E._getKeyFromPublicPKCS8Hex(G)}if(-1!=s.indexOf("-END RSA PRIVATE KEY-")&&-1==s.indexOf("4,ENCRYPTED")){var Z=F(s,"RSA PRIVATE KEY");return E.getKey(Z,null,"pkcs5prv")}if(-1!=s.indexOf("-END DSA PRIVATE KEY-")&&-1==s.indexOf("4,ENCRYPTED")){var M=m(_=F(s,"DSA PRIVATE KEY"),0,[1],"02"),k=m(_,0,[2],"02"),j=m(_,0,[3],"02"),U=m(_,0,[4],"02"),q=m(_,0,[5],"02");return(w=new b).setPrivate(new z(M,16),new z(k,16),new z(j,16),new z(U,16),new z(q,16)),w}if(-1!=s.indexOf("-END EC PRIVATE KEY-")&&-1==s.indexOf("4,ENCRYPTED"))return Z=F(s,"EC PRIVATE KEY"),E.getKey(Z,null,"pkcs5prv");if(-1!=s.indexOf("-END PRIVATE KEY-"))return E.getKeyFromPlainPrivatePKCS8PEM(s);if(-1!=s.indexOf("-END RSA PRIVATE KEY-")&&-1!=s.indexOf("4,ENCRYPTED")){var V=E.getDecryptedKeyHex(s,c),$=new Se;return $.readPKCS5PrvKeyHex(V),$}if(-1!=s.indexOf("-END EC PRIVATE KEY-")&&-1!=s.indexOf("4,ENCRYPTED")){var x,w=m(_=E.getDecryptedKeyHex(s,c),0,[1],"04"),K=m(_,0,[2,0],"06"),Y=m(_,0,[3,0],"03").substr(2);if(void 0===g.crypto.OID.oidhex2name[K])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+K);return(x=new S({curve:g.crypto.OID.oidhex2name[K]})).setPublicKeyHex(Y),x.setPrivateKeyHex(w),x.isPublic=!1,x}if(-1!=s.indexOf("-END DSA PRIVATE KEY-")&&-1!=s.indexOf("4,ENCRYPTED"))return M=m(_=E.getDecryptedKeyHex(s,c),0,[1],"02"),k=m(_,0,[2],"02"),j=m(_,0,[3],"02"),U=m(_,0,[4],"02"),q=m(_,0,[5],"02"),(w=new b).setPrivate(new z(M,16),new z(k,16),new z(j,16),new z(U,16),new z(q,16)),w;if(-1!=s.indexOf("-END ENCRYPTED PRIVATE KEY-"))return E.getKeyFromEncryptedPKCS8PEM(s,c);throw new Error("not supported argument")},Re.generateKeypair=function(s,c){if("RSA"==s){var u=c;(l=new Se).generate(u,"10001"),l.isPrivate=!0,l.isPublic=!0;var p=new Se,h=l.n.toString(16),m=l.e.toString(16);return p.setPublic(h,m),p.isPrivate=!1,p.isPublic=!0,(v={}).prvKeyObj=l,v.pubKeyObj=p,v}if("EC"==s){var l,v,S=c,T=new g.crypto.ECDSA({curve:S}).generateKeyPairHex();return(l=new g.crypto.ECDSA({curve:S})).setPublicKeyHex(T.ecpubhex),l.setPrivateKeyHex(T.ecprvhex),l.isPrivate=!0,l.isPublic=!1,(p=new g.crypto.ECDSA({curve:S})).setPublicKeyHex(T.ecpubhex),p.isPrivate=!1,p.isPublic=!0,(v={}).prvKeyObj=l,v.pubKeyObj=p,v}throw new Error("unknown algorithm: "+s)},Re.getPEM=function(s,c,u,l,p,h){var v=g.asn1,S=v.DERObjectIdentifier,b=v.DERInteger,T=v.ASN1Util.newObject,w=g.crypto,x=w.DSA,y=w.ECDSA,I=Se;function C($){return T({seq:[{int:0},{int:{bigint:$.n}},{int:$.e},{int:{bigint:$.d}},{int:{bigint:$.p}},{int:{bigint:$.q}},{int:{bigint:$.dmp1}},{int:{bigint:$.dmq1}},{int:{bigint:$.coeff}}]})}function R($){return T({seq:[{int:1},{octstr:{hex:$.prvKeyHex}},{tag:["a0",!0,{oid:{name:$.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+$.pubKeyHex}}]}]})}function P($){return T({seq:[{int:0},{int:{bigint:$.p}},{int:{bigint:$.q}},{int:{bigint:$.g}},{int:{bigint:$.y}},{int:{bigint:$.x}}]})}if((void 0!==I&&s instanceof I||void 0!==x&&s instanceof x||void 0!==y&&s instanceof y)&&1==s.isPublic&&(void 0===c||"PKCS8PUB"==c))return Ft(O=new(0,v.x509.SubjectPublicKeyInfo)(s).tohex(),"PUBLIC KEY");if("PKCS1PRV"==c&&void 0!==I&&s instanceof I&&(void 0===u||null==u)&&1==s.isPrivate)return Ft(O=C(s).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==c&&void 0!==y&&s instanceof y&&(void 0===u||null==u)&&1==s.isPrivate){var Z=new S({name:s.curveName}).tohex(),M=R(s).tohex(),k="";return(k+=Ft(Z,"EC PARAMETERS"))+Ft(M,"EC PRIVATE KEY")}if("PKCS1PRV"==c&&void 0!==x&&s instanceof x&&(void 0===u||null==u)&&1==s.isPrivate)return Ft(O=P(s).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==c&&void 0!==I&&s instanceof I&&void 0!==u&&null!=u&&1==s.isPrivate){var O=C(s).tohex();return void 0===l&&(l="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",O,u,l,h)}if("PKCS5PRV"==c&&void 0!==y&&s instanceof y&&void 0!==u&&null!=u&&1==s.isPrivate)return O=R(s).tohex(),void 0===l&&(l="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",O,u,l,h);if("PKCS5PRV"==c&&void 0!==x&&s instanceof x&&void 0!==u&&null!=u&&1==s.isPrivate)return O=P(s).tohex(),void 0===l&&(l="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",O,u,l,h);var j=function($,K){if("string"==typeof K)return Re.getEncryptedPKCS8PEM($,K);if("object"==typeof K&&null!=Ge(K,"passcode")){var Y=JSON.parse(JSON.stringify(K)),le=Y.passcode;return delete Y.passcode,Re.getEncryptedPKCS8PEM($,le,Y)}};if("PKCS8PRV"==c&&null!=I&&s instanceof I&&1==s.isPrivate){var q=C(s).tohex();return O=T({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:q}}]}).tohex(),void 0===u||null==u?Ft(O,"PRIVATE KEY"):j(O,u)}if("PKCS8PRV"==c&&void 0!==y&&s instanceof y&&1==s.isPrivate){var V={seq:[{int:1},{octstr:{hex:s.prvKeyHex}}]};return"string"==typeof s.pubKeyHex&&V.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+s.pubKeyHex}}]}),q=new T(V).tohex(),O=T({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:s.curveName}}]},{octstr:{hex:q}}]}).tohex(),void 0===u||null==u?Ft(O,"PRIVATE KEY"):j(O,u)}if("PKCS8PRV"==c&&void 0!==x&&s instanceof x&&1==s.isPrivate)return q=new b({bigint:s.x}).tohex(),O=T({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:s.p}},{int:{bigint:s.q}},{int:{bigint:s.g}}]}]},{octstr:{hex:q}}]}).tohex(),void 0===u||null==u?Ft(O,"PRIVATE KEY"):j(O,u);throw new Error("unsupported object nor format")},Re.getKeyFromCSRPEM=function(s){var c=Ve(s,"CERTIFICATE REQUEST");return Re.getKeyFromCSRHex(c)},Re.getKeyFromCSRHex=function(s){var c=Re.parseCSRHex(s);return Re.getKey(c.p8pubkeyhex,null,"pkcs8pub")},Re.parseCSRHex=function(s){var u=J.getChildIdx,l=J.getTLV,p={},h=s;if("30"!=h.substr(0,2))throw new Error("malformed CSR(code:001)");var m=u(h,0);if(m.length<1)throw new Error("malformed CSR(code:002)");if("30"!=h.substr(m[0],2))throw new Error("malformed CSR(code:003)");var v=u(h,m[0]);if(v.length<3)throw new Error("malformed CSR(code:004)");return p.p8pubkeyhex=l(h,v[2]),p},Re.getKeyID=function(s){var c=Re,u=J;"string"==typeof s&&-1!=s.indexOf("BEGIN ")&&(s=c.getKey(s));var l=Ve(c.getPEM(s)),p=u.getIdxbyList(l,0,[1]),h=u.getV(l,p).substring(2);return g.crypto.Util.hashHex(h,"sha1")},Re.getJWK=function(s,c,u,l,p){var h,v,m={},S=g.crypto.Util.hashHex;if("string"==typeof s)h=Re.getKey(s),-1!=s.indexOf("CERTIFICATE")&&(v=Ve(s));else{if("object"!=typeof s)throw new Error("unsupported keyinfo type");s instanceof ce?(h=s.getPublicKey(),v=s.hex):h=s}if(h instanceof Se&&h.isPrivate)m.kty="RSA",m.n=ot(h.n.toString(16)),m.e=ot(h.e.toString(16)),m.d=ot(h.d.toString(16)),m.p=ot(h.p.toString(16)),m.q=ot(h.q.toString(16)),m.dp=ot(h.dmp1.toString(16)),m.dq=ot(h.dmq1.toString(16)),m.qi=ot(h.coeff.toString(16));else if(h instanceof Se&&h.isPublic)m.kty="RSA",m.n=ot(h.n.toString(16)),m.e=ot(h.e.toString(16));else if(h instanceof g.crypto.ECDSA&&h.isPrivate){if("P-256"!==(b=h.getShortNISTPCurveName())&&"P-384"!==b&&"P-521"!==b)throw new Error("unsupported curve name for JWT: "+b);var T=h.getPublicKeyXYHex();m.kty="EC",m.crv=b,m.x=ot(T.x),m.y=ot(T.y),m.d=ot(h.prvKeyHex)}else if(h instanceof g.crypto.ECDSA&&h.isPublic){var b;if("P-256"!==(b=h.getShortNISTPCurveName())&&"P-384"!==b&&"P-521"!==b)throw new Error("unsupported curve name for JWT: "+b);T=h.getPublicKeyXYHex(),m.kty="EC",m.crv=b,m.x=ot(T.x),m.y=ot(T.y)}if(null==m.kty)throw new Error("unsupported keyinfo");return!h.isPrivate&&1!=c&&(m.kid=g.jws.JWS.getJWKthumbprint(m)),null!=v&&1!=u&&(m.x5c=[bn(v)]),null!=v&&1!=l&&(m.x5t=si(bn(S(v,"sha1")))),null!=v&&1!=p&&(m["x5t#S256"]=si(bn(S(v,"sha256")))),m},Re.getJWKFromKey=function(s){return Re.getJWK(s,!0,!0,!0,!0)},Se.getPosArrayOfChildrenFromHex=function(s){return J.getChildIdx(s,0)},Se.getHexValueArrayOfChildrenFromHex=function(s){var E,u=J.getV,l=u(s,(E=Se.getPosArrayOfChildrenFromHex(s))[0]),p=u(s,E[1]),h=u(s,E[2]),m=u(s,E[3]),v=u(s,E[4]),S=u(s,E[5]),b=u(s,E[6]),T=u(s,E[7]),F=u(s,E[8]);return(E=new Array).push(l,p,h,m,v,S,b,T,F),E},Se.prototype.readPrivateKeyFromPEMString=function(s){var c=Ve(s),u=Se.getHexValueArrayOfChildrenFromHex(c);this.setPrivateEx(u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8])},Se.prototype.readPKCS5PrvKeyHex=function(s){var c=Se.getHexValueArrayOfChildrenFromHex(s);this.setPrivateEx(c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8])},Se.prototype.readPKCS8PrvKeyHex=function(s){var c,u,l,p,h,m,v,S,T=J.getVbyListEx;if(!1===J.isASN1HEX(s))throw new Error("not ASN.1 hex string");try{c=T(s,0,[2,0,1],"02"),u=T(s,0,[2,0,2],"02"),l=T(s,0,[2,0,3],"02"),p=T(s,0,[2,0,4],"02"),h=T(s,0,[2,0,5],"02"),m=T(s,0,[2,0,6],"02"),v=T(s,0,[2,0,7],"02"),S=T(s,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(c,u,l,p,h,m,v,S)},Se.prototype.readPKCS5PubKeyHex=function(s){var c=J,u=c.getV;if(!1===c.isASN1HEX(s))throw new Error("keyHex is not ASN.1 hex string");var l=c.getChildIdx(s,0);if(2!==l.length||"02"!==s.substr(l[0],2)||"02"!==s.substr(l[1],2))throw new Error("wrong hex for PKCS#5 public key");var p=u(s,l[0]),h=u(s,l[1]);this.setPublic(p,h)},Se.prototype.readPKCS8PubKeyHex=function(s){var c=J;if(!1===c.isASN1HEX(s))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==c.getTLVbyListEx(s,0,[0,0]))throw new Error("not PKCS8 RSA public key");var u=c.getTLVbyListEx(s,0,[1,0]);this.readPKCS5PubKeyHex(u)},Se.prototype.readCertPubKeyHex=function(s,c){var u,l;(u=new ce).readCertHex(s),l=u.getPublicKeyHex(),this.readPKCS8PubKeyHex(l)},Se.prototype.sign=function(s,c){var l=function(p){return g.crypto.Util.hashString(p,c)}(s);return this.signWithMessageHash(l,c)},Se.prototype.signWithMessageHash=function(s,c){var l=xe(g.crypto.Util.getPaddedDigestInfoHex(s,c,this.n.bitLength()),16);return Nt(this.doPrivate(l).toString(16),this.n.bitLength())},Se.prototype.signPSS=function(s,c,u){var p=function(h){return g.crypto.Util.hashHex(h,c)}(ae(s));return void 0===u&&(u=-1),this.signWithMessageHashPSS(p,c,u)},Se.prototype.signWithMessageHashPSS=function(s,c,u){var v,l=Ct(s),p=l.length,h=this.n.bitLength()-1,m=Math.ceil(h/8),S=function(I){return g.crypto.Util.hashHex(I,c)};if(-1===u||void 0===u)u=p;else if(-2===u)u=m-p-2;else if(u<-2)throw new Error("invalid salt length");if(m<p+u+2)throw new Error("data too long");var b="";u>0&&(b=new Array(u),(new ge).nextBytes(b),b=String.fromCharCode.apply(String,b));var T=Ct(S(ae("\0\0\0\0\0\0\0\0"+l+b))),F=[];for(v=0;v<m-u-p-2;v+=1)F[v]=0;var E=String.fromCharCode.apply(String,F)+"\x01"+b,w=ke(T,E.length,S),x=[];for(v=0;v<E.length;v+=1)x[v]=E.charCodeAt(v)^w.charCodeAt(v);for(x[0]&=~(65280>>8*m-h&255),v=0;v<p;v++)x.push(T.charCodeAt(v));return x.push(188),Nt(this.doPrivate(new z(x)).toString(16),this.n.bitLength())},Se.prototype.verify=function(s,c){if(null==(c=c.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var u=xe(c,16),l=this.n.bitLength();if(u.bitLength()>l)return!1;var h=this.doPublic(u).toString(16);if(h.length+3!=l/4)return!1;var v=vr(h.replace(/^1f+00/,""));if(0==v.length)return!1;var S=v[0],b=v[1],F=function(E){return g.crypto.Util.hashString(E,S)}(s);return b==F},Se.prototype.verifyWithMessageHash=function(s,c){if(c.length!=Math.ceil(this.n.bitLength()/4))return!1;var u=xe(c,16);if(u.bitLength()>this.n.bitLength())return 0;var h=vr(this.doPublic(u).toString(16).replace(/^1f+00/,""));return 0!=h.length&&h[1]==s},Se.prototype.verifyPSS=function(s,c,u,l){var h=function(m){return g.crypto.Util.hashHex(m,u)}(ae(s));return void 0===l&&(l=-1),this.verifyWithMessageHashPSS(h,c,u,l)},Se.prototype.verifyWithMessageHashPSS=function(s,c,u,l){if(c.length!=Math.ceil(this.n.bitLength()/4))return!1;var T,p=new z(c,16),h=function(R){return g.crypto.Util.hashHex(R,u)},m=Ct(s),v=m.length,S=this.n.bitLength()-1,b=Math.ceil(S/8);if(-1===l||void 0===l)l=v;else if(-2===l)l=b-v-2;else if(l<-2)throw new Error("invalid salt length");if(b<v+l+2)throw new Error("data too long");var F=this.doPublic(p).toByteArray();for(T=0;T<F.length;T+=1)F[T]&=255;for(;F.length<b;)F.unshift(0);if(188!==F[b-1])throw new Error("encoded message does not end in 0xbc");var E=(F=String.fromCharCode.apply(String,F)).substr(0,b-v-1),w=F.substr(E.length,v),x=65280>>8*b-S&255;if(E.charCodeAt(0)&x)throw new Error("bits beyond keysize not zero");var y=ke(w,E.length,h),I=[];for(T=0;T<E.length;T+=1)I[T]=E.charCodeAt(T)^y.charCodeAt(T);I[0]&=~x;var C=b-v-l-2;for(T=0;T<C;T+=1)if(0!==I[T])throw new Error("leftmost octets not zero");if(1!==I[C])throw new Error("0x01 marker not found");return w===Ct(h(ae("\0\0\0\0\0\0\0\0"+m+String.fromCharCode.apply(String,I.slice(-l)))))},Se.SALT_LEN_HLEN=-1,Se.SALT_LEN_MAX=-2,Se.SALT_LEN_RECOVER=-2,ce.EXT_PARSER={},ce.registExtParser=function(s,c){ce.EXT_PARSER[s]=c},ce.hex2dn=function(s,c){void 0===c&&(c=0);var u=new ce;return J.getTLV(s,c),u.getX500Name(s).str},ce.hex2rdn=function(s,c){if(void 0===c&&(c=0),"31"!==s.substr(c,2))throw new Error("malformed RDN");for(var u=new Array,l=J.getChildIdx(s,c),p=0;p<l.length;p++)u.push(ce.hex2attrTypeValue(s,l[p]));return u=u.map(function(h){return h.replace("+","\\+")}),u.join("+")},ce.hex2attrTypeValue=function(s,c){var u=J,l=u.getV;if(void 0===c&&(c=0),"30"!==s.substr(c,2))throw new Error("malformed attribute type and value");var p=u.getChildIdx(s,c);2!==p.length||s.substr(p[0],2);var h=l(s,p[0]),m=g.asn1.ASN1Util.oidHexToInt(h);return g.asn1.x509.OID.oid2atype(m)+"="+Ct(l(s,p[1]))},ce.getPublicKeyFromCertHex=function(s){var c=new ce;return c.readCertHex(s),c.getPublicKey()},ce.getPublicKeyFromCertPEM=function(s){var c=new ce;return c.readCertPEM(s),c.getPublicKey()},ce.getPublicKeyInfoPropOfCertPEM=function(s){var p,h,u=J.getVbyList,l={algparam:null};return(p=new ce).readCertPEM(s),h=p.getPublicKeyHex(),l.keyhex=u(h,0,[1],"03").substr(2),l.algoid=u(h,0,[0,0],"06"),"2a8648ce3d0201"===l.algoid&&(l.algparam=u(h,0,[0,1],"06")),l},ce.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],(typeof g>"u"||!g)&&(g={}),(typeof g.jws>"u"||!g.jws)&&(g.jws={}),g.jws.JWS=function(){var u=g.jws.JWS.isSafeJSONString;this.parseJWS=function(l,p){if(void 0===this.parsedJWS||!p&&void 0===this.parsedJWS.sigvalH){var h=l.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==h)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var m=h[1],v=h[2],S=h[3],b=m+"."+v;if(this.parsedJWS={},this.parsedJWS.headB64U=m,this.parsedJWS.payloadB64U=v,this.parsedJWS.sigvalB64U=S,this.parsedJWS.si=b,!p){var T=We(S),F=xe(T,16);this.parsedJWS.sigvalH=T,this.parsedJWS.sigvalBI=F}var E=pn(m),w=pn(v);if(this.parsedJWS.headS=E,this.parsedJWS.payloadS=w,!u(E,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+E}}},g.jws.JWS.sign=function(s,c,u,l,p){var y,I,C,v=g.jws.JWS,S=v.readSafeJSONString,b=v.isSafeJSONString,T=g.crypto,E=T.Mac,w=T.Signature,x=JSON;if("string"!=typeof c&&"object"!=typeof c)throw"spHeader must be JSON string or object: "+c;if("object"==typeof c&&(y=x.stringify(I=c)),"string"==typeof c){if(!b(y=c))throw"JWS Head is not safe JSON string: "+y;I=S(y)}if(C=u,"object"==typeof u&&(C=x.stringify(u)),(""==s||null==s)&&void 0!==I.alg&&(s=I.alg),""!=s&&null!=s&&void 0===I.alg&&(I.alg=s,y=x.stringify(I)),s!==I.alg)throw"alg and sHeader.alg doesn't match: "+s+"!="+I.alg;var R=null;if(void 0===v.jwsalg2sigalg[s])throw"unsupported alg name: "+s;R=v.jwsalg2sigalg[s];var O=Jn(y)+"."+Jn(C),G="";if("Hmac"==R.substr(0,4)){if(void 0===l)throw"mac key shall be specified for HS* alg";var Z=new E({alg:R,prov:"cryptojs",pass:l});Z.updateString(O),G=Z.doFinal()}else if(-1!=R.indexOf("withECDSA")){(_=new w({alg:R})).init(l,p),_.updateString(O);var M=_.sign();G=g.crypto.ECDSA.asn1SigToConcatSig(M)}else if("none"!=R){var _;(_=new w({alg:R})).init(l,p),_.updateString(O),G=_.sign()}return O+"."+ot(G)},g.jws.JWS.verify=function(s,c,u){var F,h=g.jws.JWS,m=h.readSafeJSONString,v=g.crypto,S=v.ECDSA,b=v.Mac,T=v.Signature;if(F=Se,!Kt(s))return!1;var E=s.split(".");if(3!==E.length)return!1;var P,y=E[0]+"."+E[1],I=We(E[2]),C=m(pn(E[0])),R=null;if(void 0===C.alg)throw"algorithm not specified in header";if(P=(R=C.alg).substr(0,2),null!=u&&"[object Array]"===Object.prototype.toString.call(u)&&u.length>0&&-1==(":"+u.join(":")+":").indexOf(":"+R+":"))throw"algorithm '"+R+"' not accepted in the list";if("none"!=R&&null===c)throw"key shall be specified to verify.";if("string"==typeof c&&-1!=c.indexOf("-----BEGIN ")&&(c=Re.getKey(c)),!("RS"!=P&&"PS"!=P||c instanceof F))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==P&&!(c instanceof S))throw"key shall be a ECDSA obj for ES* algs";var O=null;if(void 0===h.jwsalg2sigalg[C.alg])throw"unsupported alg name: "+R;if("none"==(O=h.jwsalg2sigalg[R]))throw"not supported";if("Hmac"==O.substr(0,4)){if(void 0===c)throw"hexadecimal key shall be specified for HMAC";var Z=new b({alg:O,pass:c});return Z.updateString(y),I==Z.doFinal()}if(-1!=O.indexOf("withECDSA")){var M,_=null;try{_=S.concatSigToASN1Sig(I)}catch{return!1}return(M=new T({alg:O})).init(c),M.updateString(y),M.verify(_)}return(M=new T({alg:O})).init(c),M.updateString(y),M.verify(I)},g.jws.JWS.parse=function(s){var p,h,c=s.split("."),u={};if(2!=c.length&&3!=c.length)throw"malformed sJWS: wrong number of '.' splitted elements";return p=c[1],3==c.length&&(h=c[2]),u.headerObj=g.jws.JWS.readSafeJSONString(pn(c[0])),u.payloadObj=g.jws.JWS.readSafeJSONString(pn(p)),u.headerPP=JSON.stringify(u.headerObj,null,"  "),u.payloadPP=null==u.payloadObj?pn(p):JSON.stringify(u.payloadObj,null,"  "),void 0!==h&&(u.sigHex=We(h)),u},g.jws.JWS.verifyJWT=function(s,c,u){var p=g.jws,h=p.JWS,m=h.readSafeJSONString,v=h.inArray,S=h.includedArray;if(!Kt(s))return!1;var b=s.split(".");if(3!=b.length)return!1;var T=b[0],F=b[1],x=(We(b[2]),m(pn(T))),y=m(pn(F));if(void 0===x.alg)return!1;if(void 0===u.alg)throw"acceptField.alg shall be specified";if(!v(x.alg,u.alg)||void 0!==y.iss&&"object"==typeof u.iss&&!v(y.iss,u.iss)||void 0!==y.sub&&"object"==typeof u.sub&&!v(y.sub,u.sub))return!1;if(void 0!==y.aud&&"object"==typeof u.aud)if("string"==typeof y.aud){if(!v(y.aud,u.aud))return!1}else if("object"==typeof y.aud&&!S(y.aud,u.aud))return!1;var I=p.IntDate.getNow();return void 0!==u.verifyAt&&"number"==typeof u.verifyAt&&(I=u.verifyAt),(void 0===u.gracePeriod||"number"!=typeof u.gracePeriod)&&(u.gracePeriod=0),!(void 0!==y.exp&&"number"==typeof y.exp&&y.exp+u.gracePeriod<I||void 0!==y.nbf&&"number"==typeof y.nbf&&I<y.nbf-u.gracePeriod||void 0!==y.iat&&"number"==typeof y.iat&&I<y.iat-u.gracePeriod||void 0!==y.jti&&void 0!==u.jti&&y.jti!==u.jti||!h.verify(s,c,u.alg))},g.jws.JWS.includedArray=function(s,c){var u=g.jws.JWS.inArray;if(null===s||"object"!=typeof s||"number"!=typeof s.length)return!1;for(var l=0;l<s.length;l++)if(!u(s[l],c))return!1;return!0},g.jws.JWS.inArray=function(s,c){if(null===c||"object"!=typeof c||"number"!=typeof c.length)return!1;for(var u=0;u<c.length;u++)if(c[u]==s)return!0;return!1},g.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},g.jws.JWS.isSafeJSONString=function(s,c,u){var l=null;try{return"object"!=typeof(l=Ff(s))||l.constructor===Array?0:(c&&(c[u]=l),1)}catch{return 0}},g.jws.JWS.readSafeJSONString=function(s){var c=null;try{return"object"!=typeof(c=Ff(s))||c.constructor===Array?null:c}catch{return null}},g.jws.JWS.getEncodedSignatureValueFromJWS=function(s){var c=s.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==c)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return c[1]},g.jws.JWS.getJWKthumbprint=function(s){if("RSA"!==s.kty&&"EC"!==s.kty&&"oct"!==s.kty)throw"unsupported algorithm for JWK Thumprint";var c="{";if("RSA"===s.kty){if("string"!=typeof s.n||"string"!=typeof s.e)throw"wrong n and e value for RSA key";c+='"e":"'+s.e+'",',c+='"kty":"'+s.kty+'",',c+='"n":"'+s.n+'"}'}else if("EC"===s.kty){if("string"!=typeof s.crv||"string"!=typeof s.x||"string"!=typeof s.y)throw"wrong crv, x and y value for EC key";c+='"crv":"'+s.crv+'",',c+='"kty":"'+s.kty+'",',c+='"x":"'+s.x+'",',c+='"y":"'+s.y+'"}'}else if("oct"===s.kty){if("string"!=typeof s.k)throw"wrong k value for oct(symmetric) key";c+='"kty":"'+s.kty+'",',c+='"k":"'+s.k+'"}'}var u=ae(c);return ot(g.crypto.Util.hashHex(u,"sha256"))},g.jws.IntDate={},g.jws.IntDate.get=function(s){var c=g.jws.IntDate,u=c.getNow,l=c.getZulu;if("now"==s)return u();if("now + 1hour"==s)return u()+3600;if("now + 1day"==s)return u()+86400;if("now + 1month"==s)return u()+2592e3;if("now + 1year"==s)return u()+31536e3;if(s.match(/Z$/))return l(s);if(s.match(/^[0-9]+$/))return parseInt(s);throw"unsupported format: "+s},g.jws.IntDate.getZulu=function(s){return Ki(s)},g.jws.IntDate.getNow=function(){return~~(new Date/1e3)},g.jws.IntDate.intDate2UTCString=function(s){return new Date(1e3*s).toUTCString()},g.jws.IntDate.intDate2Zulu=function(s){var c=new Date(1e3*s);return("0000"+c.getUTCFullYear()).slice(-4)+("00"+(c.getUTCMonth()+1)).slice(-2)+("00"+c.getUTCDate()).slice(-2)+("00"+c.getUTCHours()).slice(-2)+("00"+c.getUTCMinutes()).slice(-2)+("00"+c.getUTCSeconds()).slice(-2)+"Z"},(typeof g>"u"||!g)&&(g={}),(typeof g.jws>"u"||!g.jws)&&(g.jws={}),g.jws.JWSJS=function(){var u=g.jws.JWS,l=u.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(p){this.init();var h=p.split(".");if(3!=h.length)throw"malformed input JWS";this.aHeader.push(h[0]),this.sPayload=h[1],this.aSignature.push(h[2])},this.addSignature=function(p,h,m,v){if(null==this.sPayload)throw"there's no JSON-JS signature to add.";var S=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var T=g.jws.JWS.sign(p,h,this.sPayload,m,v).split(".");this.aHeader.push(T[0]),this.aSignature.push(T[2])}catch(w){throw this.aHeader.length>S&&this.aHeader.pop(),this.aSignature.length>S&&this.aSignature.pop(),"addSignature failed: "+w}},this.verifyAll=function(p){if(this.aHeader.length!==p.length||this.aSignature.length!==p.length)return!1;for(var h=0;h<p.length;h++){var m=p[h];if(2!==m.length)return!1;if(!1===this.verifyNth(h,m[0],m[1]))return!1}return!0},this.verifyNth=function(p,h,m){if(this.aHeader.length<=p||this.aSignature.length<=p)return!1;var b=this.aHeader[p]+"."+this.sPayload+"."+this.aSignature[p],T=!1;try{T=u.verify(b,h,m)}catch{return!1}return T},this.readJWSJS=function(p){if("string"==typeof p){var h=l(p);if(null==h)throw"argument is not safe JSON object string";this.aHeader=h.headers,this.sPayload=h.payload,this.aSignature=h.signatures}else try{if(!(p.headers.length>0))throw"malformed header";if(this.aHeader=p.headers,"string"!=typeof p.payload)throw"malformed signatures";if(this.sPayload=p.payload,!(p.signatures.length>0))throw"malformed signatures";this.aSignature=p.signatures}catch(m){throw"malformed JWS-JS JSON object: "+m}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},Va.pj=g}},Ha=>{Ha(Ha.s=958)}]);